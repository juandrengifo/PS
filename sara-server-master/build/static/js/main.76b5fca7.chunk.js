(this.webpackJsonpsara_app=this.webpackJsonpsara_app||[]).push([[0],{100:function(e,t,a){e.exports={container:"SInfoPanel_container__9gJML",infoText:"SInfoPanel_infoText__19t9A",label:"SInfoPanel_label__2j784"}},101:function(e,t,a){e.exports={bgWhite:"SPPassButton_bgWhite__5Ltrk",btn:"SPPassButton_btn__194iE",btnInv:"SPPassButton_btnInv__1o0Ms",icon:"SPPassButton_icon__3VFz4"}},102:function(e,t,a){e.exports={container:"STField_container__kHP5P",optionCol:"STField_optionCol__2DSLX",optionRow:"STField_optionRow__2-rBu",title:"STField_title__2uhn3",subtitle:"STField_subtitle__ZguRN"}},111:function(e,t,a){e.exports={comment:"SComments_comment__2BuSV",commentContainer:"SComments_commentContainer__2OKNy",container:"SComments_container__3G_Ox",date:"SComments_date__1ookR"}},112:function(e,t,a){e.exports={btnContainer:"SPasswordRecover_btnContainer__3gMeU",container:"SPasswordRecover_container__2-BNE",doneMessage:"SPasswordRecover_doneMessage__O9IDS",infoText:"SPasswordRecover_infoText__1bbvb"}},113:function(e,t,a){e.exports={container:"SFooterBar_container__1gSB7",copyright:"SFooterBar_copyright__ESh8s",innerContainer:"SFooterBar_innerContainer__1lM3b",logo:"SFooterBar_logo__2D-6T"}},114:function(e,t,a){e.exports={container:"SPCollectionsPage_container__3W7c6",score:"SPCollectionsPage_score__3fwFX",scoreIcon:"SPCollectionsPage_scoreIcon__1VAHF",title:"SPCollectionsPage_title__auwrN"}},115:function(e,t,a){e.exports={col:"SPCollection_col__2K7XX",container:"SPCollection_container__27A6j",rowContainer:"SPCollection_rowContainer__29q42",title:"SPCollection_title__3Uf03"}},116:function(e,t,a){e.exports={container:"STOption_container__2b_7b",inner:"STOption_inner__1PEEH",name:"STOption_name__oY1xP",selected:"STOption_selected__14b_j"}},117:function(e,t,a){e.exports={marginTop:"SSearch_marginTop__lV0l0",search:"SSearch_search__BEsUo",searchContainer:"SSearch_searchContainer__3Dpat",searchIcon:"SSearch_searchIcon__3B77W"}},118:function(e,t,a){e.exports={btnCreate:"SAUsersPage_btnCreate__3E2Im",listContainer:"SAUsersPage_listContainer__KhrhP",title:"SAUsersPage_title__ePhGC",toolsContainer:"SAUsersPage_toolsContainer__2f4UM"}},119:function(e,t,a){e.exports={container:"SAUpdateUserPage_container__33K79",formContainer:"SAUpdateUserPage_formContainer__2_Iev",title:"SAUpdateUserPage_title__zc6GE",userData:"SAUpdateUserPage_userData__1NyED"}},139:function(e,t,a){e.exports={body:"SModal_body__KRael",modal:"SModal_modal__EefRS",title:"SModal_title__rzR2g"}},140:function(e,t,a){e.exports={absolute:"SVideo_absolute__39LAH",container:"SVideo_container__LFvgA",video:"SVideo_video__2EZSC"}},141:function(e,t,a){e.exports={container:"SFeatures_container__TuY4d",innerContainer:"SFeatures_innerContainer__1T4yv",title:"SFeatures_title__2D6NC"}},142:function(e,t,a){e.exports={container:"STLayout_container__3lOal",outerContainer:"STLayout_outerContainer__nbEQl",rowContainer:"STLayout_rowContainer__ObmR8"}},143:function(e,t,a){e.exports={container:"SPLayout_container__3A-ua",outerContainer:"SPLayout_outerContainer__1BQ8D",rowContainer:"SPLayout_rowContainer__2WCxn"}},144:function(e,t,a){e.exports={btnContainer:"SPassword_btnContainer__1l-cK",container:"SPassword_container__2IKTu"}},145:function(e,t,a){e.exports={btn:"STMechanics_btn__Tqd2i",container:"STMechanics_container__1tM1K",selected:"STMechanics_selected__2D98J"}},178:function(e,t,a){e.exports={container:"SEmpty_container__17HkQ",text:"SEmpty_text__7_-8I"}},179:function(e,t,a){e.exports={carousel:"STAvatarPanel_carousel__13Etq",container:"STAvatarPanel_container__1VzPC"}},180:function(e,t,a){e.exports={border:"SCarousel_border__23GFp",style:"SCarousel_style__4G1i5"}},181:function(e,t,a){e.exports={container:"SAvatarItem_container__SylU4",image:"SAvatarItem_image__GThs2"}},182:function(e,t,a){e.exports={listContainer:"SPActivitiesPage_listContainer__1zQ0g",title:"SPActivitiesPage_title__st4Q8"}},183:function(e,t,a){e.exports={container:"STFeedbackPage_container__3IMrm",title:"STFeedbackPage_title__cOZYB"}},184:function(e,t,a){e.exports={completeInput:"SDatePicker_completeInput__3Qnnh",input:"SDatePicker_input__186S_"}},234:function(e,t,a){e.exports={style:"SMenuLink_style__3mouR"}},238:function(e,t,a){e.exports={btnClose:"SPPlayPage_btnClose__3bovR",closeContainer:"SPPlayPage_closeContainer__prnKn",container:"SPPlayPage_container__1JXN7"}},239:function(e,t,a){e.exports={container:"STEvolution_container__1JFiX"}},240:function(e,t,a){e.exports={container:"STSessions_container__tZ9Rz"}},241:function(e,t,a){e.exports={container:"STHistorical_container__3XXqi"}},25:function(e,t,a){e.exports={container:"Charts_container__3RhdX",description:"Charts_description__2a5hw",mt20:"Charts_mt20__3ckh6",percentage:"Charts_percentage__bjF4d",phrasePercentage:"Charts_phrasePercentage__vJ19C",score:"Charts_score___ZO4Z",subtitle:"Charts_subtitle__15rOk",title:"Charts_title__3d5vo",word:"Charts_word__2sd5u",wordsContainer:"Charts_wordsContainer__1Nt_G"}},251:function(e,t,a){},254:function(e,t,a){},306:function(e,t){},32:function(e,t,a){e.exports={btn:"STPatient_btn__2j08s",btnActive:"STPatient_btnActive__1pd4a",link:"STPatient_link__tNTSf",container:"STPatient_container__2X2DS",height:"STPatient_height__1E83-",padding:"STPatient_padding__T-Vv2",thumb:"STPatient_thumb__1_vlU",uimage:"STPatient_uimage__3am3r",uinfo:"STPatient_uinfo__2X0Mb",uname:"STPatient_uname__v9FdO"}},40:function(e,t,a){e.exports={btn:"STACustomizer_btn__36HiN",col:"STACustomizer_col__3fIsC",container:"STACustomizer_container__3fiR_",header:"STACustomizer_header__2M7hK",rounded:"STACustomizer_rounded__3mSP5",selected:"STACustomizer_selected__1PA7P",title:"STACustomizer_title__90vX_"}},41:function(e,t,a){e.exports={container:"STActivitiesPage_container__Dkttc",btnDisabled:"STActivitiesPage_btnDisabled__2yMps",listContainer:"STActivitiesPage_listContainer__3H82W",link:"STActivitiesPage_link__Zp_iB",title:"STActivitiesPage_title__3hloJ",titleContainer:"STActivitiesPage_titleContainer__15GGo",btn:"STActivitiesPage_btn__10Nfo",btnContainer:"STActivitiesPage_btnContainer___q4t_"}},45:function(e,t,a){e.exports={buttons:"SMobileAvatar_buttons__18icT",buttonIcon:"SMobileAvatar_buttonIcon__2LFyT",container:"SMobileAvatar_container__Dg-y0",image:"SMobileAvatar_image__kQP3-",innerButtons:"SMobileAvatar_innerButtons__OW3K8",innerContainer:"SMobileAvatar_innerContainer__27HDI",message:"SMobileAvatar_message__1VqAb",triangle:"SMobileAvatar_triangle__1obyN"}},46:function(e,t,a){e.exports={btn:"SHero_btn__ed6WQ",btnContainer:"SHero_btnContainer__1PllE",container:"SHero_container__3qLwg",innerContainer:"SHero_innerContainer__1OoLy",link:"SHero_link__2NUmS",outerContainer:"SHero_outerContainer__3f7_s",subtitle:"SHero_subtitle__eo5s7",title:"SHero_title__qCU9U"}},468:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),i=a(34),r=a.n(i),c=(a(251),a(252),a(253),a(7)),o=a(8),l=a(11),u=a(10),d=a(9),p=(a(254),a(28)),h=a(495),b=a(14),j="REMOVE_ACTIVITY",m="SET_ACTIVITIES",v="SET_ACTIVITY",f="SET_SELECTED_SESSION",O="SET_SESSIONS",g="UPDATE_ACTIVITY",_="SET_PATIENT_TOKEN",x="SET_THERAPIST_TOKEN",k="SET_AVATAR_MESSAGE",y="SET_AVATAR_VARIATION",S="SET_AVATAR_VARIATIONS",C="RESET_CONFIGURATION",N="SET_CONFIGURATION",w="RESET_DYNAMIC_OPTIONS",I="SET_DYNAMIC_OPTIONS",A="SET_DYNAMIC_SELECTED_OPTIONS",T="ADD_STATIC_SELECTED_OPTION",P="RESET_STATIC_OPTIONS",D="SET_STATIC_OPTIONS",E="SET_STATIC_SELECTED_OPTIONS",M="SET_COLLECTIONS",U="SET_COLLECTABLE",L="SET_USER_SKINS_OWNED",R="SET_USER_SKIN_OWNED",F="SET_CHECK_SERVER_STATUS",B="SET_CONNECTED_ID",z="SET_CONNECT_SOCKET",q="SET_FEEDBACK_DATA",W="SET_FEEDBACK_DATE",H="REMOVE_PATIENT",V="SET_PATIENT",G="SET_PATIENTS",K="SET_SELECTED_PATIENT",X="SET_BAR",Z="SET_FULLSCREEN",Y="SET_MODAL",J="SET_NOTIFICATION",Q="SET_PARALLAX",$="SET_V_OFFSET",ee="SET_WINDOW_WIDTH",te="SHOW_AVATAR",ae="SHOW_CREATE_ACTIVITY_BUTTON",ne="SHOW_MOBILE_MENU",se="SET_USER",ie="SET_USERS",re="SET_TO_UPDATE",ce=function(e){return function(t){t({type:X,payload:{bar:e}})}},oe=function(e){return function(t){t({type:Z,payload:{fullScreen:e}})}},le=function(e){return function(t){t({type:Y,payload:{modal:e}})}},ue=function(e){return function(t){t({type:J,payload:{notification:e}})}},de=function(e){return function(t){t({type:Q,payload:{parallax:e}})}},pe=function(e){return function(t){t({type:te,payload:{show:e}})}},he=function(e){return function(t){t({type:ae,payload:{show:e}})}},be=function(e){return function(t){t({type:ne,payload:{show:e}})}},je=a(4),me=a.n(je),ve=a(13),fe=a(21),Oe=a.n(fe),ge="https://satrelo-qa.ddns.net/file",_e="https://satrelo-qa.ddns.net",xe=function(e){return function(t){t({type:B,payload:{connectedId:e}})}},ke=function(){function e(){if(Object(c.a)(this,e),e.instance instanceof e)return e.instance;this.synthesis=window.speechSynthesis,this.utterance=null,this.utteranceIndex=0,this.voice=null,e.instance=this}return Object(o.a)(e,[{key:"init",value:function(){var e=Object(ve.a)(me.a.mark((function e(t){var a,n=this;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setVoices();case 2:a=e.sent,a.voices.forEach((function(e){e.lang===t&&(n.voice=e)}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isSpeaking",value:function(){return this.synthesis.speaking}},{key:"setVoices",value:function(){var e=this;return new Promise((function(t){var a=setInterval((function(){var n=e.synthesis.getVoices();0!==n.length&&(t({voices:n}),clearInterval(a))}))}))}},{key:"setVolume",value:function(e){this.synthesis.cancel();var t=this.utterance.text.slice(this.utteranceIndex);this.utterance=null,this.speak(t,e)}},{key:"speak",value:function(e,t){var a=this;e&&(this.utterance=new SpeechSynthesisUtterance(e),this.utterance.lang="es-MX",this.utterance.voice=this.voice,this.utterance.rate=1,this.utterance.pitch=1,this.utterance.volume=t,this.utterance.onboundary=function(e){"word"===e.name&&(a.utteranceIndex=e.charIndex)},this.synthesis.speak(this.utterance,(function(){a.utterance=null})))}}]),e}(),ye=new ke,Se=ye,Ce=a(232),Ne=a.n(Ce),we=function(){function e(){if(Object(c.a)(this,e),e.instance instanceof e)return e.instance;this.socketURL="https://satrelo-qa.ddns.net",this.socketClient=null,this.heartbeat=null,e.instance=this}return Object(o.a)(e,[{key:"connectSocket",value:function(e,t){this.socketClient||(this.socketClient=Ne.a.connect(this.socketURL,{reconnection:!1}),this.socketClient.emit("register",{userId:e}),this.handleSocketEvents(t))}},{key:"closeSocket",value:function(e){this.socketClient&&(this.socketClient=null,e.props.setConnectedId(null),e.props.connectSocket&&e.props.setConnectSocket(!1))}},{key:"disconnectSocket",value:function(e){this.socketClient&&(this.socketClient.emit("unregister",{userId:e}),this.socketClient.disconnect())}},{key:"handleConnection",value:function(e,t){var a=e.connectSocket,n=e.connectedId;a?this.connectSocket(n,t):this.disconnectSocket(n)}},{key:"handleSocketEvents",value:function(e){var t=this;this.socketClient.on("disconnect",(function(){console.log("Socket desconectado!"),t.closeSocket(e),clearInterval(t.heartbeat)})),this.socketClient.on("error",(function(){t.closeSocket(e)})),this.socketClient.on("avatar_message",(function(e){console.log(e)})),this.socketClient.on("beat",(function(){console.log("beat")})),this.socketClient.on("exit_game",(function(t){console.log(t),e.props.setFullScreen(!1)})),this.socketClient.on("registered",(function(){t.heartbeat=setInterval((function(){t.socketClient.emit("heart")}),3e3)}))}}]),e}(),Ie=new we,Ae=Ie,Te=function(){function e(t){Object(c.a)(this,e),this.context=t,this.interval=null}return Object(o.a)(e,[{key:"checkServerStatus",value:function(e,t,a){var n=this;e?this.interval=setInterval(Object(ve.a)(me.a.mark((function e(){var s,i,r,c;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.context.props.ping(t);case 2:s=e.sent,i=s.error,r=s.status,c=i?{error:i,status:r}:null,t?n.handleGameServerStatus():n.handleServerStatus(c,a);case 7:case"end":return e.stop()}}),e)}))),3e3):this.clearInterval()}},{key:"clearInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this.interval&&(clearInterval(this.interval),this.interval=null)}))},{key:"handleServerStatus",value:function(e,t){var a=this.context.props,n=a.connection,s=a.ui;if(e){var i=e.status;if(500===i){s.notification||a.setNotification({error:!0,message:"\xa1El servidor est\xe1 desconectado!",serverStatus:!0,slide:!1})}else 401===i&&console.log("\xa1Token inv\xe1lido!")}else t.handleConnection(n,this.context),s.notification&&s.notification.serverStatus&&a.setNotification(null)}},{key:"handleGameServerStatus",value:function(){}}]),e}(),Pe=Te,De=a(54),Ee=a.n(De),Me=a(233),Ue=a(0),Le="/images/avatar/am1_cafe_negro_azul.png",Re=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={avatar_img:Le,soundEnabled:!0,showMessage:!0},n.onMessageClicked=n.onMessageClicked.bind(Object(l.a)(n)),n.onRepeatClicked=n.onRepeatClicked.bind(Object(l.a)(n)),n.onSoundClicked=n.onSoundClicked.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.soundEnabled,a=e.showMessage,n=this.props.auth.pacienteToken?this.state.avatar_img:Le;return Object(Ue.jsxs)("div",{className:Ee.a.container,children:[Object(Ue.jsx)("img",{className:Ee.a.image,alt:"",src:n}),Object(Ue.jsx)("div",{className:"flex ".concat(Ee.a.buttons),children:Object(Ue.jsxs)("div",{className:"flex ".concat(Ee.a.innerButtons),children:[Object(Ue.jsx)(Me.a,{className:"ghost-btn",onClick:this.onSoundClicked,children:Object(Ue.jsx)("img",{alt:"",className:Ee.a.buttonIcon,src:"/images/other/sound_".concat(t?"enabled":"disabled",".png")})}),Object(Ue.jsx)(Me.a,{className:"ghost-btn",onClick:this.onMessageClicked,children:Object(Ue.jsx)("img",{alt:"",className:Ee.a.buttonIcon,src:"/images/other/message_".concat(a?"enabled":"disabled",".png")})}),Object(Ue.jsx)(Me.a,{className:"ghost-btn",onClick:this.onRepeatClicked,children:Object(Ue.jsx)("img",{alt:"",className:Ee.a.buttonIcon,src:"/images/other/repeat.png"})})]})}),Object(Ue.jsx)("div",{className:Ee.a.message,children:a&&this.props.avatar.message}),Object(Ue.jsx)("div",{className:Ee.a.triangle})]})}},{key:"componentDidMount",value:function(){this.setTherapistAvatar(),this.speak()}},{key:"componentDidUpdate",value:function(e){this.setTherapistAvatar(),e.avatar.message!==this.props.avatar.message&&this.speak()}},{key:"onMessageClicked",value:function(){this.setState({showMessage:!this.state.showMessage})}},{key:"onRepeatClicked",value:function(){this.speak()}},{key:"onSoundClicked",value:function(){var e=this;this.setState({soundEnabled:!this.state.soundEnabled},(function(){if(Se.isSpeaking()){var t=e.state.soundEnabled?1:0;Se.setVolume(t)}}))}},{key:"setTherapistAvatar",value:function(){var e=this.props.user;if(e&&e.Therapists){var t=Object.values(e.Therapists);if(t.length>0){var a="https://satrelo-qa.ddns.net"+t[0].Avatar_Variation.img_path;this.state.avatar_img!==a&&this.setState({avatar_img:a})}}}},{key:"speak",value:function(){var e=this.state.soundEnabled?1:0;Se.speak(this.props.avatar.message,e)}}]),a}(n.Component),Fe=Object(b.b)((function(e){return{auth:e.auth,avatar:e.avatar,user:e.user.user}}))(Re),Be=Fe,ze=a(64),qe=a.n(ze),We=a(31),He=a(30),Ve=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.notification,t=e.error,a=e.message,n=e.slide,s=this.props,i=s.parallax,r=s.windowWidth,c=t?He.c:He.e,o=t?qe.a.error:qe.a.success,l=r>=768?qe.a.containerDesktop:qe.a.containerMobile,u=r>=768?-368:-200;n||(u=r>=768?-1:0);var d=i?"":qe.a.border;return Object(Ue.jsxs)("div",{className:"".concat(qe.a.container," ").concat(l," ").concat(d," flex"),style:{"--finalSlide":"".concat(u,"px")},children:[Object(Ue.jsx)("div",{className:"flex ".concat(qe.a.iconContainer," ").concat(o),children:Object(Ue.jsx)(We.a,{icon:c,size:"3x"})}),Object(Ue.jsx)("span",{className:qe.a.message,children:a})]})}},{key:"componentDidMount",value:function(){var e=this;this.props.notification.slide&&setTimeout((function(){e.props.setNotification(null)}),6001)}}]),a}(n.Component),Ge={setNotification:ue},Ke=Object(b.b)((function(e){return{notification:e.ui.notification,parallax:e.ui.parallax,windowWidth:e.ui.windowWidth}}),Ge)(Ve),Xe=Ke,Ze=a(96),Ye=a.n(Ze),Je=a(480),Qe=a(481),$e=a(245),et=a(84),tt=a.n(et),at=a(24),nt=a(472),st=a(473),it=a(474),rt=a(475),ct=function(e){var t=Object(n.useState)(!1),a=Object($e.a)(t,2),s=a[0],i=a[1],r=function(){e.windowWidth<=768&&i(!s)};return Object(Ue.jsxs)("span",{className:tt.a.container,children:[Object(Ue.jsx)(nt.a,{className:tt.a.toggler,onClick:r}),Object(Ue.jsx)(st.a,{className:tt.a.collapse,isOpen:s,navbar:!0,children:Object(Ue.jsx)(it.a,{className:tt.a.nav,navbar:!0,children:Object(Ue.jsx)(rt.a,{className:tt.a.navItem,children:Object(Ue.jsx)(at.b,{className:tt.a.link,onClick:r,to:"/",children:"Inicio"})})})})]})},ot=ct,lt=a(55),ut=a.n(lt),dt="paciente",pt="terapeuta",ht=a(56),bt=a.n(ht),jt=a(476),mt=a(477),vt=a(478),ft=a(479),Ot=a(85),gt=a.n(Ot),_t=function(e){return Object(Ue.jsxs)("div",{className:"flex ".concat(gt.a.container),children:[e.user.profile_img?Object(Ue.jsx)("img",{alt:"",className:gt.a.image,src:"".concat("https://satrelo-qa.ddns.net").concat(e.user.profile_img)}):Object(Ue.jsx)("div",{className:"flex ".concat(gt.a.image," ").concat(gt.a.thumb),style:{backgroundColor:e.user.color},children:e.user.thumbnail_alias}),Object(Ue.jsxs)("span",{className:gt.a.name,children:[e.user.name," ",e.user.last_name]}),Object(Ue.jsx)("span",{className:gt.a.email,children:e.user.email})]})},xt=_t,kt=a(234),yt=a.n(kt),St=a(3),Ct="https://satrelo-qa.ddns.net/api",Nt=function(e,t){return function(){var a=Object(ve.a)(me.a.mark((function a(n){var s,i,r,c,o,l,u,d,p,h;return me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s="".concat(Ct,"/auth/login"),e=Object(St.a)(Object(St.a)({},e),{},{role:t}),a.prev=2,a.next=5,Oe.a.post(s,{credentials:e});case 5:return i=a.sent,r=i.data,c=r.data,o=r.message,l=r.status,u=i.headers,d=200===l?u["auth-token"]:null,p=200===l?c.id:null,h=200!==l,n({type:t===dt?_:x,payload:{token:d}}),localStorage.setItem("".concat(t,"Token"),d),a.abrupt("return",{error:h,message:o,userId:p});case 15:return a.prev=15,a.t0=a.catch(2),a.abrupt("return",{error:!0,message:"Hubo un error de conexi\xf3n. Int\xe9ntalo m\xe1s tarde...",userId:null});case 18:case"end":return a.stop()}}),a,null,[[2,15]])})));return function(e){return a.apply(this,arguments)}}()},wt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onLinkClicked=n.onLinkClicked.bind(Object(l.a)(n)),n.onLogout=n.onLogout.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){return Object(Ue.jsx)(at.b,{className:yt.a.style,to:this.props.to,onClick:this.onLinkClicked,children:this.props.children})}},{key:"onLinkClicked",value:function(){this.props.onClick&&this.props.onClick(),"logout"===this.props.type&&this.onLogout()}},{key:"onLogout",value:function(){var e=this.props.role;this.props.logout(e)}}]),a}(n.Component),It={logout:function(e){return function(t){t({type:e===dt?_:x,payload:{token:null}}),localStorage.removeItem("".concat(e,"Token"))}}},At=Object(b.b)(null,It)(wt),Tt=At,Pt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isOpen:!1},n.toggle=n.toggle.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.user,t=e.id,a=e.Role.name;return Object(Ue.jsxs)(jt.a,{className:bt.a.container,isOpen:this.state.isOpen,toggle:this.toggle,children:[Object(Ue.jsxs)(mt.a,{className:"flex ghost-btn ".concat(bt.a.toggle),children:[Object(Ue.jsx)("span",{className:bt.a.name,children:this.props.user.name}),this.props.user.profile_img?Object(Ue.jsx)("img",{alt:"",className:bt.a.image,src:"".concat("https://satrelo-qa.ddns.net").concat(this.props.user.profile_img)}):Object(Ue.jsx)("div",{className:"flex ".concat(bt.a.image," ").concat(bt.a.thumb),style:{backgroundColor:this.props.user.color},children:this.props.user.thumbnail_alias})]}),Object(Ue.jsxs)(vt.a,{className:bt.a.menu,children:[Object(Ue.jsx)(ft.a,{header:!0,children:Object(Ue.jsx)(xt,{user:this.props.user})}),Object(Ue.jsx)(ft.a,{divider:!0}),a===pt?Object(Ue.jsx)("span",{children:Object(Ue.jsx)(ft.a,{className:bt.a.item,children:Object(Ue.jsx)(Tt,{to:"/".concat(a,"/").concat(t,"/perfil"),children:"Perfil"})})}):null,Object(Ue.jsx)(ft.a,{className:bt.a.item,children:Object(Ue.jsx)(Tt,{role:a,to:"/".concat(a),type:"logout",children:"Salir"})})]})]})}},{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}}]),a}(n.Component),Dt=Object(b.b)((function(e){return{user:e.user.user}}))(Pt),Et=Dt,Mt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onMenuButtonClicked=n.onMenuButtonClicked.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.user,t=e.id,a=e.is_admin,n=e.Role.name;return Object(Ue.jsxs)("div",{className:"flex ".concat(ut.a.container),children:[Object(Ue.jsx)("div",{className:ut.a.linksContainer,children:n===dt?Object(Ue.jsxs)("span",{children:[Object(Ue.jsx)(at.b,{className:ut.a.link,to:"/".concat(n,"/").concat(t,"/actividades"),children:"Actividades"}),Object(Ue.jsx)(at.b,{className:ut.a.link,to:"/".concat(n,"/").concat(t,"/colecciones"),children:"Colecciones"})]}):Object(Ue.jsxs)("span",{children:[a&&Object(Ue.jsx)(at.b,{className:ut.a.link,to:"/".concat(n,"/").concat(t,"/admin"),children:"Administrar"}),Object(Ue.jsx)(at.b,{className:ut.a.link,to:"/".concat(n,"/").concat(t,"/pacientes"),children:"Pacientes"})]})}),this.props.ui.windowWidth>=768?Object(Ue.jsx)(Et,{}):Object(Ue.jsx)(Me.a,{className:"ghost-btn",onClick:this.onMenuButtonClicked,children:this.props.user.profile_img?Object(Ue.jsx)("div",{className:ut.a.uimage}):Object(Ue.jsx)("div",{className:"flex ".concat(ut.a.uimage," ").concat(ut.a.thumb),style:{backgroundColor:this.props.user.color},children:this.props.user.thumbnail_alias})})]})}},{key:"onMenuButtonClicked",value:function(){this.props.showMobileMenu(!0)}}]),a}(n.Component),Ut={showMobileMenu:be},Lt=Object(b.b)((function(e){return{ui:e.ui,user:e.user.user}}),Ut)(Mt),Rt=Lt,Ft=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.ui.bar,t=Ye.a.bar;return t="patient"===e?"".concat(t," ").concat(Ye.a.patientBar):"".concat(t," ").concat(Ye.a.standardBar),Object(Ue.jsxs)(Je.a,{className:t,expand:"lg",fixed:"top",light:!0,children:[Object(Ue.jsxs)(Qe.a,{className:Ye.a.navbrand,children:[Object(Ue.jsx)("img",{alt:"",className:Ye.a.logo,src:"/images/logo/logo.png"}),"SATReLO"]}),null!==this.props.user?Object(Ue.jsx)(Rt,{}):Object(Ue.jsx)(ot,{windowWidth:this.props.ui.windowWidth})]})}}]),a}(n.Component),Bt=Object(b.b)((function(e){return{user:e.user.user,ui:e.ui}}))(Ft),zt=Bt,qt=a(45),Wt=a.n(qt),Ht=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={soundEnabled:!0,showMessage:!0},n.onMessageClicked=n.onMessageClicked.bind(Object(l.a)(n)),n.onRepeatClicked=n.onRepeatClicked.bind(Object(l.a)(n)),n.onSoundClicked=n.onSoundClicked.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.soundEnabled,a=e.showMessage;return Object(Ue.jsxs)("div",{className:Wt.a.container,children:[Object(Ue.jsxs)("div",{className:"flex ".concat(Wt.a.innerContainer),children:[Object(Ue.jsx)("div",{className:Wt.a.image}),Object(Ue.jsx)("div",{className:Wt.a.triangle}),Object(Ue.jsx)("p",{className:Wt.a.message,children:a&&this.props.avatar.message})]}),Object(Ue.jsx)("div",{className:"flex ".concat(Wt.a.buttons),children:Object(Ue.jsxs)("div",{className:"flex ".concat(Wt.a.innerButtons),children:[Object(Ue.jsx)(Me.a,{className:"ghost-btn",onClick:this.onSoundClicked,children:Object(Ue.jsx)("img",{alt:"",className:Wt.a.buttonIcon,src:"/images/other/sound_".concat(t?"enabled":"disabled",".png")})}),Object(Ue.jsx)(Me.a,{className:"ghost-btn",onClick:this.onMessageClicked,children:Object(Ue.jsx)("img",{alt:"",className:Wt.a.buttonIcon,src:"/images/other/message_".concat(a?"enabled":"disabled",".png")})}),Object(Ue.jsx)(Me.a,{className:"ghost-btn",onClick:this.onRepeatClicked,children:Object(Ue.jsx)("img",{alt:"",className:Wt.a.buttonIcon,src:"/images/other/repeat.png"})})]})})]})}},{key:"componentDidMount",value:function(){this.speak()}},{key:"componentDidUpdate",value:function(e){e.avatar.message!==this.props.avatar.message&&this.speak()}},{key:"onMessageClicked",value:function(){this.setState({showMessage:!this.state.showMessage})}},{key:"onRepeatClicked",value:function(){this.speak()}},{key:"onSoundClicked",value:function(){this.setState({soundEnabled:!this.state.soundEnabled})}},{key:"speak",value:function(){var e=this.state.soundEnabled?1:0;Se.speak(this.props.avatar.message,e)}}]),a}(n.Component),Vt=Object(b.b)((function(e){return{avatar:e.avatar}}))(Ht),Gt=Vt,Kt=a(86),Xt=a.n(Kt),Zt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={animation:Xt.a.menuAppear},n.onAnimatedCloseClicked=n.onAnimatedCloseClicked.bind(Object(l.a)(n)),n.onSimpleCloseClicked=n.onSimpleCloseClicked.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.user,t=e.id,a=e.is_admin,n=e.Role.name;return Object(Ue.jsxs)("div",{className:Xt.a.container,children:[Object(Ue.jsx)(Me.a,{onClick:this.onAnimatedCloseClicked,className:"ghost-btn ".concat(Xt.a.btn)}),Object(Ue.jsxs)("div",{className:"".concat(Xt.a.menu," ").concat(this.state.animation),children:[Object(Ue.jsx)(xt,{user:this.props.user}),Object(Ue.jsx)("br",{}),Object(Ue.jsx)("div",{className:"h-delimiter"}),Object(Ue.jsxs)("div",{className:Xt.a.linksContainer,children:[n===pt?Object(Ue.jsxs)("span",{children:[Object(Ue.jsx)(Tt,{onClick:this.onSimpleCloseClicked,to:"/".concat(n,"/").concat(t,"/perfil"),children:"Perfil"}),Object(Ue.jsx)(Tt,{onClick:this.onSimpleCloseClicked,to:"/".concat(n,"/").concat(t,"/pacientes"),children:"Pacientes"}),a&&Object(Ue.jsx)(Tt,{onClick:this.onSimpleCloseClicked,to:"/".concat(n,"/").concat(t,"/admin"),children:"Administrar"})]}):Object(Ue.jsxs)("span",{children:[Object(Ue.jsx)(Tt,{onClick:this.onSimpleCloseClicked,to:"/".concat(n,"/").concat(t,"/actividades"),children:"Actividades"}),Object(Ue.jsx)(Tt,{onClick:this.onSimpleCloseClicked,to:"/".concat(n,"/").concat(t,"/colecciones"),children:"Colecciones"})]}),Object(Ue.jsx)(Tt,{role:n,to:"/".concat(n),type:"logout",children:"Salir"})]})]})]})}},{key:"onAnimatedCloseClicked",value:function(){var e=this;this.setState({animation:Xt.a.menuDissapear},(function(){setTimeout((function(){e.props.showMobileMenu(!1)}),210)}))}},{key:"onSimpleCloseClicked",value:function(){this.props.showMobileMenu(!1)}}]),a}(n.Component),Yt={showMobileMenu:be},Jt=Object(b.b)((function(e){return{user:e.user.user}}),Yt)(Zt),Qt=Jt,$t=a(139),ea=a.n($t),ta=a(497),aa=a(489),na=a(490),sa=a(111),ia=a.n(sa),ra=a(97),ca=function(e,t){var a=ra.DateTime.fromISO(e);return ra.DateTime.fromISO(t).diff(a,["minutes"]).toObject()},oa=function(e){return ra.DateTime.fromISO(e).setLocale("co").toLocaleString(ra.DateTime.DATE_FULL)},la=function(e){var t=ra.DateTime.fromISO(e);return{startDate:t.startOf("month").toISODate(),endDate:t.endOf("month").toISODate()}},ua=a(178),da=a.n(ua),pa=function(e){return Object(Ue.jsx)("div",{className:"flex ".concat(da.a.container),children:Object(Ue.jsx)("p",{className:da.a.text,style:{color:e.color?e.color:"darkgray"},children:e.children})})},ha=pa,ba=a(482),ja=function(e){return Object(Ue.jsx)("div",{style:{marginTop:"30px",padding:"5px",textAlign:"center",width:"100%"},children:Object(Ue.jsx)(ba.a,{color:e.color})})},ma=ja,va=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={comments:null,loading:!1},n}return Object(o.a)(a,[{key:"render",value:function(){return Object(Ue.jsx)("div",{className:"".concat(ia.a.container),children:this.state.loading?Object(Ue.jsx)(ma,{}):this.state.comments&&this.state.comments.length>0?this.state.comments.map((function(e,t){var a=e.date.split("T")[0];return Object(Ue.jsxs)("div",{className:ia.a.commentContainer,children:[Object(Ue.jsxs)("div",{className:ia.a.date,children:["Comentario enviado el ",oa(a)]}),Object(Ue.jsx)("div",{className:ia.a.comment,children:e.comment}),e.audio&&Object(Ue.jsx)("audio",{src:"".concat("https://satrelo-qa.ddns.net").concat(e.audio),type:"video.webm",controls:!0,controlsList:"nodownload"})]},t)})):Object(Ue.jsx)(ha,{children:"No se encontraron comentarios para esta actividad."})})}},{key:"componentDidMount",value:function(){this.getCommentsFromSessions()}},{key:"getCommentsFromSessions",value:function(){this.setState({loading:!0});var e=Object.values(this.props.data),t=[];e.forEach((function(e){var a=e.audio,n=e.comment,s=e.date_end;(a||n&&""!==n.trim())&&t.push({audio:a,comment:n,date:s})})),this.setState({comments:t,loading:!1})}}]),a}(n.Component),fa=va,Oa=fa,ga=a(87),_a=a.n(ga),xa=a(484),ka=a(483),ya=a(485),Sa=a(486),Ca="https://satrelo-qa.ddns.net/api",Na=function(e){return function(){var t=Object(ve.a)(me.a.mark((function t(a){var n,s,i,r,c,o,l;return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(Ca,"/activity/").concat(e),t.prev=1,t.next=4,Oe.a.get(n);case 4:return s=t.sent,i=s.data,r=i.data,c=i.message,o=i.status,l=200!==o,a({type:v,payload:{activity:200===o?r:null}}),t.abrupt("return",{error:l,message:c});case 12:return t.prev=12,t.t0=t.catch(1),t.abrupt("return",{error:!0,message:t.t0});case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()},wa=function(e){return function(){var t=Object(ve.a)(me.a.mark((function t(a){var n,s,i,r,c,o,l;return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(Ca,"/patient/").concat(e,"/activities"),t.prev=1,t.next=4,Oe.a.get(n);case 4:return s=t.sent,i=s.data,r=i.data,c=i.message,o=i.status,l=200!==o,a({type:m,payload:{activities:200===o?r:null}}),t.abrupt("return",{error:l,message:c});case 12:return t.prev=12,t.t0=t.catch(1),t.abrupt("return",{error:!0,message:t.t0});case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()},Ia=function(e){return function(t){t({type:v,payload:{activity:e}})}},Aa=function(e){return function(t){t({type:m,payload:{activities:e}})}},Ta=function(e){return function(t){t({type:f,payload:{session:e}})}},Pa=function(e){return function(){var t=Object(ve.a)(me.a.mark((function t(a){var n,s,i,r,c,o,l;return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,s="".concat(Ca,"/session/").concat(n),t.prev=2,t.next=5,Oe.a.put(s,{session:e});case 5:return i=t.sent,r=i.data,c=r.message,o=r.status,l=200!==o,t.abrupt("return",{error:l,message:c});case 11:return t.prev=11,t.t0=t.catch(2),t.abrupt("return",{error:!0,message:t.t0});case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()},Da="https://satrelo-qa.ddns.net/api",Ea=function(e){return Object(Ue.jsx)(ka.a,{children:Object(Ue.jsx)(Me.a,{className:e.className,style:{minWidth:90},onClick:function(t){e.onClick(t)},children:e.loading?Object(Ue.jsx)(ba.a,{color:"light",size:"sm"}):Object(Ue.jsx)("span",{children:e.children})})})},Ma=Ea,Ua=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={audio:null,comment:"",error:null,loading:!1,recording:!1},n.onCancelClicked=n.onCancelClicked.bind(Object(l.a)(n)),n.onTextChanged=n.onTextChanged.bind(Object(l.a)(n)),n.onRecordAudioClicked=n.onRecordAudioClicked.bind(Object(l.a)(n)),n.onSaveClicked=n.onSaveClicked.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.audio?_a.a.recorded:this.state.recording?_a.a.recording:_a.a.notRecording;return Object(Ue.jsxs)(xa.a,{children:[Object(Ue.jsxs)(ka.a,{className:"mt-2",children:[Object(Ue.jsx)(ya.a,{type:"textarea",onChange:this.onTextChanged,placeholder:"Escribe tu comentario aqu\xed...",rows:"8",style:{resize:"none"},invalid:null!==this.state.error}),this.state.error&&Object(Ue.jsx)(Sa.a,{children:this.state.error})]}),Object(Ue.jsx)("p",{className:_a.a.microphoneText,children:"Si quieres puedes grabar tu comentario. Para hacerlo, presiona el micr\xf3fono y habla."}),Object(Ue.jsxs)("div",{className:"flex ".concat(_a.a.recorderContainer),children:[Object(Ue.jsx)(Me.a,{className:"ghost-btn",onClick:this.onRecordAudioClicked,children:Object(Ue.jsx)("img",{alt:"",className:"".concat(_a.a.microphone," ").concat(e),src:"/images/other/microphone.png"})}),this.state.audio&&Object(Ue.jsx)("audio",{src:URL.createObjectURL(this.state.audio),style:{marginLeft:7},type:"video.webm",controls:!0,controlsList:"nodownload"})]}),Object(Ue.jsxs)("div",{className:"flex mt-4",style:{justifyContent:"center"},children:[Object(Ue.jsx)(Ma,{className:"primary-btn w-100",loading:this.state.loading,onClick:this.onSaveClicked,children:"Guardar"}),Object(Ue.jsx)(ka.a,{children:Object(Ue.jsx)(Me.a,{className:"simple-btn ml-2",onClick:this.onCancelClicked,children:"Cancelar"})})]})]})}},{key:"onCancelClicked",value:function(){this.props.onCancelClicked()}},{key:"onTextChanged",value:function(e){this.setState({comment:e.target.value,error:null})}},{key:"onRecordAudioClicked",value:function(){var e=Object(ve.a)(me.a.mark((function e(){var t,a=this;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.recording){e.next=11;break}return this.setState({audio:null}),this.audioChunks=[],e.next=5,navigator.mediaDevices.getUserMedia({audio:!0});case 5:this.stream=e.sent,this.recorder=new MediaRecorder(this.stream),this.recorder.ondataavailable=function(e){a.audioChunks.push(e.data)},this.recorder.start(100),e.next=15;break;case 11:t=new Blob(this.audioChunks,{type:"audio/mpeg"}),this.setState({audio:t}),this.recorder.stop(),this.stream.getTracks()[0].stop();case 15:this.setState({recording:!this.state.recording});case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSaveClicked",value:function(){var e=Object(ve.a)(me.a.mark((function e(){var t,a,n,s,i,r,c,o,l,u,d,p,h;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==this.state.comment.trim()||this.state.audio){e.next=4;break}this.setState({error:"Escribe o graba un comentario para poder guardarlo."}),e.next=24;break;case 4:if(this.setState({loading:!0}),t=this.props,a=t.session,n=t.user,s=this.state,i=s.audio,r=s.comment,c=!1,o=null,!i){e.next=15;break}return e.next=12,this.props.uploadAudioFile(i,n.id);case 12:l=e.sent,l.error||(o=l.data.path);case 15:return e.next=17,this.props.updateActivitySession({id:a,audio:o,comment:r});case 17:u=e.sent,d=u.error,p=d||c&&""===r.trim(),h=p?"Error al realizar la acci\xf3n: guardar el comentario":"Se realiz\xf3 exitosamente la acci\xf3n: guardar el comentario",this.props.setNotification({error:d,message:h,slide:!0}),this.setState({comment:"",loading:!1}),this.props.onCancelClicked();case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),La={setNotification:ue,updateActivitySession:Pa,uploadAudioFile:function(e,t){return Object(ve.a)(me.a.mark((function a(){var n,s,i,r,c,o,l,u;return me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n="".concat(Da,"/plugin/upload-audio"),a.prev=1,(s=new FormData).append("file",e,t),a.next=6,Oe.a.post(n,s,{headers:{"Content-Type":"multipart/form-data"}});case 6:return i=a.sent,r=i.data,c=r.data,o=r.message,l=r.status,u=200!==l,a.abrupt("return",{data:c,error:u,message:o});case 12:return a.prev=12,a.t0=a.catch(1),a.abrupt("return",{error:!0,message:a.t0});case 15:case"end":return a.stop()}}),a,null,[[1,12]])})))}},Ra=Object(b.b)((function(e){return{user:e.user.user}}),La)(Ua),Fa=Ra,Ba=a(112),za=a.n(Ba),qa="https://satrelo-qa.ddns.net/api",Wa=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var a=Object(ve.a)(me.a.mark((function a(n){var s,i,r,c,o,l,u,d;return me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s="".concat(qa,"/user/").concat(e),a.prev=1,a.next=4,Oe.a.get(s);case 4:return i=a.sent,r=i.data,c=r.data,o=r.message,l=r.status,d=200!==l,n({type:t?re:se,payload:{user:u=200===l?c:null}}),a.abrupt("return",{error:d,message:o,user:u});case 12:return a.prev=12,a.t0=a.catch(1),a.abrupt("return",{error:!0,message:a.t0,user:null});case 15:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(e){return a.apply(this,arguments)}}()},Ha=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(){var t=Object(ve.a)(me.a.mark((function t(a){var n,s,i,r,c,o,l;return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(qa,"/user"),e&&(n="".concat(n,"?search=").concat(e)),t.prev=2,t.next=5,Oe.a.get(n);case 5:return s=t.sent,i=s.data,r=i.data,c=i.message,o=i.status,l=200!==o,a({type:ie,payload:{users:200===o?r:null}}),t.abrupt("return",{error:l,message:c});case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",{error:!0,message:t.t0});case 16:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}()},Va=function(e,t){return function(){var a=Object(ve.a)(me.a.mark((function a(n){var s,i,r,c,o,l,u;return me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s="".concat(qa,"/user/").concat(e.id),a.prev=1,a.next=4,Oe.a.put(s,{user:e});case 4:return i=a.sent,r=i.data,c=r.data,o=r.message,l=r.status,(u=200!==l)||e.id!==t||n({type:se,payload:{user:c}}),a.abrupt("return",{error:u,message:o});case 11:return a.prev=11,a.t0=a.catch(1),a.abrupt("return",{error:!0,message:a.t0});case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()},Ga=function(e){return function(t){t({type:se,payload:{user:e}})}},Ka=function(e){return function(t){t({type:re,payload:{user:e}})}},Xa=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},Za=function(e,t){return(e.charAt(0)+t.charAt(0)).toUpperCase()},Ya=function(e){return/[a-zA-Z0-9.+_-]+@[a-z]+\.[a-z]+/.test(e)},Ja=a(487),Qa=a(488),$a=function(e){var t="email"===e.name?"email":e.type?e.type:"text";return Object(Ue.jsxs)(ka.a,{children:[Object(Ue.jsx)(Ja.a,{children:e.children}),"admin"===e.form&&"password"===e.name&&Object(Ue.jsx)(Qa.a,{children:"Recuerda que la contrase\xf1a para el paciente debe contener cuatro palabras del conjunto \xe1rbol, coraz\xf3n, flor, nube y sol, separadas por coma y sin espacios. Ej.: \xe1rbol,flor,nube,sol."}),Object(Ue.jsx)(ya.a,{disabled:e.disabled,type:t,name:e.name,onChange:function(t){e.onChange(t)},value:e.value,invalid:null!==e.error}),e.error&&Object(Ue.jsx)(Sa.a,{children:e.error})]})},en=$a,tn=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={done:!1,email:"",error:null,loading:!1},n.onEmailChange=n.onEmailChange.bind(Object(l.a)(n)),n.onSendClicked=n.onSendClicked.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){return Object(Ue.jsxs)("div",{className:za.a.container,children:[Object(Ue.jsx)("div",{className:za.a.infoText,children:"Para recuperar tu contrase\xf1a debes ingresar el correo electr\xf3nico que tu administrador te asign\xf3. En caso de no recordar tu correo electr\xf3nico, o en caso de alg\xfan problema, comun\xedcate con el administrador del sistema."}),Object(Ue.jsxs)(xa.a,{children:[Object(Ue.jsx)(en,{error:this.state.error,onChange:this.onEmailChange,type:"email",value:this.state.email,children:"Ingresa aqu\xed el correo electr\xf3nico"}),Object(Ue.jsx)("div",{className:"flex ".concat(za.a.btnContainer),children:this.state.done?Object(Ue.jsx)("p",{className:za.a.doneMessage,children:"Se ha enviado un correo con una contrase\xf1a provisional. Recuerda que es recomendable cambiarla lo antes posible. Ya puedes cerrar esta ventana."}):Object(Ue.jsx)(Ma,{className:"primary-btn",loading:this.state.loading,onClick:this.onSendClicked,children:"Enviar"})})]})]})}},{key:"onEmailChange",value:function(e){this.setState({email:e.target.value,error:null})}},{key:"onSendClicked",value:function(){var e=Object(ve.a)(me.a.mark((function e(t){var a,n,s,i,r,c,o;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=this.state.email,n=null,""===a.trim()?n="El email es obligatorio.":Ya(a)||(n="Debes ingresar un email v\xe1lido."),!n){e.next=8;break}this.setState({error:n}),e.next=17;break;case 8:return this.setState({loading:!0}),e.next=11,this.props.recoverPassword(a,this.props.role);case 11:s=e.sent,i=s.error,r=s.status,c=!1,o=null,i?o=404===r?"El usuario con el email especificado no fue encontrado.":"Se present\xf3 un error al tratar de recuperar la contrase\xf1a. Int\xe9ntalo m\xe1s tarde.":c=!0,this.setState({done:c,email:"",error:o,loading:!1});case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(n.Component),an={recoverPassword:function(e,t){return Object(ve.a)(me.a.mark((function a(){var n,s,i,r,c,o;return me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n="".concat(qa,"/user/recover/pwd"),a.prev=1,a.next=4,Oe.a.put(n,{email:e,role:t});case 4:return s=a.sent,i=s.data,r=i.message,c=i.status,o=200!==c,a.abrupt("return",{error:o,message:r,status:c});case 10:return a.prev=10,a.t0=a.catch(1),a.abrupt("return",{error:!0,message:"Hubo un error de conexi\xf3n. Int\xe9ntalo m\xe1s tarde..."});case 13:case"end":return a.stop()}}),a,null,[[1,10]])})))}},nn=Object(b.b)(null,an)(tn),sn=nn,rn=a(140),cn=a.n(rn),on=function(e){var t=e.absolute?cn.a.absolute:"",a=e.width?e.width:"100%";return Object(Ue.jsx)("div",{className:"".concat(cn.a.container," ").concat(t),style:{"--width":a},children:Object(Ue.jsx)("video",{src:"".concat("https://satrelo-qa.ddns.net").concat(e.src),className:cn.a.video,controls:!0})})},ln=on,un=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).closeModal=n.closeModal.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){return Object(Ue.jsxs)(ta.a,{centered:!0,contentClassName:ea.a.modal,isOpen:null!==this.props.ui.modal,size:"lg",toggle:this.closeModal,children:[Object(Ue.jsx)(aa.a,{toggle:this.closeModal,children:Object(Ue.jsx)("span",{className:ea.a.title,children:this.props.ui.modal.title})}),Object(Ue.jsx)(na.a,{className:ea.a.body,children:"comments"===this.props.ui.modal.type?Object(Ue.jsx)(Oa,{data:this.props.ui.modal.data}):"new_comment"===this.props.ui.modal.type?Object(Ue.jsx)(Fa,{onCancelClicked:this.closeModal,session:this.props.ui.modal.session}):"forgot_password"===this.props.ui.modal.type?Object(Ue.jsx)(sn,{role:this.props.ui.modal.role,type:this.props.ui.modal.type}):Object(Ue.jsx)(ln,{src:this.props.ui.modal.videoUrl})})]})}},{key:"closeModal",value:function(){this.props.setModal(null)}}]),a}(n.Component),dn={setModal:le},pn=Object(b.b)((function(e){return{ui:e.ui}}),dn)(un),hn=pn,bn=a(246),jn=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={role:n.getRoleFromPath()},n.hasToken=n.hasToken.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.component,n=Object(bn.a)(t,["component"]),s=this.state.role;return Object(Ue.jsx)(p.b,Object(St.a)(Object(St.a)({},n),{},{render:function(t){return e.hasToken(s)?Object(Ue.jsx)(a,Object(St.a)({},t)):Object(Ue.jsx)(p.a,{to:"/".concat(s)})}}))}},{key:"componentDidMount",value:function(){var e=Object(ve.a)(me.a.mark((function e(){var t,a,n,s,i,r,c;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.role,this.showAvatar(t),this.setBar(t),this.setParallax(t),this.checkServerStatus(!0),!this.hasToken(t)||null!==this.props.user){e.next=15;break}return a=this.props.computedMatch,n=t===dt?"p":"t",s=a.params["".concat(n,"id")],e.next=11,this.props.getUser(s);case 11:i=e.sent,r=i.error,c=i.user,r||this.connectSocket(t,c.id);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.disconnectSocket(),this.checkServerStatus(!1),this.props.setNotification(null)}},{key:"checkServerStatus",value:function(e){this.props.setCheckServerStatus(e)}},{key:"connectSocket",value:function(e,t){e===dt&&(this.props.setConnectedId(t),this.props.setConnectSocket(!0))}},{key:"disconnectSocket",value:function(){this.props.setConnectSocket(!1)}},{key:"getRoleFromPath",value:function(){return this.props.path.split("/")[1]}},{key:"hasToken",value:function(e){var t=this.props.auth["".concat(e,"Token")];return!!t&&(Oe.a.defaults.headers.common["Auth-Token"]||(Oe.a.defaults.headers.common["Auth-Token"]=t),!0)}},{key:"setBar",value:function(e){var t=e===dt?"patient":"standard";this.props.setBar(t)}},{key:"setParallax",value:function(e){var t=e===dt;this.props.setParallax(t)}},{key:"showAvatar",value:function(e){var t=e===dt;this.props.showAvatar(t)}}]),a}(n.Component),mn={getUser:Wa,setBar:ce,setCheckServerStatus:function(e){return function(t){t({type:F,payload:{check:e}})}},setConnectedId:xe,setConnectSocket:function(e){return function(t){t({type:z,payload:{connectSocket:e}})}},setNotification:ue,setParallax:de,showAvatar:pe},vn=Object(b.b)((function(e){return{auth:e.auth,user:e.user.user}}),mn)(jn),fn=vn,On=a(98),gn=a.n(On),_n=a(492),xn=a(491),kn=a(65),yn=a.n(kn),Sn=function(){return Object(Ue.jsx)("div",{className:"flex ".concat(yn.a.container),children:Object(Ue.jsxs)("div",{className:"flex ".concat(yn.a.innerContainer),children:[Object(Ue.jsx)("div",{className:"".concat(yn.a.sides," ").concat(yn.a.avatarSide),children:Object(Ue.jsx)("img",{alt:"",className:yn.a.image,src:"/images/avatar/am1_cafe_negro_azul.png"})}),Object(Ue.jsxs)("div",{className:yn.a.sides,children:[Object(Ue.jsx)("p",{className:yn.a.title,children:"\xa1Avatar para apoyar las terapias!"}),Object(Ue.jsx)("p",{className:yn.a.description,children:"C\xf3mo terapeuta puedes personalizar un avatar con el que tu paciente podr\xe1 interactuar mientras realiza sus actividades asignadas"})]})]})})},Cn=Sn,Nn=a(76),wn=a.n(Nn),In=function(){return Object(Ue.jsx)("div",{className:"flex ".concat(wn.a.container),children:Object(Ue.jsxs)("div",{className:"flex ".concat(wn.a.innerContainer),children:[Object(Ue.jsxs)("p",{className:wn.a.text,children:["Ideado y desarrollado con",Object(Ue.jsx)(We.a,{className:wn.a.icon,icon:He.f}),"por un equipo interdisciplinar de"]}),Object(Ue.jsxs)("div",{className:"flex ".concat(wn.a.logoContainer),children:[Object(Ue.jsx)("img",{alt:"",className:wn.a.logoImage,src:"/images/landing/logo_incs.png"}),Object(Ue.jsx)("img",{alt:"",className:wn.a.logoImage,src:"/images/landing/logo_pujc.png"})]})]})})},An=In,Tn=a(141),Pn=a.n(Tn),Dn=a(99),En=a.n(Dn),Mn=function(e){return Object(Ue.jsx)(xn.a,{sm:"12",md:"4",children:Object(Ue.jsxs)("div",{className:"flex ".concat(En.a.container),children:[Object(Ue.jsx)("img",{alt:"",className:En.a.logo,src:e.feature.logo}),Object(Ue.jsxs)("div",{className:En.a.infoContainer,children:[Object(Ue.jsx)("div",{className:En.a.title,children:e.feature.title}),Object(Ue.jsx)("div",{className:En.a.description,children:e.feature.description})]})]})})},Un=Mn,Ln=function(e){return Object(Ue.jsxs)("div",{children:[Object(Ue.jsxs)("div",{className:Pn.a.title,children:["Si eres ",e.role]}),Object(Ue.jsx)("div",{className:"flex ".concat(Pn.a.container),children:Object(Ue.jsx)("div",{className:Pn.a.innerContainer,children:Object(Ue.jsx)(_n.a,{noGutters:!0,children:e.features.map((function(e){return Object(Ue.jsx)(Un,{feature:e},e.id)}))})})})]})},Rn=Ln,Fn=a(113),Bn=a.n(Fn),zn=function(){return Object(Ue.jsx)("div",{className:"flex ".concat(Bn.a.container),children:Object(Ue.jsx)("div",{className:Bn.a.innerContainer,children:Object(Ue.jsxs)("p",{className:Bn.a.logo,children:["SATReLO 2",Object(Ue.jsx)("br",{}),Object(Ue.jsx)("span",{className:Bn.a.copyright,children:"\xa9 Copyright 2019-2020"})]})})})},qn=zn,Wn=a(46),Hn=a.n(Wn),Vn=function(){return Object(Ue.jsxs)("div",{className:Hn.a.container,children:[Object(Ue.jsx)("div",{className:Hn.a.outerContainer,children:Object(Ue.jsxs)("div",{className:"flex ".concat(Hn.a.innerContainer),children:[Object(Ue.jsx)("div",{className:Hn.a.title,children:"La Aplicaci\xf3n de Apoyo a la Rehabilitaci\xf3n del Lenguaje Oral"}),Object(Ue.jsx)("div",{className:Hn.a.subtitle,children:"Generaci\xf3n de actividades personalizadas para atender las necesidades particulares de los pacientes"}),Object(Ue.jsxs)("div",{className:"flex ".concat(Hn.a.btnContainer),children:[Object(Ue.jsx)(at.b,{className:Hn.a.link,to:"/paciente",children:Object(Ue.jsx)(Me.a,{className:"secondary-btn ".concat(Hn.a.btn),size:"lg",children:"Ingresa como paciente"})}),Object(Ue.jsx)(at.b,{className:Hn.a.link,to:"terapeuta",children:Object(Ue.jsx)(Me.a,{className:"primary-btn ".concat(Hn.a.btn),size:"lg",children:"Ingresa como terapeuta"})})]})]})}),Object(Ue.jsx)(ln,{absolute:!0,width:"700px"})]})},Gn=Vn,Kn=a(88),Xn=a.n(Kn),Zn=function(){return Object(Ue.jsx)("div",{className:"flex ".concat(Xn.a.container),children:Object(Ue.jsxs)("div",{className:Xn.a.innerContainer,children:[Object(Ue.jsx)("p",{className:Xn.a.title,children:"\xa1En todos tus dispositivos!"}),Object(Ue.jsx)("p",{className:Xn.a.description,children:"SATReLO est\xe1 cuidadosamente dise\xf1ado para que se vea y funcione bien en todos tus dispositivos, ya sean computadores, tablets o smartphones."}),Object(Ue.jsx)("div",{className:"flex ".concat(Xn.a.imageContainer),children:Object(Ue.jsx)("img",{alt:"",className:Xn.a.image,src:"images/landing/mobile.png"})})]})})},Yn=Zn,Jn={therapist:{role:"terapeuta",features:[{description:"Configura y genera actividades personalizadas\n                                de acuerdo a las necesidades del paciente",id:1,logo:"/images/landing/settings.png",title:"Configura actividades",type:"feature"},{description:"Asigna las actividades generadas al paciente \n                                correspondiente",id:2,logo:"/images/landing/user.png",title:"As\xedgnalas al paciente",type:"feature"},{description:"Recibe retroalimentaci\xf3n del progreso del paciente\n                                en las actividades",id:3,logo:"/images/landing/feedback.png",title:"Recibe retroalimentaci\xf3n",type:"feature"}]},patient:{role:"paciente",features:[{description:"Realiza las actividades asignadas por el\n                                terapeuta",id:1,logo:"/images/landing/game.png",title:"Juega las actividades",type:"feature"},{description:"Gana puntos a medida que completas las\n                                actividades asignadas",id:2,logo:"/images/landing/score.png",title:"Acumula puntos",type:"feature"},{description:"Intercambia los puntos en la tienda por\n                                coleccionables",id:3,logo:"/images/landing/collection.png",title:"Completa la colecci\xf3n",type:"feature"}]}},Qn=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state=Object(St.a)(Object(St.a)({},n.state),{},{featuresData:Jn}),n}return Object(o.a)(a,[{key:"render",value:function(){return Object(Ue.jsx)(_n.a,{noGutters:!0,children:Object(Ue.jsxs)(xn.a,{xs:"12",className:gn.a.container,children:[Object(Ue.jsx)(Gn,{}),Object(Ue.jsxs)("div",{className:gn.a.mainPhrase,children:["\xbfC\xf3mo ayuda SATReLO en las terapias de rehabilitaci\xf3n?",Object(Ue.jsx)("p",{className:gn.a.mainIdea,children:"SATReLO ayuda en la mecanizaci\xf3n de la estructuraci\xf3n del lenguaje oral y escrito por medio de la realizaci\xf3n de actividades a modo de juegos"})]}),Object(Ue.jsxs)("div",{className:gn.a.features,children:[Object(Ue.jsx)("p",{className:gn.a.featuresTitle,children:"\xbfC\xf3mo funciona?"}),Object(Ue.jsx)(Rn,Object(St.a)({},this.state.featuresData.therapist)),Object(Ue.jsx)(Rn,Object(St.a)({},this.state.featuresData.patient))]}),Object(Ue.jsx)(Cn,{}),Object(Ue.jsx)(Yn,{}),Object(Ue.jsx)(An,{}),Object(Ue.jsx)(qn,{})]})})}},{key:"componentDidMount",value:function(){this.props.setBar("standard"),this.props.setParallax(!1),this.props.showMobileMenu(!1),this.props.setUser(null),this.props.showAvatar(!1)}}]),a}(n.Component),$n={setUser:Ga,setBar:ce,setParallax:de,showAvatar:pe,showMobileMenu:be},es=Object(b.b)(null,$n)(Qn),ts=es,as=a(77),ns=a.n(as),ss=a(23),is=a(74),rs="https://satrelo-qa.ddns.net/api",cs=function(e){return function(t){t({type:k,payload:{message:e}})}},os=a(100),ls=a.n(os),us=function(e){return Object(Ue.jsxs)("div",{className:ls.a.container,children:[Object(Ue.jsx)("div",{className:ls.a.label,children:"Nombres y apellidos"}),Object(Ue.jsxs)("div",{className:ls.a.infoText,children:[e.user.name," ",e.user.last_name]}),Object(Ue.jsx)("div",{className:ls.a.label,children:"Correo electr\xf3nico"}),Object(Ue.jsx)("div",{className:ls.a.infoText,children:e.user.email})]})},ds=us,ps=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={password:{error:null,loading:!1,value:""}},n.onChange=n.onChange.bind(Object(l.a)(n)),n.onSaveClicked=n.onSaveClicked.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){return Object(Ue.jsxs)("div",{style:{padding:25},children:[Object(Ue.jsx)("p",{style:{fontSize:"large",fontWeight:"bold"},children:"Cambio de contrase\xf1a"}),Object(Ue.jsxs)(xa.a,{children:[Object(Ue.jsx)(en,{error:this.state.password.error,name:"password",onChange:this.onChange,type:"password",value:this.state.password.value,children:"Ingresa tu contrase\xf1a nueva"}),Object(Ue.jsx)(Ma,{className:"secondary-btn",loading:this.state.password.loading,onClick:this.onSaveClicked,children:"Guardar"})]})]})}},{key:"onChange",value:function(e){var t=e.target,a=t.name,n=t.value,s=this.state[a];s.error=null,s.value=n,this.setState(Object(ss.a)({},a,s))}},{key:"onSaveClicked",value:function(){var e=Object(ve.a)(me.a.mark((function e(t){var a,n,s,i,r;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==this.state.password.value.trim()){e.next=4;break}this.setState({password:Object(St.a)(Object(St.a)({},this.state.password),{},{error:"La contrase\xf1a es obligatoria"})}),e.next=16;break;case 4:return this.setState({password:Object(St.a)(Object(St.a)({},this.state.password),{},{loading:!0})}),a=this.props.user,n={id:a.id,password:this.state.password.value},e.next=9,this.props.updateUser(n,a.id);case 9:if(s=e.sent,i=s.error,r=s.message,i){e.next=14;break}return e.next=14,this.props.getUser(a.id);case 14:this.setState({password:Object(St.a)(Object(St.a)({},this.state.password),{},{loading:!1})}),this.props.setNotification({error:i,message:r,slide:!0});case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(n.Component),hs={getUser:Wa,setNotification:ue,updateUser:Va},bs=Object(b.b)(null,hs)(ps),js=bs,ms=a(179),vs=a.n(ms),fs=a(180),Os=a.n(fs),gs=a(493),_s=a(494),xs=a(237),ks=a(181),ys=a.n(ks),Ss=function(e){var t="https://satrelo-qa.ddns.net"+e.item.img_path;return Object(Ue.jsx)("div",{className:"flex ".concat(ys.a.container),children:Object(Ue.jsx)("img",{alt:"",className:ys.a.image,src:t})})},Cs=Ss,Ns=a(78),ws=a.n(Ns),Is="https://satrelo-qa.ddns.net/api",As=function(e,t){return function(){var a=Object(ve.a)(me.a.mark((function a(n){var s,i,r,c,o,l,u,d;return me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=t.skinId,i="".concat(Is,"/patient/").concat(e,"/skin/").concat(s),a.prev=2,a.next=5,Oe.a.get(i);case 5:return r=a.sent,c=r.data,o=c.message,l=c.status,u=200!==l,200===l&&(d=t.single,n({type:d?R:L,payload:{data:t}})),a.abrupt("return",{error:u,message:o});case 12:return a.prev=12,a.t0=a.catch(2),a.abrupt("return",{error:!0,message:a.t0});case 15:case"end":return a.stop()}}),a,null,[[2,12]])})));return function(e){return a.apply(this,arguments)}}()},Ts=function(e,t){return function(){var a=Object(ve.a)(me.a.mark((function a(n){var s,i,r,c,o,l,u;return me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s="".concat(Is,"/patient/").concat(e,"/skin"),i=t.skins,a.prev=2,a.next=5,Oe.a.post(s,{skins:i});case 5:return r=a.sent,c=r.data,o=c.message,l=c.status,u=200!==l,200===l&&(delete t.skins,t.single?n({type:R,payload:{data:t}}):i.forEach((function(e){t.skinId=e.id,n({type:L,payload:{data:t}})}))),a.abrupt("return",{error:u,message:o});case 12:return a.prev=12,a.t0=a.catch(2),a.abrupt("return",{error:!0,message:a.t0});case 15:case"end":return a.stop()}}),a,null,[[2,12]])})));return function(e){return a.apply(this,arguments)}}()},Ps=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={loading:!1,price:n.props.price+n.props.collectable.price},n.onBuyClicked=n.onBuyClicked.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){return Object(Ue.jsxs)("div",{className:ws.a.container,children:[Object(Ue.jsx)("img",{alt:"",className:ws.a.collectableImg,src:"https://satrelo-qa.ddns.net"+this.props.img_path}),Object(Ue.jsx)("p",{className:ws.a.alt,children:this.props.name}),this.props.owned?Object(Ue.jsx)("div",{className:ws.a.owned,children:"Ya tienes este \xedtem"}):this.checkPrice()?Object(Ue.jsx)("div",{className:"flex ".concat(ws.a.btnContainer),children:Object(Ue.jsx)(Me.a,{className:"primary-btn ".concat(ws.a.btn),onClick:this.onBuyClicked,children:this.state.loading?Object(Ue.jsx)(ba.a,{color:"light",size:"sm"}):Object(Ue.jsxs)("span",{children:["Comprar por ",this.state.price," puntos"]})})}):Object(Ue.jsxs)("div",{className:ws.a.cannotBuy,children:["Necesitas ",this.state.price," puntos. A\xfan no puedes comprar este \xedtem"]})]})}},{key:"componentDidMount",value:function(){this.checkUserSkin()}},{key:"componentDidUpdate",value:function(e){e.collectable!==this.props.collectable&&this.updatePrice()}},{key:"buildData",value:function(e){var t={collectableId:this.props.collectable.id,collectionId:this.props.collectable.id_collection,single:!1};return e&&(t.skinId=this.props.id),t}},{key:"buySkins",value:function(){var e=Object(ve.a)(me.a.mark((function e(t){var a,n,s;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=this.buildData(!1)).skins=t,this.setState({loading:!0}),n=this.props.user,s=n.score-this.state.price,e.next=7,this.props.updateUser({id:n.id,score:s},n.id);case 7:return e.next=9,this.props.getUser(n.id);case 9:return e.next=11,this.props.setPatientSkins(this.props.userId,a);case 11:this.setState({loading:!1});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkPrice",value:function(){return this.props.user.score>=this.state.price}},{key:"checkUserSkin",value:function(){var e=Object(ve.a)(me.a.mark((function e(){var t;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.buildData(!0),this.setState({loading:!0}),e.next=4,this.props.getPatientSkin(this.props.userId,t);case 4:this.setState({loading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onBuyClicked",value:function(){var e=this;if(this.props.user.score>=this.state.price){var t=[{id:this.props.id}];if(this.props.price<this.state.price)Object.values(this.props.collectable.Skins).forEach((function(a){a.is_default&&a.id!==e.props.id&&t.push({id:a.id})}));this.buySkins(t)}}},{key:"updatePrice",value:function(){this.props.price!==this.state.price&&this.setState({price:this.props.price})}}]),a}(n.Component),Ds={getPatientSkin:As,getUser:Wa,setPatientSkins:Ts,updateUser:Va},Es=Object(b.b)((function(e){return{collectable:e.collection.collectable,user:e.user.user}}),Ds)(Ps),Ms=Es,Us=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={activeIndex:0,animating:!1},n.animateItem=n.animateItem.bind(Object(l.a)(n)),n.buildItems=n.buildItems.bind(Object(l.a)(n)),n.goToIndex=n.goToIndex.bind(Object(l.a)(n)),n.next=n.next.bind(Object(l.a)(n)),n.previous=n.previous.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.kind,t=Os.a.style;return"avatar"!==e&&(t="".concat(t," ").concat(Os.a.border)),Object(Ue.jsxs)(gs.a,{className:t,activeIndex:this.state.activeIndex,interval:!1,next:this.next,previous:this.previous,children:[this.buildItems(),Object(Ue.jsx)(_s.a,{direction:"prev",onClickHandler:this.previous}),Object(Ue.jsx)(_s.a,{direction:"next",onClickHandler:this.next})]})}},{key:"animateItem",value:function(e){this.setState({animating:e})}},{key:"buildItems",value:function(){var e=this;return this.props.items.map((function(t){return Object(Ue.jsx)(xs.a,{onExiting:function(){e.animateItem(!0)},onExited:function(){e.animateItem(!1)},children:"avatar"===e.props.kind?Object(Ue.jsx)(Cs,{item:t}):Object(Ue.jsx)(Ms,Object(St.a)(Object(St.a)({},t),{},{userId:e.props.userId}))},t.id)}))}},{key:"goToIndex",value:function(e){this.state.animating||(this.setState({activeIndex:e}),this.onCarouselChanged(e))}},{key:"next",value:function(){if(!this.state.animating){var e=this.state.activeIndex===this.props.items.length-1?0:this.state.activeIndex+1;this.setState({activeIndex:e}),this.onCarouselChanged(e)}}},{key:"previous",value:function(){if(!this.state.animating){var e=0===this.state.activeIndex?this.props.items.length-1:this.state.activeIndex-1;this.setState({activeIndex:e}),this.onCarouselChanged(e)}}},{key:"onCarouselChanged",value:function(e){var t=this.props.items[e];this.props.onCarouselChanged(t)}}]),a}(n.Component),Ls=Us,Rs=Ls,Fs=a(40),Bs=a.n(Fs),zs=function(e){var t=20;return void 0!==e.padding&&(t=e.padding),Object(Ue.jsx)("div",{style:{border:"1px solid #E0E0E0",borderRadius:"3px",boxShadow:"3px 3px 10px -3px #E0E0E0",padding:"15px ".concat(t,"px"),width:"100%"},children:e.children})},qs=zs,Ws={eye:{id:1,name:"Ojos",dbalias:"eye",icon:"/images/other/eye_icon.png"},hair:{id:2,name:"Cabello",dbalias:"hair",icon:"/images/other/hair_icon.png"},torso:{id:3,name:"Torso",dbalias:"torso",icon:"/images/other/torso_icon.png"}},Hs={colors:{kind:"rounded",name:"colors",options:{blue:{id:1,button:"blue",colorHex:"#62ABDF",name:"Azul"},brown:{id:2,button:"brown",colorHex:"#55392F",name:"Caf\xe9"}},title:"Color de ojos"}},Vs={colors:{kind:"rounded",name:"colors",options:{black:{id:1,button:"black",colorHex:"#030405",name:"Negro"},blonde:{id:2,button:"blonde",colorHex:"#FCD860",name:"Rubio"},brown:{id:3,button:"brown",colorHex:"#9D4427",name:"Caf\xe9"}},title:"Color de cabello"}},Gs={colors:{kind:"rounded",name:"colors",options:{blue:{id:1,button:"blue",colorHex:"#1C3351",name:"Azul"},green:{id:2,button:"green",colorHex:"#279599",name:"Verde"},purple:{id:3,button:"purple",colorHex:"#612747",name:"Morado"}},title:"Color del torso"}},Ks=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={options:Ws,eye:Hs,hair:Vs,torso:Gs,option:"eye"},n.onOptionClicked=n.onOptionClicked.bind(Object(l.a)(n)),n.onSectionOptionClicked=n.onSectionOptionClicked.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){return Object(Ue.jsxs)(qs,{padding:0,children:[Object(Ue.jsx)("div",{className:"".concat(Bs.a.container," ").concat(Bs.a.header),children:Object(Ue.jsx)(_n.a,{noGutters:!0,children:this.buildOptions()})}),this.buildSections()]})}},{key:"buildOptions",value:function(){var e=this;return Object.values(this.state.options).map((function(t){var a="ghost-btn ".concat(Bs.a.btn);return t.dbalias===e.state.option&&(a="".concat(a," ").concat(Bs.a.selected)),Object(Ue.jsx)(xn.a,{xs:"2",className:Bs.a.col,children:Object(Ue.jsx)(Me.a,{className:a,name:t.dbalias,onClick:e.onOptionClicked,style:{backgroundImage:"url(".concat(t.icon,")"),backgroundSize:"contain"}})},t.id)}))}},{key:"buildSections",value:function(){var e=this,t=this.state.option;return Object.values(this.state[t]).map((function(t,a){return Object(Ue.jsxs)("div",{className:Bs.a.container,children:[Object(Ue.jsx)("div",{className:Bs.a.title,children:t.title}),Object(Ue.jsx)(_n.a,{noGutters:!0,children:e.buildSectionsOptions(t)})]},a)}))}},{key:"buildSectionsOptions",value:function(e){var t=this,a=e.kind,n=e.name;return Object.values(e.options).map((function(e){var s="ghost-btn ".concat(Bs.a.btn," ").concat(Bs.a[a]);e.selected&&(s="".concat(s," ").concat(Bs.a.selected));var i={};return e.colorHex&&(i={"--btnColor":e.colorHex,backgroundColor:e.colorHex}),Object(Ue.jsx)(xn.a,{xs:"2",className:Bs.a.col,children:Object(Ue.jsx)(Me.a,{className:s,name:"".concat(n,"-").concat(e.button,"-").concat(e.name),onClick:t.onSectionOptionClicked,style:i})},e.id)}))}},{key:"onOptionClicked",value:function(e){this.setState({option:e.target.name})}},{key:"onSectionOptionClicked",value:function(e){var t=e.target.name.split("-"),a=t[0],n=t[1],s=t[2],i=this.state.option,r=this.state[i];Object.values(r[a].options).forEach((function(e){e.selected=e.button===n})),this.setState(Object(ss.a)({},i,r)),this.props.onOptionSelected({option:i,section:a,selected:s})}}]),a}(n.Component),Xs=Ks,Zs=Xs,Ys=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={current:null,eye:null,hair:null,torso:null},n.onCarouselChanged=n.onCarouselChanged.bind(Object(l.a)(n)),n.onOptionSelected=n.onOptionSelected.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.variations;return e=e?Object.values(e):[],Object(Ue.jsxs)(_n.a,{className:vs.a.container,noGutters:!0,children:[Object(Ue.jsx)(xn.a,{className:vs.a.carousel,sm:"12",md:"7",children:e&&Object(Ue.jsx)(Rs,{items:e,kind:"avatar",onCarouselChanged:this.onCarouselChanged})}),Object(Ue.jsx)(xn.a,{sm:"12",md:"5",children:Object(Ue.jsx)(Zs,{onOptionSelected:this.onOptionSelected})})]})}},{key:"componentDidMount",value:function(){this.props.user&&this.getVariations()}},{key:"componentDidUpdate",value:function(){if(this.props.user&&!this.props.variations&&this.getVariations(),this.props.variations){var e=Object.values(this.props.variations);this.state.current!==e[0]&&this.setState({current:e[0]})}}},{key:"getVariation",value:function(){var e=Object(ve.a)(me.a.mark((function e(){var t,a,n,s,i,r,c,o=this;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object.assign({},this.state),a=Object.assign({},t.current),delete t.current,n=Object.keys(t),s={id_avatar:a.id_avatar},n.forEach((function(e){var t=o.state[e];t&&(s[e]=t)})),delete a.id,delete a.img_path,delete a.thumbnail_path,s=Object(St.a)(Object(St.a)({},a),s),e.next=12,this.props.getAvatarVariation(s);case 12:return i=e.sent,r=i.data,c={id:this.props.user.id,id_avatar_variation:r.id},e.next=17,this.props.updateUser(c,this.props.user.id);case 17:return e.next=19,this.props.getUser(this.props.user.id);case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getVariations",value:function(){var e=Object(ve.a)(me.a.mark((function e(){var t,a,n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.user,a=t.Avatar_Variation,n=t.gender,e.next=3,this.props.getAvatarVariations(n,a);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onCarouselChanged",value:function(e){e!==this.state.current&&this.setState({current:e})}},{key:"onOptionSelected",value:function(e){var t=this,a=e.option,n=e.section,s=e.selected,i=this.state[a];i?i[n]=s:i=Object(ss.a)({},n,s),this.setState(Object(ss.a)({},a,i),(function(){t.getVariation()}))}}]),a}(n.Component),Js={getAvatarVariation:function(e){return function(){var t=Object(ve.a)(me.a.mark((function t(a){var n,s,i,r,c,o,l;return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(rs,"/avatar/variation"),t.prev=1,t.next=4,Oe.a.get(n,{params:Object(St.a)({},e)});case 4:return s=t.sent,i=s.data,r=i.data,c=i.message,o=i.status,l=200!==o,a({type:y,payload:{variation:200===o?r:null}}),t.abrupt("return",{data:r,error:l,message:c});case 12:return t.prev=12,t.t0=t.catch(1),t.abrupt("return",{error:!0,message:t.t0});case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()},getAvatarVariations:function(e,t){return function(){var a=Object(ve.a)(me.a.mark((function a(n){var s,i,r,c,o,l,u,d,p;return me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s="".concat(rs,"/avatar/variations/").concat(e),a.prev=1,a.next=4,Oe.a.get(s);case 4:return i=a.sent,r=i.data,c=r.data,o=r.status,l=r.message,u=200===o?c:{1:{id:1,id_avatar:1}},!(d=200!==o)&&t&&(u=Object.values(u),p=0,u.forEach((function(e,a){t.id===e.id&&(p=a)})),u.splice(p,1),u.unshift(t),u=Object.assign.apply(Object,[{}].concat(Object(is.a)(u.map((function(e){return Object(ss.a)({},e.id,e)})))))),n({type:S,payload:{variations:u}}),a.abrupt("return",{error:d,message:l});case 13:return a.prev=13,a.t0=a.catch(1),a.abrupt("return",{error:!0,message:a.t0});case 16:case"end":return a.stop()}}),a,null,[[1,13]])})));return function(e){return a.apply(this,arguments)}}()},getUser:Wa,updateUser:Va},Qs=Object(b.b)((function(e){return{user:e.user.user,variations:e.avatar.variations}}),Js)(Ys),$s=a(142),ei=a.n($s),ti=function(e){var t="feedback"===e.page?"10":"9",a=e.mt?e.mt:62;return Object(Ue.jsx)("div",{className:"flex ".concat(ei.a.outerContainer),children:Object(Ue.jsx)(_n.a,{className:"justify-content-center ".concat(ei.a.rowContainer),noGutters:!0,children:Object(Ue.jsx)(xn.a,{xs:"12",sm:"12",md:"12",lg:"12",xl:t,children:Object(Ue.jsx)("div",{className:ei.a.container,style:{"--mt":"".concat(a,"px"),"--pt":"".concat(e.pt,"px")},children:e.children})})})})},ai=a(66),ni=a.n(ai),si=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.user;return Object(Ue.jsxs)("div",{className:ni.a.container,children:[Object(Ue.jsx)("div",{className:ni.a.header}),Object(Ue.jsx)("div",{className:"flex ".concat(ni.a.userContainer),children:Object(Ue.jsx)(_n.a,{className:"justify-content-center ".concat(ni.a.row),noGutters:!0,children:Object(Ue.jsxs)(xn.a,{className:"flex ".concat(ni.a.col),xs:"12",xl:"9",children:[e&&e.profile_img?Object(Ue.jsx)("img",{alt:"",className:ni.a.uimage,src:"".concat("https://satrelo-qa.ddns.net").concat(e.profile_img)}):e&&e.thumbnail_alias?Object(Ue.jsx)("div",{className:"flex ".concat(ni.a.alias),style:{backgroundColor:e.color},children:e.thumbnail_alias}):null,Object(Ue.jsx)("div",{className:ni.a.uname,children:e&&Object(Ue.jsxs)("span",{children:[e.name," ",e.last_name]})})]})})})]})}}]),a}(n.Component),ii=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={option:"avatar"},n.onOptionClicked=n.onOptionClicked.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.user,t=null;e&&(t=e.Role.name);var a="ghost-btn ".concat(ns.a.btn),n=this.state.option,s="avatar"===n?"".concat(a," ").concat(ns.a.selected):a,i="info"===n?"".concat(a," ").concat(ns.a.selected):a,r="security"===n?"".concat(a," ").concat(ns.a.selected):a;return Object(Ue.jsxs)("div",{className:ns.a.container,children:[Object(Ue.jsx)(si,{user:e}),Object(Ue.jsxs)(ti,{mt:298,children:[Object(Ue.jsx)("div",{className:ns.a.options,children:t===pt?Object(Ue.jsxs)("span",{className:"flex ".concat(ns.a.optContainer),children:[Object(Ue.jsx)(Me.a,{className:i,name:"info",onClick:this.onOptionClicked,children:"Informaci\xf3n"}),Object(Ue.jsx)(Me.a,{className:s,name:"avatar",onClick:this.onOptionClicked,children:"Avatar"}),Object(Ue.jsx)(Me.a,{className:r,name:"security",onClick:this.onOptionClicked,children:"Seguridad"})]}):null}),"avatar"===this.state.option?Object(Ue.jsx)(Qs,{}):"info"===this.state.option?Object(Ue.jsx)(ds,{user:e}):Object(Ue.jsx)(js,{user:e})]})]})}},{key:"componentWillUnmount",value:function(){this.props.setAvatarVariations(null)}},{key:"onOptionClicked",value:function(e){this.setState({option:e.target.name})}}]),a}(n.Component),ri={setAvatarVariations:function(e){return function(t){t({type:S,payload:{variations:e}})}}},ci=Object(b.b)((function(e){return{user:e.user.user}}),ri)(ii),oi=a(182),li=a.n(oi),ui=a(67),di=a.n(ui),pi=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getFormattedDate=function(e){return oa(e)},n.state={loading:!1,session:null},n.onPlayClicked=n.onPlayClicked.bind(Object(l.a)(n)),n.onTutorialClicked=n.onTutorialClicked.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.activity,a=e.id;if(this.state.session){var n="/paciente/".concat(a,"/actividades/").concat(t.id)+"/sesiones/".concat(this.state.session.id);return Object(Ue.jsx)(p.a,{to:n,push:!0})}var s=t.date_from.split("T")[0],i=t.Activity.logo_path;return Object(Ue.jsxs)("div",{className:"flex ".concat(di.a.container),children:[Object(Ue.jsx)("img",{alt:"",className:di.a.gameImage,src:"https://satrelo-qa.ddns.net"+i}),Object(Ue.jsxs)("div",{className:di.a.gameContainer,children:[Object(Ue.jsxs)("div",{className:"flex",children:[Object(Ue.jsx)("p",{className:di.a.gameTitle,children:t.Activity.name}),Object(Ue.jsx)("p",{style:{fontWeight:600,marginBottom:0},children:this.getFormattedDate(s)})]}),t.Syntactic_Structure&&Object(Ue.jsx)("p",{style:{fontWeight:600},children:t.Syntactic_Structure.name}),Object(Ue.jsx)("p",{className:di.a.gameDescription,children:t.Activity.description}),Object(Ue.jsxs)("div",{className:"flex ".concat(di.a.btnContainer),children:[Object(Ue.jsx)(Me.a,{className:"simple-btn ".concat(di.a.btn),onClick:this.onTutorialClicked,children:"Tutorial"}),Object(Ue.jsx)(Me.a,{className:"".concat(di.a.btn," pdf-btn"),onClick:this.onPlayClicked,children:this.state.loading?Object(Ue.jsx)(ba.a,{color:"light",size:"sm"}):Object(Ue.jsx)("span",{children:"Jugar"})})]})]})]})}},{key:"onPlayClicked",value:function(){var e=Object(ve.a)(me.a.mark((function e(){var t,a,n,s,i,r=this;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=this.props.activity,e.next=4,this.props.createActivitySession(t.id);case 4:a=e.sent,n=a.data,s=a.error,i=a.message,this.setState({loading:!1}),s?this.props.setNotification({error:s,message:i,slide:!0}):this.setState({session:n},(function(){r.props.setActivity(t),r.props.setFullScreen(!0)}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onTutorialClicked",value:function(){var e={title:"Video tutorial",type:"video",videoUrl:this.props.activity.Mechanic.tutorial_path};this.props.setModal(e)}}]),a}(n.Component),hi={createActivitySession:function(e){return function(){var t=Object(ve.a)(me.a.mark((function t(a){var n,s,i,r,c,o,l,u;return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(Ca,"/session"),s={date_start:new Date,id_activity_user:e},t.prev=2,t.next=5,Oe.a.post(n,{session:s});case 5:return i=t.sent,r=i.data,c=r.data,o=r.message,l=r.status,u=200!==l,t.abrupt("return",{data:c,error:u,message:o});case 11:return t.prev=11,t.t0=t.catch(2),t.abrupt("return",{error:!0,message:t.t0});case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()},setActivity:Ia,setFullScreen:oe,setModal:le,setNotification:ue},bi=Object(b.b)(null,hi)(pi),ji=a(143),mi=a.n(ji),vi=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.ui.vOffset;return Object(Ue.jsx)("div",{className:"flex ".concat(mi.a.outerContainer),children:Object(Ue.jsx)(_n.a,{className:mi.a.rowContainer,noGutters:!0,children:Object(Ue.jsx)(xn.a,{xs:"12",sm:"12",md:{size:7,offset:5},style:{"--vOffset":"".concat(e,"px")},children:Object(Ue.jsx)("div",{className:mi.a.container,children:this.props.children})})})})}}]),a}(n.Component),fi=Object(b.b)((function(e){return{ui:e.ui}}))(vi),Oi=["Tambi\xe9n puedes cambiar tus puntos por diferentes aspectos. !Colecci\xf3nalos todos!"],gi=["!Aqu\xed puedes cambiar tus puntos por la colecci\xf3n que m\xe1s te guste!"],_i=["\xa1Bienvenido a SATReLO! Es hora de jugar. Para iniciar ingresa tu nombre y clave.","\xa1Hola! Vamos a divertirnos juntos. Para iniciar ingresa tu nombre y clave."],xi=["Elige la opci\xf3n jugar de una de las actividades para comenzar a divertirnos."],ki=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={loading:!1},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.match.params.pid,t=this.props.activities;return t=t?Object.values(t):[],Object(Ue.jsxs)(fi,{children:[Object(Ue.jsx)("p",{className:li.a.title,children:"Mis actividades"}),Object(Ue.jsx)("div",{className:li.a.listContainer,children:this.state.loading?Object(Ue.jsx)(ma,{color:"light"}):t&&t.length>0?t.map((function(t){return Object(Ue.jsx)(bi,{activity:t,id:e},t.id)})):Object(Ue.jsx)(ha,{color:"white",children:"A\xfan no tienes actividades asignadas..."})})]})}},{key:"componentDidMount",value:function(){var e=Object(ve.a)(me.a.mark((function e(){var t;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.pid,this.setState({loading:!0}),e.next=4,this.props.getActivities(t);case 4:this.setState({loading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){if(this.props.user){var e=xi[Math.floor(Math.random()*xi.length)];(e="\xa1".concat(this.props.user.name,"! ").concat(e))!==this.props.avatar.message&&this.props.setMessage(e)}}},{key:"componentWillUnmount",value:function(){this.props.setActivities(null)}}]),a}(n.Component),yi={getActivities:wa,setActivities:Aa,setMessage:cs},Si=Object(b.b)((function(e){return{activities:e.activity.activities,avatar:e.avatar,user:e.user.user}}),yi)(ki),Ci=a(89),Ni=a.n(Ci),wi=Oi,Ii=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={currentSkin:null,loading:!0,userId:null},n.onCarouselChanged=n.onCarouselChanged.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.collectable;return Object(Ue.jsx)(fi,{children:this.state.loading?Object(Ue.jsx)(ma,{color:"light"}):e?Object(Ue.jsxs)("div",{className:Ni.a.container,children:[Object(Ue.jsxs)("div",{className:"flex",children:[Object(Ue.jsx)("div",{className:Ni.a.title,children:e.name}),Object(Ue.jsxs)("div",{className:"flex ".concat(Ni.a.score),children:[Object(Ue.jsxs)("div",{children:["Tienes ",this.props.user&&this.props.user.score]}),Object(Ue.jsx)("img",{alt:"",className:Ni.a.scoreIcon,src:"/images/other/star.png"})]})]}),Object(Ue.jsx)(Rs,{items:Object.values(e.Skins),onCarouselChanged:this.onCarouselChanged,userId:this.state.userId}),Object(Ue.jsx)("p",{className:Ni.a.descriptionTitle,children:"Resumen"}),Object(Ue.jsx)("p",{className:Ni.a.description,children:this.state.currentSkin&&this.state.currentSkin.summary})]}):Object(Ue.jsx)(ha,{color:"white",children:"No se encontr\xf3 informaci\xf3n del coleccionable."})})}},{key:"componentDidMount",value:function(){var e=this,t=wi[Math.floor(Math.random()*wi.length)];this.props.setMessage(t),this.setState({userId:this.props.match.params.pid},(function(){e.getCollectableInfo()}))}},{key:"componentWillUnmount",value:function(){this.props.setCollectable(null)}},{key:"getCollectableInfo",value:function(){var e=Object(ve.a)(me.a.mark((function e(){var t,a,n,s,i,r,c,o;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=this.props.match.params,a=t.id,n=t.cid,e.next=4,this.props.getCollectable(a,n);case 4:s=e.sent,i=s.data,r=s.error,c=Object.values(i.Skins),o=r?null:c[0],this.setState({currentSkin:o,loading:!1});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onCarouselChanged",value:function(e){this.setState({currentSkin:e})}}]),a}(n.Component),Ai={getCollectable:function(e,t){return function(){var a=Object(ve.a)(me.a.mark((function a(n){var s,i,r,c,o,l,u;return me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s="".concat(Is,"/collection/").concat(e,"/collectable/").concat(t),a.prev=1,a.next=4,Oe.a.get(s);case 4:return i=a.sent,r=i.data,c=r.data,o=r.message,l=r.status,u=200!==l,n({type:U,payload:{collectable:200===l?c:null}}),a.abrupt("return",{data:c,error:u,message:o});case 12:return a.prev=12,a.t0=a.catch(1),a.abrupt("return",{data:null,error:!0,message:a.t0});case 15:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(e){return a.apply(this,arguments)}}()},setCollectable:function(e){return function(t){t({type:U,payload:{collectable:e}})}},setMessage:cs},Ti=Object(b.b)((function(e){return{collectable:e.collection.collectable,user:e.user.user}}),Ai)(Ii),Pi=a(114),Di=a.n(Pi),Ei=a(115),Mi=a.n(Ei),Ui=a(57),Li=a.n(Ui),Ri=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={loading:!1},n.onBuyClicked=n.onBuyClicked.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.userId,t=this.props.collectable,a=t.id,n=t.id_collection,s=t.Skins.img_path;return Object(Ue.jsxs)("div",{className:Li.a.container,children:[Object(Ue.jsx)(at.b,{className:"ghost-btn ".concat(Li.a.btn),to:"/paciente/".concat(e,"/colecciones/").concat(n,"/coleccionable/").concat(a)}),Object(Ue.jsx)("img",{alt:"",className:Li.a.collectableImg,src:"https://satrelo-qa.ddns.net"+s}),Object(Ue.jsxs)("div",{className:Li.a.info,children:[Object(Ue.jsx)("p",{className:Li.a.name,children:t.name}),Object(Ue.jsxs)("p",{className:Li.a.points,children:["Necesitas ",t.price," puntos"]})]}),t.Skins.owned?Object(Ue.jsx)("div",{className:Li.a.owned,children:"Adquirido"}):this.checkPrice()?Object(Ue.jsx)(Me.a,{className:"primary-btn ".concat(Li.a.btnBuy),onClick:this.onBuyClicked,children:this.state.loading?Object(Ue.jsx)(ba.a,{color:"",size:"sm"}):Object(Ue.jsx)("span",{children:"Comprar"})}):Object(Ue.jsx)("div",{className:Li.a.cannotBuy,children:"A\xfan no puedes comprar este \xedtem"})]})}},{key:"componentDidMount",value:function(){this.props.userId&&this.checkUserSkin()}},{key:"buildData",value:function(e){var t=this.props.collectable,a={collectableId:t.id,collectionId:t.id_collection,single:!0};return e&&(a.skinId=t.Skins.id),a}},{key:"buySkin",value:function(){var e=Object(ve.a)(me.a.mark((function e(t){var a,n,s,i,r;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=this.buildData(!1)).skins=t,this.setState({loading:!0}),n=this.props,s=n.collectable,i=n.user,r=i.score-s.price,e.next=7,this.props.updateUser({id:i.id,score:r},i.id);case 7:return e.next=9,this.props.getUser(i.id);case 9:return e.next=11,this.props.setPatientSkins(this.props.userId,a);case 11:this.setState({loading:!1});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkPrice",value:function(){var e=this.props,t=e.collectable;return e.user.score>=t.price}},{key:"checkUserSkin",value:function(){var e=Object(ve.a)(me.a.mark((function e(){var t;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.buildData(!0),this.setState({loading:!0}),e.next=4,this.props.getPatientSkin(this.props.userId,t);case 4:this.setState({loading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onBuyClicked",value:function(){var e=this.props,t=e.collectable;if(e.user.score>=t.price){var a=this.props.collectable.Skins;this.buySkin([a])}}}]),a}(n.Component),Fi={getPatientSkin:As,getUser:Wa,setPatientSkins:Ts,updateUser:Va},Bi=Object(b.b)((function(e){return{user:e.user.user}}),Fi)(Ri),zi=function(e){var t=Object.values(e.Collectables);return Object(Ue.jsxs)("div",{className:Mi.a.container,children:[Object(Ue.jsxs)("p",{className:Mi.a.title,children:["Colecci\xf3n de ",e.name]}),Object(Ue.jsx)(_n.a,{className:Mi.a.rowContainer,noGutters:!0,children:t&&t.map((function(t){return Object(Ue.jsx)(xn.a,{className:Mi.a.col,sm:"12",md:"4",children:Object(Ue.jsx)(Bi,{collectable:t,userId:e.userId})},t.id)}))})]})},qi=gi,Wi=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={loading:!1,userId:null},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.collections;return t=t?Object.values(t):[],Object(Ue.jsx)(fi,{children:Object(Ue.jsxs)("div",{className:Di.a.container,children:[Object(Ue.jsxs)("div",{className:"flex",children:[Object(Ue.jsx)("div",{className:Di.a.title,children:"Colecciones"}),Object(Ue.jsxs)("div",{className:"flex ".concat(Di.a.score),children:[Object(Ue.jsxs)("div",{children:["Tienes ",this.props.user&&this.props.user.score]}),Object(Ue.jsx)("img",{alt:"",className:Di.a.scoreIcon,src:"/images/other/star.png"})]})]}),this.state.loading?Object(Ue.jsx)(ma,{color:"light"}):t&&t.length>0?t.map((function(t){return Object(n.createElement)(zi,Object(St.a)(Object(St.a)({},t),{},{key:t.id,userId:e.state.userId}))})):Object(Ue.jsx)(ha,{color:"white",children:"No se encontraron colecciones."})]})})}},{key:"componentDidMount",value:function(){var e=this,t=qi[Math.floor(Math.random()*qi.length)];this.props.setMessage(t),this.setState({userId:this.props.match.params.pid},(function(){e.getCollectionsList()}))}},{key:"componentWillUnmount",value:function(){this.props.setCollections(null)}},{key:"getCollectionsList",value:function(){var e=Object(ve.a)(me.a.mark((function e(){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.props.getCollections();case 3:this.setState({loading:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),Hi={getCollections:function(){return function(){var e=Object(ve.a)(me.a.mark((function e(t){var a,n,s,i,r,c,o;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(Is,"/collection"),e.prev=1,e.next=4,Oe.a.get(a);case 4:return n=e.sent,s=n.data,i=s.data,r=s.message,c=s.status,o=200!==c,t({type:M,payload:{collections:200===c?i:null}}),e.abrupt("return",{error:o,message:r});case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",{error:!0,message:e.t0});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},setCollections:function(e){return function(t){t({type:M,payload:{collections:e}})}},setMessage:cs},Vi=Object(b.b)((function(e){return{collections:e.collection.collections,user:e.user.user}}),Hi)(Wi),Gi=a(90),Ki=a.n(Gi),Xi=a(144),Zi=a.n(Xi),Yi=a(101),Ji=a.n(Yi),Qi=function(e){var t="delete"===e.kind?Ji.a.btnInv:Ji.a.btn;return"not"===e.kind&&(t="".concat(t," ").concat(Ji.a.bgWhite)),Object(Ue.jsx)(Me.a,{className:"ghost-btn ".concat(t),onClick:function(){"delete"===e.kind?e.onDeletePassClicked():"select"===e.kind&&e.onPassButtonClicked({name:e.name,src:e.src})},style:{cursor:"not"===e.kind?"default":"pointer"},children:"delete"===e.kind?Object(Ue.jsx)(We.a,{icon:He.j,size:"2x",style:{color:"black"}}):!e.src||e.src&&""===e.src.trim()?Object(Ue.jsx)("div",{className:Ji.a.icon}):Object(Ue.jsx)("img",{alt:"",className:Ji.a.icon,src:e.src})})},$i=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={passwordOptions:[{id:1,kind:"select",name:"\xe1rbol",src:"/images/pwd/tree.png"},{id:2,kind:"select",name:"coraz\xf3n",src:"/images/pwd/heart.png"},{id:3,kind:"select",name:"flor",src:"/images/pwd/flower.png"},{id:4,kind:"select",name:"nube",src:"/images/pwd/cloud.png"},{id:5,kind:"select",name:"sol",src:"/images/pwd/sun.png"}],optionsSelected:[{id:1,kind:"not",name:"",src:""},{id:2,kind:"not",name:"",src:""},{id:3,kind:"not",name:"",src:""},{id:4,kind:"not",name:"",src:""}]},n.onDeleteButtonClicked=n.onDeleteButtonClicked.bind(Object(l.a)(n)),n.onPasswordOptionClicked=n.onPasswordOptionClicked.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(Ue.jsxs)("div",{className:Zi.a.container,children:[Object(Ue.jsx)("div",{className:"flex ".concat(Zi.a.btnContainer),children:this.state.passwordOptions.map((function(t){return Object(Ue.jsx)(Qi,Object(St.a)(Object(St.a)({},t),{},{onPassButtonClicked:e.onPasswordOptionClicked}),t.id)}))}),Object(Ue.jsxs)("div",{className:"flex ".concat(Zi.a.btnContainer),children:[this.state.optionsSelected.map((function(e){return Object(Ue.jsx)(Qi,Object(St.a)({},e),e.id)})),Object(Ue.jsx)(Qi,{kind:"delete",onDeletePassClicked:this.onDeleteButtonClicked})]})]})}},{key:"onDeleteButtonClicked",value:function(){var e=this.state.optionsSelected;e.forEach((function(e){e.name="",e.src=""})),this.setState({optionsSelected:e})}},{key:"onPasswordOptionClicked",value:function(e){var t=this,a=this.state.optionsSelected,n=!1;a.forEach((function(t){n||""!==t.name.trim()||(t.name=e.name,t.src=e.src,n=!0)})),this.setState({optionsSelected:a},(function(){var e=t.state.optionsSelected.filter((function(e){return""!==e.name.trim()})).map((function(e){return e.name}));t.props.setPassword(e)}))}}]),a}(n.Component),er=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={error:null,loading:!1,password:null,userId:null,username:""},n.onInputChanged=n.onInputChanged.bind(Object(l.a)(n)),n.onForgotClicked=n.onForgotClicked.bind(Object(l.a)(n)),n.onLogin=n.onLogin.bind(Object(l.a)(n)),n.onLoginClicked=n.onLoginClicked.bind(Object(l.a)(n)),n.setPassword=n.setPassword.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.userId;return e?Object(Ue.jsx)(p.a,{to:"/paciente/".concat(e,"/actividades"),push:!0}):Object(Ue.jsxs)("div",{className:Ki.a.container,children:[this.state.error&&Object(Ue.jsx)("div",{className:Ki.a.error,children:this.state.error}),Object(Ue.jsxs)(xa.a,{children:[Object(Ue.jsxs)(ka.a,{children:[Object(Ue.jsx)(Ja.a,{className:Ki.a.label,children:"Escribe tu nombre de usuario"}),Object(Ue.jsx)(ya.a,{bsSize:"lg",onChange:this.onInputChanged,placeholder:"Por ejemplo, mvsierra",type:"text"})]}),Object(Ue.jsxs)(ka.a,{children:[Object(Ue.jsx)(Ja.a,{className:Ki.a.label,children:"Marca tu clave"}),Object(Ue.jsx)($i,{setPassword:this.setPassword}),Object(Ue.jsx)(Me.a,{className:"ghost-btn ".concat(Ki.a.btnForgot),onClick:this.onForgotClicked,children:"\xbfOlvidaste tu clave?"})]}),Object(Ue.jsx)(Me.a,{className:"primary-btn ".concat(Ki.a.btn),onClick:this.onLoginClicked,children:this.state.loading?Object(Ue.jsx)(ba.a,{color:"light",size:"sm"}):Object(Ue.jsx)("span",{children:"Entrar"})})]})]})}},{key:"onInputChanged",value:function(e){this.setState({username:e.target.value})}},{key:"onForgotClicked",value:function(e){e.preventDefault();this.props.setModal({title:"Recuperaci\xf3n de la clave",type:"forgot_password",role:1})}},{key:"onLogin",value:function(){var e=Object(ve.a)(me.a.mark((function e(t,a){var n,s,i,r,c;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),n={username:t,password:a},e.next=4,this.props.login(n,dt);case 4:s=e.sent,i=s.error,r=s.message,c=s.userId,i&&(i=r),this.setState({error:i,loading:!1,userId:c});case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"onLoginClicked",value:function(e){if(e.preventDefault(),!this.state.loading){var t=this.state,a=t.username,n=t.password;""!==a.trim()&&n?4===n.length?this.onLogin(a,n.join()):this.setState({error:"La clave debe tener 4 elementos"}):this.setState({error:"El usuario y la clave son obligatorios"})}}},{key:"setPassword",value:function(e){this.setState({password:e})}}]),a}(n.Component),tr={login:Nt,setModal:le},ar=Object(b.b)(null,tr)(er),nr=_i,sr=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.ui.vOffset+60;return Object(Ue.jsx)(fi,{children:Object(Ue.jsx)("div",{className:"flex",style:{alignItems:"center",height:"calc(100vh - ".concat(e,"px)"),justifyContent:"center"},children:Object(Ue.jsx)(ar,{})})})}},{key:"componentDidMount",value:function(){var e=nr[Math.floor(Math.random()*nr.length)];this.props.setMessage(e),this.props.setBar("patient"),this.props.setParallax(!0),this.props.showMobileMenu(!1),this.props.setUser(null),this.props.showAvatar(!0)}}]),a}(n.Component),ir={setBar:ce,setMessage:cs,setParallax:de,setUser:Ga,showAvatar:pe,showMobileMenu:be},rr=Object(b.b)((function(e){return{ui:e.ui}}),ir)(sr),cr=a(238),or=a.n(cr),lr=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={fullScreen:!1},n.fullRef=s.a.createRef(),n.onClosed=n.onClosed.bind(Object(l.a)(n)),n.onKeyHandler=n.onKeyHandler.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){return Object(Ue.jsx)("div",{onKeyDown:this.onKeyHandler,ref:this.fullRef,tabIndex:0,children:this.props.children})}},{key:"componentDidMount",value:function(){document.addEventListener("fullscreenchange",this.onClosed),document.addEventListener("mozfullscreenchange",this.onClosed),document.addEventListener("webkitfullscreenchange",this.onClosed)}},{key:"componentDidUpdate",value:function(){this.props.fullScreen!==this.state.fullScreen&&(this.props.fullScreen?this.enterFullScreen():this.exitFullScreen())}},{key:"componentWillUnmount",value:function(){document.removeEventListener("fullscreenchange",this.onClosed),document.removeEventListener("mozfullscreenchange",this.onClosed),document.removeEventListener("webkitfullscreenchange",this.onClosed)}},{key:"enterFullScreen",value:function(){var e=Object(ve.a)(me.a.mark((function e(){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.fullRef.current.requestFullRequest){e.next=5;break}return e.next=3,this.fullRef.current.requestFullRequest();case 3:e.next=13;break;case 5:if(!this.fullRef.current.mozRequestFullScreen){e.next=10;break}return e.next=8,this.fullRef.current.mozRequestFullScreen();case 8:e.next=13;break;case 10:if(!this.fullRef.current.webkitRequestFullScreen){e.next=13;break}return e.next=13,this.fullRef.current.webkitRequestFullScreen();case 13:this.setState({fullScreen:!0}),this.props.onChange(!0);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"exitFullScreen",value:function(){var e=Object(ve.a)(me.a.mark((function e(){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullScreenElement)){e.next=15;break}if(!document.exitFullscreen){e.next=7;break}return e.next=5,document.exitFullscreen();case 5:e.next=15;break;case 7:if(!document.mozCancelFullScreen){e.next=12;break}return e.next=10,document.mozCancelFullScreen();case 10:e.next=15;break;case 12:if(!document.webkitExitFullScreen){e.next=15;break}return e.next=15,document.webkitExitFullScreen();case 15:this.setState({fullScreen:!1}),this.props.onChange(!1);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onClosed",value:function(){!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullScreenElement)&&this.state.fullScreen&&this.props.onClosed()}},{key:"onKeyHandler",value:function(e){8===e.keyCode&&e.preventDefault()}}]),a}(n.Component),ur="https://satrelo-qa.ddns.net/file",dr=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onClosed=n.onClosed.bind(Object(l.a)(n)),n.onChange=n.onChange.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.activity,a=e.user,n=null;if(t&&a){var s=this.props.match.params.sid,i=t.build_path;if(n="".concat(ur,"/").concat(i,"/index.html")+"?portal=paciente"+"&session=".concat(s)+"&score=".concat(a.score)+"&token=".concat(this.props.auth.pacienteToken)+"&file_server=".concat(ur)+"&server=".concat("https://satrelo-qa.ddns.net"),a.Therapists){var r=Object.values(a.Therapists);if(r.length>0){var c=r[0].Avatar_Variation.img_path;n+="&avatar=".concat(c)}}}return Object(Ue.jsx)(lr,{fullScreen:this.props.ui.fullScreen,onClosed:this.onClosed,onChange:this.onChange,children:Object(Ue.jsx)("div",{className:"flex ".concat(or.a.container),children:Object(Ue.jsx)("iframe",{height:window.outerHeight,src:n,title:"game",width:window.outerWidth})})})}},{key:"componentDidMount",value:function(){if(this.props.ui.fullScreen||this.redirectBack(),this.hideAvatar(),null===this.props.activity){var e=this.props.match.params.aid;this.props.getActivity(e)}}},{key:"componentDidUpdate",value:function(){this.hideAvatar()}},{key:"componentWillUnmount",value:function(){this.props.showAvatar(!0);var e=this.props.match.params.sid,t={date_end:new Date,id:e};this.props.updateActivitySession(t);var a={title:"Comenta sobre el desempe\xf1o del paciente en el juego",type:"new_comment",session:e};this.props.setModal(a);var n=this.props.user;this.props.getUser(n.id)}},{key:"hideAvatar",value:function(){this.props.ui.showAvatar&&this.props.showAvatar(!1)}},{key:"onClosed",value:function(){this.redirectBack()}},{key:"onChange",value:function(e){e||this.redirectBack()}},{key:"redirectBack",value:function(){this.props.history.goBack()}}]),a}(n.Component),pr={getActivity:Na,getUser:Wa,setFullScreen:oe,setModal:le,showAvatar:pe,updateActivitySession:Pa},hr=Object(b.b)((function(e){return{activity:e.activity.activity,auth:e.auth,ui:e.ui,user:e.user.user}}),pr)(dr),br=a(41),jr=a.n(br),mr="https://satrelo-qa.ddns.net/api",vr=function(e){return function(){var t=Object(ve.a)(me.a.mark((function t(a){var n,s,i,r,c,o,l;return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(mr,"/user/").concat(e),t.prev=1,t.next=4,Oe.a.get(n);case 4:return s=t.sent,i=s.data,r=i.data,c=i.message,o=i.status,l=200!==o,a({type:K,payload:{patient:200===o?r:null}}),t.abrupt("return",{error:l,message:c});case 12:return t.prev=12,t.t0=t.catch(1),t.abrupt("return",{error:!0,message:t.t0});case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()},fr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(){var a=Object(ve.a)(me.a.mark((function a(n){var s,i,r,c,o,l,u;return me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=e?"".concat(mr,"/therapist/").concat(e,"/patient"):"".concat(mr,"/patient"),t&&(s="".concat(s,"?search=").concat(t)),a.prev=2,a.next=5,Oe.a.get(s);case 5:return i=a.sent,r=i.data,c=r.data,o=r.message,l=r.status,u=200!==l,n({type:G,payload:{patients:200===l?c:null}}),a.abrupt("return",{error:u,message:o});case 13:return a.prev=13,a.t0=a.catch(2),a.abrupt("return",{error:!0,message:a.t0});case 16:case"end":return a.stop()}}),a,null,[[2,13]])})));return function(e){return a.apply(this,arguments)}}()},Or=a(47),gr=a.n(Or),_r=a(48),xr=a.n(_r),kr=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onCommentsClicked=n.onCommentsClicked.bind(Object(l.a)(n)),n.onDeleteClicked=n.onDeleteClicked.bind(Object(l.a)(n)),n.onPDFClicked=n.onPDFClicked.bind(Object(l.a)(n)),n.onReassignClicked=n.onReassignClicked.bind(Object(l.a)(n)),n.onTutorialClicked=n.onTutorialClicked.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.activity.Activities_Sessions,t=Object.values(e);return Object(Ue.jsxs)("div",{className:"flex ".concat(xr.a.container),children:[Object(Ue.jsx)(Me.a,{className:"pdf-btn ".concat(xr.a.btn),onClick:this.onPDFClicked,size:"sm",children:"PDF Ficha"}),Object(Ue.jsxs)("div",{className:"flex",children:[Object(Ue.jsx)(Me.a,{className:"ghost-btn ".concat(xr.a.comments," ").concat(xr.a.mr),onClick:this.onCommentsClicked,size:"sm",children:Object(Ue.jsx)(We.a,{icon:He.b,size:"2x"})}),Object(Ue.jsx)(Me.a,{className:"simple-btn ".concat(xr.a.btn," ").concat(xr.a.ml),onClick:this.onTutorialClicked,size:"sm",children:"Tutorial"}),Object(Ue.jsx)(Me.a,{className:"simple-btn ".concat(xr.a.btn," ").concat(xr.a.ml),onClick:this.onReassignClicked,size:"sm",children:"Reasignar"}),0===t.length&&Object(Ue.jsx)(Me.a,{className:"ghost-btn ".concat(xr.a.delete," ").concat(xr.a.ml),onClick:this.onDeleteClicked,size:"sm",children:Object(Ue.jsx)(We.a,{icon:He.i,size:"2x"})})]})]})}},{key:"onCommentsClicked",value:function(){var e={title:"Comentarios",type:"comments",data:this.props.activity.Activities_Sessions};this.props.setModal(e)}},{key:"onDeleteClicked",value:function(){var e=Object(ve.a)(me.a.mark((function e(){var t,a,n,s;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.activity.id,e.next=3,this.props.removeActivity(t);case 3:a=e.sent,n=a.error,s=a.message,this.props.setNotification({error:n,message:s,slide:!0});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onPDFClicked",value:function(){var e=this.props.activity.Mechanic.pdf_path,t="".concat("https://satrelo-qa.ddns.net").concat(e);window.open(t)}},{key:"onReassignClicked",value:function(){var e=Object(ve.a)(me.a.mark((function e(){var t,a,n,s,i,r,c;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.activity.id,a=new Date,(n=new Date).setDate(n.getDate()+7),s={id:t,date_from:a,date_to:n},e.next=7,this.props.updateActivity(s);case 7:i=e.sent,r=i.error,c=i.message,this.props.setNotification({error:r,message:c,slide:!0});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onTutorialClicked",value:function(){var e={title:"Video tutorial",type:"video",videoUrl:this.props.activity.Mechanic.tutorial_path};this.props.setModal(e)}}]),a}(n.Component),yr={removeActivity:function(e){return function(){var t=Object(ve.a)(me.a.mark((function t(a){var n,s,i,r,c,o;return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(Ca,"/activity/").concat(e),t.prev=1,t.next=4,Oe.a.delete(n);case 4:return s=t.sent,i=s.data,r=i.message,c=i.status,(o=200!==c)||a({type:j,payload:{id:e}}),t.abrupt("return",{error:o,message:r});case 11:return t.prev=11,t.t0=t.catch(1),t.abrupt("return",{error:!0,message:t.t0});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},setModal:le,setNotification:ue,updateActivity:function(e){return function(){var t=Object(ve.a)(me.a.mark((function t(a){var n,s,i,r,c,o,l;return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(Ca,"/activity/").concat(e.id),t.prev=1,t.next=4,Oe.a.put(n,{activity:e});case 4:return s=t.sent,i=s.data,r=i.data,c=i.message,o=i.status,(l=200!==o)||a({type:g,payload:{activity:r}}),t.abrupt("return",{error:l,message:c});case 11:return t.prev=11,t.t0=t.catch(1),t.abrupt("return",{error:!0,message:t.t0});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}},Sr=Object(b.b)(null,yr)(kr),Cr={1:{letter:"S",color:"#FF7043"},2:{letter:"AD",color:"#42A5F5"},3:{letter:"V",color:"#26A69A"}},Nr=function(e){var t=e.id,a=Cr[t],n="darkgray";return a.letter===e.letter&&(n=a.color),Object(Ue.jsx)("div",{style:{alignItems:"center",backgroundColor:"".concat(n),borderRadius:"50%",color:"white",display:"flex",fontWeight:"600",height:37,justifyContent:"center",width:37},children:e.letter})},wr=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).getFormattedDate=function(e){return oa(e)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.activity.id,t=this.props.activity.date_from.split("T")[0],a=this.props.activity.Syntactic_Structure?this.props.activity.Syntactic_Structure.id:null,n=this.props,s=n.pid,i=n.tid,r=this.props.activity.Activity.logo_path;return Object(Ue.jsx)("div",{className:gr.a.container,children:Object(Ue.jsxs)("div",{className:"flex ".concat(gr.a.innerContainer),children:[Object(Ue.jsx)("img",{alt:"",className:gr.a.aimage,src:"https://satrelo-qa.ddns.net"+r}),Object(Ue.jsxs)("div",{className:gr.a.rightContainer,children:[Object(Ue.jsxs)("div",{className:"flex ".concat(gr.a.nameContainer),children:[Object(Ue.jsx)("div",{className:gr.a.title,children:this.props.activity.Activity.name}),Object(Ue.jsx)("div",{className:gr.a.date,children:this.getFormattedDate(t)})]}),a&&Object(Ue.jsxs)("div",{className:"flex ".concat(gr.a.syntContainer),children:[Object(Ue.jsx)(Nr,{letter:"S",id:a}),Object(Ue.jsx)(Nr,{letter:"AD",id:a}),Object(Ue.jsx)(Nr,{letter:"V",id:a})]}),Object(Ue.jsx)("div",{className:gr.a.description,children:this.props.activity.Activity.description}),Object(Ue.jsx)(at.b,{to:"/terapeuta/".concat(i,"/pacientes/").concat(s,"/")+"actividades/".concat(e,"/evoluci\xf3n"),className:"ghost-btn ".concat(gr.a.btnEvolution),children:"Ver evoluci\xf3n"}),Object(Ue.jsx)(Sr,{activity:this.props.activity})]})]})})}}]),a}(n.Component),Ir=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={createActivityEnabled:!1,loading:!1},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.activities,a=e.patient,n=e.user,s=n?n.id:null,i=a?a.id:null;t=t?Object.values(t):[];var r=this.props.match.params.tid;return Object(Ue.jsxs)("div",{className:jr.a.container,children:[Object(Ue.jsx)(si,{user:a}),Object(Ue.jsxs)(ti,{pt:0,mt:298,children:[Object(Ue.jsxs)("div",{className:"flex ".concat(jr.a.titleContainer),children:[Object(Ue.jsx)("div",{className:jr.a.title,children:"Actividades asignadas"}),Object(Ue.jsxs)("div",{className:"flex ".concat(jr.a.btnContainer),children:[Object(Ue.jsx)(at.b,{className:jr.a.link,to:"/terapeuta/".concat(r,"/pacientes/").concat(i)+"/actividades/hist\xf3rico",children:Object(Ue.jsx)(Me.a,{className:"primary-btn left ".concat(jr.a.btn),children:"Hist\xf3rico"})}),this.state.createActivityEnabled?Object(Ue.jsx)(at.b,{className:jr.a.link,to:"/terapeuta/".concat(s,"/pacientes/").concat(i,"/configuracion"),children:Object(Ue.jsx)(Me.a,{className:"secondary-btn ".concat(jr.a.btn),children:"Agregar actividad"})}):Object(Ue.jsx)(Me.a,{className:"secondary-btn ".concat(jr.a.btn," ").concat(jr.a.btnDisabled),disabled:!0,children:"Agregar actividad"})]})]}),Object(Ue.jsx)("div",{className:jr.a.listContainer,children:this.state.loading?Object(Ue.jsx)(ma,{color:"primary"}):t&&t.length>0?t.map((function(e){return Object(Ue.jsx)(wr,{activity:e,pid:i,tid:r},e.id)})):Object(Ue.jsx)(ha,{children:"Este paciente a\xfan no tiene actividades asignadas. Recuerda que puedes asignarle una actividad seleccionando la opci\xf3n Agregar actividad."})})]})]})}},{key:"componentDidMount",value:function(){var e=Object(ve.a)(me.a.mark((function e(){var t;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.pid,this.setState({loading:!0}),e.next=4,this.props.getActivities(t);case 4:return this.setState({loading:!1}),e.next=7,this.props.getPatient(t);case 7:this.setState({createActivityEnabled:!0});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.props.setActivities(null),this.props.setPatient(null),this.setState({createActivityEnabled:!1})}}]),a}(n.Component),Ar={getActivities:wa,getPatient:vr,setActivities:Aa,setPatient:function(e){return function(t){t({type:K,payload:{patient:e}})}}},Tr=Object(b.b)((function(e){return{activities:e.activity.activities,patient:e.patient.patient,user:e.user.user}}),Ar)(Ir),Pr=a(58),Dr=a.n(Pr),Er=a(102),Mr=a.n(Er),Ur=a(116),Lr=a.n(Ur),Rr=function(e){e.onOptionSelected(e.option)},Fr=function(e){var t=e.option.selected?Lr.a.selected:"";return Object(Ue.jsx)(Me.a,{className:"ghost-btn ".concat(Lr.a.container),onClick:function(){Rr(e)},children:Object(Ue.jsxs)("div",{className:"flex ".concat(Lr.a.inner," ").concat(t),children:[Object(Ue.jsx)("div",{className:Lr.a.name,children:e.option.name}),Object(Ue.jsx)(We.a,{icon:He.a,size:"2x"})]})})},Br=function(e,t){e.onOptionSelected(t)},zr=function(e){var t=e.options;return t=t?Object.values(t):[],Object(Ue.jsxs)("div",{className:Mr.a.container,children:[Object(Ue.jsx)("div",{className:Mr.a.title,children:e.title}),Object(Ue.jsx)("div",{className:Mr.a.subtitle,children:e.subtitle}),e.loading?Object(Ue.jsx)(ma,{color:"primary"}):t&&t.length>0?Object(Ue.jsx)(_n.a,{className:Mr.a.optionRow,noGutters:!0,children:t.map((function(t){return Object(Ue.jsx)(xn.a,{className:Mr.a.optionCol,sm:{size:12},md:{size:4},children:Object(Ue.jsx)(Fr,{onOptionSelected:function(t){Br(e,t)},option:t})},t.id)}))}):null]})},qr=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onOptionSelected=n.onOptionSelected.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){return Object(Ue.jsx)(zr,Object(St.a)(Object(St.a)({},this.props),{},{onOptionSelected:this.onOptionSelected}))}},{key:"componentDidMount",value:function(){var e=Object(ve.a)(me.a.mark((function e(){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.first&&this.getOptions({fieldId:this.props.id});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=this;["mechanic","situations","times","reader"].forEach((function(t){e.props.resetDynamicOptions({fieldId:t})})),this.props.showCreateActivityButton(!1)}},{key:"buildDynamic",value:function(e){var t=this,a=this.props.reset;if(a&&a.forEach((function(e){t.props.resetDynamicOptions({fieldId:e})})),this.props.showCreateActivityButton(!1),this.props.setDynamicSelectedOptions({fieldId:this.props.id,optionId:e.id}),this.props.next){var n={fieldId:this.props.next},s=this.props.dynamic[this.props.next];if(s.required){var i=this.getRequiredIds(s.required);n.required=i}this.getOptions(n)}else this.props.showCreateActivityButton(!0)}},{key:"getOptions",value:function(){var e=Object(ve.a)(me.a.mark((function e(t){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getDynamicOptions(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRequiredIds",value:function(e){var t=this,a={};return e.forEach((function(e){var n=t.props.dynamic[e];Object.values(n.options).forEach((function(e){e.selected&&(a["".concat(n.id,"Id")]=e.id)}))})),a}},{key:"onOptionSelected",value:function(e){this.buildDynamic(e)}}]),a}(n.Component),Wr={getDynamicOptions:function(e){return function(){var t=Object(ve.a)(me.a.mark((function t(a){var n,s,i,r,c,o,l,u,d,p;return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("mechanic"!==(n=e.fieldId)&&"situations"!==n){t.next=20;break}return s="".concat("https://satrelo-qa.ddns.net/api"),"mechanic"===n?s="".concat(s,"/dynamic/mechanics"):(i=e.required.mechanicId,s="".concat(s,"/dynamic/mechanics/").concat(i,"/situations")),t.prev=4,t.next=7,Oe.a.get(s);case 7:return r=t.sent,c=r.data,o=c.data,l=c.message,u=c.status,d=200!==u,a({type:I,payload:{fieldId:n,options:200===u?o:null}}),t.abrupt("return",{error:d,message:l});case 15:return t.prev=15,t.t0=t.catch(4),t.abrupt("return",{error:!0,message:t.t0});case 18:t.next=22;break;case 20:"times"===n?p={1:{id:1,name:"Presente"}}:"reader"===n&&(p={1:{id:1,name:"Si"},2:{id:2,name:"No"}}),a({type:I,payload:{fieldId:n,options:p}});case 22:case"end":return t.stop()}}),t,null,[[4,15]])})));return function(e){return t.apply(this,arguments)}}()},resetDynamicOptions:function(e){return function(t){t({type:w,payload:e})}},setDynamicSelectedOptions:function(e){return function(t){t({type:A,payload:e})}},showCreateActivityButton:he},Hr=Object(b.b)((function(e){return{dynamic:e.dynamic}}),Wr)(qr),Vr=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(Ue.jsxs)("div",{children:[Object(Ue.jsx)(Hr,Object(St.a)({},this.props.dynamic.mechanic)),Object(Ue.jsx)(Hr,Object(St.a)({},this.props.dynamic.situations)),Object(Ue.jsx)(Hr,Object(St.a)({},this.props.dynamic.times)),Object(Ue.jsx)(Hr,Object(St.a)({},this.props.dynamic.reader))]})}}]),a}(n.Component),Gr=Object(b.b)((function(e){return{dynamic:e.dynamic}}))(Vr),Kr="https://satrelo-qa.ddns.net/api",Xr=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onOptionSelected=n.onOptionSelected.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){return Object(Ue.jsx)(zr,Object(St.a)(Object(St.a)({},this.props),{},{onOptionSelected:this.onOptionSelected}))}},{key:"componentDidMount",value:function(){this.props.first&&this.getOptions({fieldId:this.props.id})}},{key:"componentWillUnmount",value:function(){var e=this;["category","subcategory","sintactic","vocabulary","mechanic"].forEach((function(t){e.props.resetStaticOptions({fieldId:t})})),this.props.showCreateActivityButton(!1)}},{key:"buildStatic",value:function(e){var t=this,a=this.props.reset;a&&a.forEach((function(e){t.props.resetStaticOptions({fieldId:e})})),this.props.showCreateActivityButton(!1);var n=!0;if(this.props.multichoice?(this.props.addStaticSelectedOption({fieldId:this.props.id,optionId:e.id}),n=this.checkMinimun()):this.props.setStaticSelectedOptions({fieldId:this.props.id,optionId:e.id}),n)if(this.props.next){var s={fieldId:this.props.next},i=this.props.static[this.props.next];if(i.required){var r=this.getRequiredIds(i.required);s.required=r}this.getOptions(s)}else this.props.showCreateActivityButton(!0)}},{key:"checkMinimun",value:function(){var e=this.props.options;e=Object.values(e);var t=0;return e.forEach((function(e){e.selected&&(t+=1)})),t>=this.props.minimum}},{key:"getOptions",value:function(){var e=Object(ve.a)(me.a.mark((function e(t){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getStaticOptions(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRequiredIds",value:function(e){var t=this,a={};return e.forEach((function(e){var n=t.props.static[e];Object.values(n.options).forEach((function(e){e.selected&&(a["".concat(n.id,"Id")]=e.id)}))})),a}},{key:"onOptionSelected",value:function(e){this.buildStatic(e)}}]),a}(n.Component),Zr={addStaticSelectedOption:function(e){return function(t){t({type:T,payload:e})}},getStaticOptions:function(e){return function(){var t=Object(ve.a)(me.a.mark((function t(a){var n,s,i,r,c,o,l,u,d,p,h,b,j,m;return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.fieldId,s=null,"category"===n?s="".concat(Kr,"/static/categories"):"subcategory"===n?(i=e.required.categoryId,s="".concat(Kr,"/static/categories/").concat(i,"/subcategories")):"sintactic"===n?s="".concat(Kr,"/static/structures"):"vocabulary"!==n&&"mechanic"!==n||(r=e.required,c=r.subcategoryId,o=r.sintacticId,l=c,u=o,s="".concat(Kr,"/static/subcategories/").concat(l,"/structures/").concat(u),s="".concat(s,"vocabulary"===n?"/vocabularies":"/mechanics")),!s){t.next=18;break}return t.prev=4,t.next=7,Oe.a.get(s);case 7:return d=t.sent,p=d.data,h=p.data,b=p.message,j=p.status,m=200!==j,a({type:D,payload:{fieldId:n,options:200===j?h:null}}),t.abrupt("return",{error:m,message:b});case 15:return t.prev=15,t.t0=t.catch(4),t.abrupt("return",{error:!0,message:t.t0});case 18:case"end":return t.stop()}}),t,null,[[4,15]])})));return function(e){return t.apply(this,arguments)}}()},resetStaticOptions:function(e){return function(t){t({type:P,payload:e})}},setStaticSelectedOptions:function(e){return function(t){t({type:E,payload:e})}},showCreateActivityButton:he},Yr=Object(b.b)((function(e){return{static:e.static}}),Zr)(Xr),Jr=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(Ue.jsxs)("div",{children:[Object(Ue.jsx)(Yr,Object(St.a)({},this.props.static.category)),Object(Ue.jsx)(Yr,Object(St.a)({},this.props.static.subcategory)),Object(Ue.jsx)(Yr,Object(St.a)({},this.props.static.sintactic)),Object(Ue.jsx)(Yr,Object(St.a)({},this.props.static.vocabulary)),Object(Ue.jsx)(Yr,Object(St.a)({},this.props.static.mechanic))]})}}]),a}(n.Component),Qr=Object(b.b)((function(e){return{static:e.static}}))(Jr),$r=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={loading:!1,option:"static",patient:null,redirect:!1},n.onCreateActivityClicked=n.onCreateActivityClicked.bind(Object(l.a)(n)),n.onOptionClicked=n.onOptionClicked.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){if(this.state.redirect){var e=this.props.match.params,t=e.tid,a=e.pid,n="/terapeuta/".concat(t,"/pacientes/").concat(a,"/actividades");return Object(Ue.jsx)(p.a,{to:n,push:!0})}var s="primary-btn-outline left ".concat(Dr.a.btn," \n                                ").concat("static"===this.state.option?Dr.a.btnSelected:""),i="primary-btn-outline ".concat(Dr.a.btn," \n                                ").concat("dynamic"===this.state.option?Dr.a.btnSelected:"");return Object(Ue.jsxs)(ti,{pt:50,children:[Object(Ue.jsx)("div",{className:Dr.a.title,children:"Configurar una nueva actividad"}),Object(Ue.jsxs)("div",{className:"flex ".concat(Dr.a.btnContainer),children:[Object(Ue.jsx)(Me.a,{className:s,color:"primary",name:"static",onClick:this.onOptionClicked,outline:!0,children:"Descripci\xf3n est\xe1tica"}),Object(Ue.jsx)(Me.a,{className:i,color:"primary",name:"dynamic",onClick:this.onOptionClicked,outline:!0,children:"Descripci\xf3n din\xe1mica"})]}),Object(Ue.jsx)("div",{className:Dr.a.container,children:"static"===this.state.option?Object(Ue.jsx)(Qr,{}):Object(Ue.jsx)(Gr,{})}),this.props.ui.showCreateActivityButton?Object(Ue.jsx)("div",{className:Dr.a.createContainer,children:Object(Ue.jsx)(Me.a,{className:"secondary-btn ".concat(Dr.a.create),onClick:this.onCreateActivityClicked,children:this.state.loading?Object(Ue.jsx)(ba.a,{color:"dark",size:"sm"}):Object(Ue.jsx)("span",{children:"Crear actividad"})})}):null]})}},{key:"componentDidMount",value:function(){var e=Object(ve.a)(me.a.mark((function e(){var t;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.props.patient){e.next=4;break}return t=this.props.match.params.pid,e.next=4,this.props.getPatient(t);case 4:this.setState({patient:this.props.patient});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.props.resetConfiguration()}},{key:"prepareAndCreateActivity",value:function(){var e=Object(ve.a)(me.a.mark((function e(){var t,a,n,s,i;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t="static"===this.state.option?this.props.static:this.props.dynamic,this.props.resetConfiguration(),a=this.props.buildConfiguration({fields:t},this.state.patient),e.next=6,this.props.createActivity(a);case 6:n=e.sent,s=n.error,i=n.message,this.setState({loading:!1,redirect:!0}),this.props.setNotification({error:s,message:i,slide:!0});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onCreateActivityClicked",value:function(){this.state.loading||this.prepareAndCreateActivity()}},{key:"onOptionClicked",value:function(e){this.setState({option:e.target.name})}}]),a}(n.Component),ec={buildConfiguration:function(e,t){return function(a){var n=e.fields,s=Object.keys(n),i={};return s.forEach((function(e){var t=n[e],a=t.options;(a=Object.values(a)).forEach((function(a){a.selected&&(t.multichoice?i[e]?i[e].push(a):i[e]=[a]:i[e]=a)}))})),i.patient=t,a({type:N,payload:{configuration:i}}),i}},createActivity:function(e){return Object(ve.a)(me.a.mark((function t(){var a,n,s,i,r,c;return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(Ca,"/assembler/"),t.prev=1,t.next=4,Oe.a.post(a,{configuration:e});case 4:return n=t.sent,s=n.data,i=s.message,r=s.status,c=200!==r,t.abrupt("return",{error:c,message:i});case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",{error:!0,message:t.t0});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))},getPatient:vr,resetConfiguration:function(){return function(e){e({type:C})}},setNotification:ue},tc=Object(b.b)((function(e){return{dynamic:e.dynamic,patient:e.patient.patient,static:e.static,ui:e.ui}}),ec)($r),ac=a(183),nc=a.n(ac),sc="https://satrelo-qa.ddns.net/api",ic=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var a=Object(ve.a)(me.a.mark((function a(n){var s,i,r,c,o,l,u,d,p,h,b,j;return me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=sc,t?(i=e.pid,r=e.startDate,c=e.endDate,o=e.mid,s="".concat(s,"/feedback/historical/").concat(i,"/").concat(o,"/levels")+"?start=".concat(r,"&end=").concat(c)):(l=e.id,s="".concat(s,"/feedback/").concat(l,"/levels")),a.prev=2,a.next=5,Oe.a.get(s);case 5:return u=a.sent,d=u.data,p=d.data,h=d.message,b=d.status,j=200!==b,n({type:q,payload:{feedData:200===b?p:null}}),a.abrupt("return",{error:j,message:h});case 13:return a.prev=13,a.t0=a.catch(2),a.abrupt("return",{error:!0,message:a.t0});case 16:case"end":return a.stop()}}),a,null,[[2,13]])})));return function(e){return a.apply(this,arguments)}}()},rc=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var a=Object(ve.a)(me.a.mark((function a(n){var s,i,r,c,o,l,u,d,p,h,b,j;return me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=sc,t?(i=e.pid,r=e.startDate,c=e.endDate,o=e.mid,s="".concat(s,"/feedback/historical/").concat(i,"/").concat(o,"/matches")+"?start=".concat(r,"&end=").concat(c)):(l=e.id,s="".concat(s,"/feedback/").concat(l,"/matches")),a.prev=2,a.next=5,Oe.a.get(s);case 5:return u=a.sent,d=u.data,p=d.data,h=d.message,b=d.status,j=200!==b,n({type:q,payload:{feedData:200===b?p:null}}),a.abrupt("return",{error:j,message:h});case 13:return a.prev=13,a.t0=a.catch(2),a.abrupt("return",{error:!0,message:a.t0});case 16:case"end":return a.stop()}}),a,null,[[2,13]])})));return function(e){return a.apply(this,arguments)}}()},cc=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var a=Object(ve.a)(me.a.mark((function a(n){var s,i,r,c,o,l,u,d,p,h,b,j;return me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=sc,t?(i=e.pid,r=e.startDate,c=e.endDate,o=e.mid,s="".concat(s,"/feedback/historical/").concat(i,"/").concat(o,"/phrases")+"?start=".concat(r,"&end=").concat(c)):(l=e.id,s="".concat(s,"/feedback/").concat(l,"/phrases")),a.prev=2,a.next=5,Oe.a.get(s);case 5:return u=a.sent,d=u.data,p=d.data,h=d.message,b=d.status,j=200!==b,n({type:q,payload:{feedData:200===b?p:null}}),a.abrupt("return",{error:j,message:h});case 13:return a.prev=13,a.t0=a.catch(2),a.abrupt("return",{error:!0,message:a.t0});case 16:case"end":return a.stop()}}),a,null,[[2,13]])})));return function(e){return a.apply(this,arguments)}}()},oc=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var a=Object(ve.a)(me.a.mark((function a(n){var s,i,r,c,o,l,u,d,p,h,b,j;return me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=sc,t?(i=e.pid,r=e.startDate,c=e.endDate,o=e.mid,s="".concat(s,"/feedback/historical/").concat(i,"/").concat(o,"/secuences")+"?start=".concat(r,"&end=").concat(c)):(l=e.id,s="".concat(s,"/feedback/").concat(l,"/secuences")),a.prev=2,a.next=5,Oe.a.get(s);case 5:return u=a.sent,d=u.data,p=d.data,h=d.message,b=d.status,j=200!==b,n({type:q,payload:{feedData:200===b?p:null}}),a.abrupt("return",{error:j,message:h});case 13:return a.prev=13,a.t0=a.catch(2),a.abrupt("return",{error:!0,message:a.t0});case 16:case"end":return a.stop()}}),a,null,[[2,13]])})));return function(e){return a.apply(this,arguments)}}()},lc=a(184),uc=a.n(lc),dc=a(185),pc=a.n(dc),hc=a(244);Object(dc.registerLocale)("es",hc.a);var bc=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={date:null},n.pickerRef=s.a.createRef(),n.onDateChanged=n.onDateChanged.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.form,t=!1,a=!0,n=!1,s=uc.a.input,i="MMMM 'de' yyyy";return e&&(t=!0,a=!1,n=!0,s=uc.a.completeInput,i="dd/MM/yyyy"),Object(Ue.jsx)("div",{children:Object(Ue.jsx)(pc.a,{className:s,dateFormat:i,locale:"es",onChange:this.onDateChanged,popperPlacement:"top-end",ref:this.pickerRef,selected:this.state.date,showMonthDropdown:t,showMonthYearPicker:a,showFullMonthYearPicker:!0,showYearDropdown:n,scrollableYearDropdown:!0,yearDropdownItemNumber:30,withPortal:!0})})}},{key:"componentDidMount",value:function(){this.pickerRef&&this.pickerRef.current.input&&(this.pickerRef.current.input.readOnly=!0);var e=this.props,t=e.date,a=e.feedDate,n=e.form;this.setState({date:n?t:a})}},{key:"componentDidUpdate",value:function(e){this.props.date!==e.date&&this.setState({date:this.props.date})}},{key:"onDateChanged",value:function(e){this.setState({date:e});var t=this.props,a=t.form,n=t.name;a?this.props.onChange({target:{value:e,name:n}}):this.props.setFeedDate(e)}}]),a}(n.Component),jc={setFeedDate:function(e){return function(t){t({type:W,payload:{feedDate:e}})}}},mc=Object(b.b)((function(e){return{feedDate:e.feedback.feedDate}}),jc)(bc),vc=a(239),fc=a.n(vc),Oc=a(62),gc=a.n(Oc),_c={Pronombre:{color:"rgba(248, 196, 113, 0.8)",title:"Pronombre"},Sustantivo:{color:"rgba(240, 178, 122, 0.8)",title:"Sustantivo"},Adjetivo:{color:"rgba(127, 179, 213, 0.8)",title:"Adjetivo"},Verbo:{color:"rgba(115, 198, 182, 0.8)",title:"Verbo"},"Art\xedculo":{color:"rgba(241, 148, 138, 0.8)",title:"Art\xedculo"},"Conjunci\xf3n":{color:"rgba(247, 220, 111, 0.8)",title:"Conjunci\xf3n"},"Preposici\xf3n":{color:"rgba(39, 174, 96, 0.8)",title:"Preposici\xf3n"}},xc=function(e,t){var a=e.length,n=Math.floor(100*t/a);return e.sort((function(e,t){return e.order_phrase>t.order_phrase?1:-1})),{percentage:n,words:e}},kc=a(25),yc=a.n(kc),Sc=a(95),Cc={doughnut:function(){return{legend:{labels:{boxWidth:10,usePointStyle:!0}},tooltips:{enabled:!0,mode:"single",callbacks:{label:function(e,t){var a=t.labels[e.index],n=t.datasets[0].data[e.index];return"".concat(n,"% de ").concat(a.toLowerCase())}}}}},line:function(e){return{legend:{align:"end",labels:{boxWidth:10,usePointStyle:!0}},scales:{xAxes:[{scaleLabel:{display:!0,labelString:"match"===e?"Apariciones del vocabulario":"Sesiones"}}],yAxes:[{scaleLabel:{display:!0,labelString:"match"===e?"N\xfamero de errores":"Minutos"},ticks:{beginAtZero:!0,steps:10,stepSize:"match"===e?1:10,max:"match"===e?10:60}}]},tooltips:{enabled:!0,mode:"single",callbacks:{label:function(t,a){var n=t.yLabel;return n+="".concat("match"===e?" error(es)":" minuto(s)"),n},title:function(t,a){if("match"===e){var n=t[0].yLabel;return"".concat(n," error(es) de ").concat(n+1," intento(s)")}var s=t[0].xLabel;return"Sesi\xf3n ".concat(s)}}}}},stackBar:function(){return{legend:{align:"end",labels:{boxWidth:10,usePointStyle:!0}},scales:{xAxes:[{scaleLabel:{display:!0,labelString:"Palabras asociadas"},stacked:!0}],yAxes:[{scaleLabel:{display:!0,labelString:"% de aciertos/desaciertos"},ticks:{beginAtZero:!0,steps:10,stepSize:10,max:100},stacked:!0}]},tooltips:{enabled:!0,mode:"single",callbacks:{label:function(e,t){var a=t.datasets[e.datasetIndex].label;return e.yLabel+"% de "+a.toLowerCase()},title:function(e,t){var a=e[0].xLabel.split("("),n=a[0],s=a[1],i=parseInt(s.split(")")[0],10),r=Math.round(e[0].yLabel*i/100);return"".concat(n,"(").concat(r," de ").concat(i,")")}}}}}},Nc=Cc.doughnut,wc=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={chartData:{},description:"",options:Nc(),percentage:0},n}return Object(o.a)(a,[{key:"render",value:function(){return Object(Ue.jsx)(xn.a,{sm:this.props.sm,md:this.props.md,className:yc.a.container,children:Object(Ue.jsxs)(qs,{children:[Object(Ue.jsx)("p",{className:yc.a.title,children:this.props.title}),Object(Ue.jsx)(Sc.Doughnut,{data:this.state.chartData,options:this.state.options,height:this.props.height}),Object(Ue.jsxs)("div",{className:yc.a.percentage,children:[this.state.percentage,"%"]}),Object(Ue.jsx)("p",{className:yc.a.description,children:this.state.description})]})})}},{key:"componentDidMount",value:function(){var e=function(e){var t=0;e.forEach((function(e){100===e.percentage&&(t+=1)}));var a=e.length,n=Math.floor(100*t/a);return{chartData:{labels:["Correctas","Incorrectas"],datasets:[{label:"",data:[n,100-n],backgroundColor:["#73C6B6","#E5E7E9"]}]},hits:t,total:a}}(this.props.data),t=e.chartData,a=e.hits,n=e.total,s=t.datasets[0].data[0],i="El paciente pronunci\xf3 correctamente ".concat(a," ")+"de un total de ".concat(n," frases");this.setState({chartData:t,description:i,percentage:s})}}]),a}(n.Component),Ic=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.data;return Object(Ue.jsx)(xn.a,{sm:this.props.sm,md:this.props.md,lg:this.props.lg,className:yc.a.container,children:Object(Ue.jsx)(qs,{children:Object(Ue.jsx)("div",{className:"flex",children:Object(Ue.jsxs)("div",{style:{width:"100%"},children:[Object(Ue.jsxs)("div",{className:"flex",children:[Object(Ue.jsxs)("div",{className:yc.a.title,children:["Nivel ",e.level]}),Object(Ue.jsxs)("div",{className:yc.a.title,children:["Sesi\xf3n ",e.id_session]})]}),Object(Ue.jsx)("div",{className:yc.a.score,children:e.score}),Object(Ue.jsx)("div",{className:yc.a.subtitle,children:"Puntos ganados"}),Object(Ue.jsx)("div",{className:"".concat(yc.a.score," ").concat(yc.a.mt20),children:this.setLevelTime()}),Object(Ue.jsx)("div",{className:yc.a.subtitle,children:"Minutos para terminar nivel"})]})})})})}},{key:"setLevelTime",value:function(){var e=this.props.data,t=e.date_start,a=e.date_end,n=ca(t,a).minutes;return n?Math.round(n):0}}]),a}(n.Component),Ac=Cc.line,Tc=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={chartData:{},options:Ac(n.props.metric)},n}return Object(o.a)(a,[{key:"render",value:function(){return Object(Ue.jsx)(xn.a,{sm:this.props.sm,md:this.props.md,className:yc.a.container,children:Object(Ue.jsxs)(qs,{children:[Object(Ue.jsx)("p",{className:yc.a.title,children:"match"===this.props.metric?Object(Ue.jsx)("span",{children:this.props.title}):Object(Ue.jsx)("span",{children:"Tiempos en minutos"})}),Object(Ue.jsx)(Sc.Line,{data:this.state.chartData,options:this.state.options,height:this.props.height})]})})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.data,a=e.metric,n=e.title;if(t){var s="match"===a?function(e,t){var a=Object.values(e),n=[];a.forEach((function(e){e.variable===t&&n.push(e)}));var s=[],i=1,r=[],c=0;return n.forEach((function(e){e.is_good?(s.push(i),r.push(c),i+=1,c>0&&(c=0)):c+=1})),{labels:s,datasets:[{label:"Curva de errores",data:r,backgroundColor:"rgba(241, 148, 138, 0.5)",borderColor:"rgba(241, 148, 138, 1.0)"}]}}(t,n):function(e){var t=Object.values(e),a=[],n=[];return t.forEach((function(e){var t=ca(e.date_start,e.date_end);n.push(Math.round(t.minutes)),a.push("ID ".concat(e.id))})),{labels:a,datasets:[{label:"Curva de tiempo",data:n,backgroundColor:"rgba(241, 148, 138, 0.5)",borderColor:"rgba(241, 148, 138, 1.0)"}]}}(t);this.setState({chartData:s})}}}]),a}(n.Component),Pc=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={phrases:[]},n}return Object(o.a)(a,[{key:"render",value:function(){return Object(Ue.jsx)(xn.a,{sm:"12",md:"7",className:yc.a.container,children:Object(Ue.jsxs)(qs,{children:[Object(Ue.jsx)("p",{className:yc.a.title,children:"Palabras correctas por frases"}),this.state.phrases.map((function(e,t){return Object(Ue.jsxs)("div",{className:"flex",children:[Object(Ue.jsx)("div",{className:"flex ".concat(yc.a.wordsContainer),children:e.words.map((function(e,t){return Object(Ue.jsx)("div",{className:yc.a.word,style:{color:e.checked?"black":"#F1948A"},children:e.word},t)}))}),Object(Ue.jsxs)("div",{className:yc.a.phrasePercentage,children:[e.percentage,"%"]})]},t)}))]})})}},{key:"componentDidMount",value:function(){this.setState({phrases:this.props.data})}}]),a}(n.Component),Dc=Cc.stackBar,Ec=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={chartData:{},options:Dc()},n}return Object(o.a)(a,[{key:"render",value:function(){return Object(Ue.jsx)(xn.a,{sm:this.props.sm,md:this.props.md,lg:this.props.lg,className:yc.a.container,children:Object(Ue.jsxs)(qs,{children:[Object(Ue.jsx)("p",{className:yc.a.title,children:this.props.title}),Object(Ue.jsx)(Sc.Bar,{data:this.state.chartData,options:this.state.options,height:this.props.height})]})})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.color,a=e.data,n=e.title;if(a){var s=function(e,t,a){var n=Object.values(e),s=[];n.forEach((function(e){e.kind===t&&s.push(e)}));var i=[];s.forEach((function(e){i.includes(e.word)||i.push(e.word)}));var r=[],c=[];return i.forEach((function(e,t){var a=0,n=0;s.forEach((function(t){t.word===e&&(t.checked&&(n+=1),a+=1)}));var o=Math.floor(100*n/a),l=100-o;r.push(o),c.push(l),i[t]="".concat(e,"(").concat(a,")")})),{labels:i,datasets:[{label:"Aciertos",data:r,backgroundColor:a},{label:"Desaciertos",data:c,backgroundColor:"rgba(229, 231, 233, 0.7)"}]}}(a,n,t);this.setState({chartData:s})}}}]),a}(n.Component),Mc=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={matchesData:null,words:[]},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(Ue.jsx)("div",{children:this.state.words&&this.state.words.length>0?Object(Ue.jsxs)(_n.a,{noGutters:!0,children:[Object(Ue.jsx)(xn.a,{sm:"12",children:Object(Ue.jsx)("div",{className:gc.a.subtitle,children:"Emparejamiento de vocabulario"})}),this.state.words.map((function(t,a){return Object(Ue.jsx)(Tc,{sm:"12",md:"4",data:e.state.matchesData,height:230,metric:"match",title:t},a)}))]}):Object(Ue.jsx)(ha,{children:"No existe informaci\xf3n suficiente que permita construir la informaci\xf3n solicitada."})})}},{key:"componentDidMount",value:function(){var e=this.props.feedData.Matches_Feeds;if(e){var t=function(e){var t=Object.values(e),a=[];return t.forEach((function(e){a.includes(e.variable)||a.push(e.variable)})),a}(e);this.setState({matchesData:e,words:t})}}}]),a}(n.Component),Uc=Object(b.b)((function(e){return{feedData:e.feedback.feedData,session:e.activity.session}}))(Mc),Lc=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={levels:[]},n}return Object(o.a)(a,[{key:"render",value:function(){return Object(Ue.jsxs)(_n.a,{noGutters:!0,children:[Object(Ue.jsx)(xn.a,{xs:"12",children:Object(Ue.jsx)("div",{className:gc.a.subtitle,children:"Niveles en la sesi\xf3n"})}),this.state.levels.map((function(e){return Object(Ue.jsx)(Ic,{sm:"12",md:"6",lg:"4",data:e},e.id)}))]})}},{key:"componentDidMount",value:function(){this.setLevels()}},{key:"componentDidUpdate",value:function(){this.setLevels()}},{key:"setLevels",value:function(){var e=this.props.feedData.Levels_Feeds,t=this.state.levels;if(e&&0===t.length){var a=Object.values(e);this.setState({levels:a})}}}]),a}(n.Component),Rc=Object(b.b)((function(e){return{feedData:e.feedback.feedData}}))(Lc),Fc=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={sessionsData:null},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.sessionsData;return Object(Ue.jsxs)(_n.a,{noGutters:!0,children:[Object(Ue.jsx)(xn.a,{sm:"12",children:Object(Ue.jsx)("div",{className:gc.a.subtitle,children:"Tiempos por sesiones de la actividad"})}),e&&Object(Ue.jsx)(Tc,{sm:"12",md:"6",data:e,height:200,metric:"time"})]})}},{key:"componentDidMount",value:function(){var e=this.props.feedData.Sessions_Feeds;e&&this.setState({sessionsData:e})}}]),a}(n.Component),Bc=Object(b.b)((function(e){return{feedData:e.feedback.feedData}}))(Fc),zc=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={groupedPhrases:null,phrasesData:null,structures:[]},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state.groupedPhrases;return Object(Ue.jsx)("div",{children:t&&t.length>0?Object(Ue.jsxs)(_n.a,{noGutters:!0,children:[Object(Ue.jsx)(xn.a,{sm:"12",children:Object(Ue.jsx)("div",{className:gc.a.subtitle,children:"Frases trabajadas en la actividad"})}),t&&Object(Ue.jsx)(wc,{sm:"12",md:"5",data:t,height:160,title:"Resumen de las frases"}),"evolution"===this.props.feedback&&t&&Object(Ue.jsx)(Pc,{data:t}),Object(Ue.jsx)(xn.a,{sm:"12",children:Object(Ue.jsx)("div",{className:gc.a.subtitle,children:"Discriminaci\xf3n por estructura sint\xe1ctica"})}),this.state.structures.map((function(t,a){return Object(Ue.jsx)(Ec,{sm:"12",md:"6",lg:"4",color:t.color,data:e.state.phrasesData,height:230,title:t.title},a)}))]}):Object(Ue.jsx)(ha,{children:"No existe informaci\xf3n suficiente que permita construir la informaci\xf3n solicitada."})})}},{key:"componentDidMount",value:function(){var e=this.props.feedData.Phrases_Feeds;if(e){var t=function(e){var t=Object.values(e),a=[];if(t.length>0){var n=t.shift(),s=[n],i=n.checked?1:0;t.forEach((function(e,r){if(e.id_phrase===n.id_phrase){if(s.push(e),e.checked&&(i+=1),r===t.length-1){var c=xc(s,i);a.push(c)}}else if(e.id_phrase!==n.id_phrase){var o=xc(s,i);a.push(o),s=[n=e],i=n.checked?1:0}}))}return a}(e),a=function(e){var t=Object.values(e),a={};return t.forEach((function(e){var t=Object.keys(a),n=e.kind;t.includes(n)||(a[n]=_c[n])})),Object.values(a)}(e);this.setState({groupedPhrases:t,phrasesData:e,structures:a})}}}]),a}(n.Component),qc=Object(b.b)((function(e){return{feedData:e.feedback.feedData}}))(zc),Wc=a(49),Hc=a.n(Wc),Vc={1:{id:1,name:"Domin\xf3",alias:"Do",semantic_description:1},2:{id:2,name:"Ordenando",alias:"Or",semantic_description:1},3:{id:3,name:"Secuencia",alias:"Se",semantic_description:2}},Gc=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={description:1,option:"vocalization"},n.onOptionClicked=n.onOptionClicked.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.option,t="secondary-btn-outline ".concat(Hc.a.btn),a="vocalization"===e?"".concat(t," ").concat(Hc.a.selected):t,n="inGame"===e?"".concat(t," ").concat(Hc.a.selected):t,s="levels"===e?"".concat(t," ").concat(Hc.a.selected):t,i="times"===e?"".concat(t," ").concat(Hc.a.selected):t;2===this.state.description&&(a="".concat(a," ").concat(Hc.a.disabled),n="".concat(n," ").concat(Hc.a.disabled));var r=this.props.feedback,c=400,o=32.5;return"historical"===r&&(c=500,o=24.5),Object(Ue.jsxs)("div",{className:"flex ".concat(Hc.a.btnContainer),style:{"--contWidth":"".concat(c,"px")},children:[Object(Ue.jsx)(Me.a,{className:a,name:"vocalization",onClick:this.onOptionClicked,style:{"--btnWidth":"".concat(o,"%")},children:this.props.windowWidth<767&&"historical"===r?Object(Ue.jsx)("span",{className:Hc.a.span,children:"Vocaliza..."}):Object(Ue.jsx)("span",{className:Hc.a.span,children:"Vocalizaci\xf3n"})}),Object(Ue.jsx)(Me.a,{className:n,name:"inGame",onClick:this.onOptionClicked,style:{"--btnWidth":"".concat(o,"%")},children:"Juego"}),Object(Ue.jsx)(Me.a,{className:s,name:"levels",onClick:this.onOptionClicked,style:{"--btnWidth":"".concat(o,"%")},children:"Niveles"}),"historical"===r&&Object(Ue.jsx)(Me.a,{className:i,name:"times",onClick:this.onOptionClicked,style:{"--btnWidth":"".concat(o,"%")},children:"Tiempos"})]})}},{key:"componentDidMount",value:function(){this.setStateValues()}},{key:"componentDidUpdate",value:function(e){e.mechanic!==this.props.mechanic&&this.setStateValues()}},{key:"onOptionClicked",value:function(e){var t=e.target.name,a=this.state.description;this.setState({option:t}),this.props.onOptionClicked({description:a,option:t})}},{key:"setStateValues",value:function(){var e=1,t=1===(e="historical"===this.props.feedback?Vc[this.props.mechanic].semantic_description:this.props.activity.Mechanic.semantic_description)?"vocalization":"levels";this.setState({description:e,option:t}),this.props.onOptionClicked({description:e,option:t})}}]),a}(n.Component),Kc=Object(b.b)((function(e){return{activity:e.activity.activity,windowWidth:e.ui.windowWidth}}))(Gc),Xc=a(240),Zc=a.n(Xc),Yc=a(59),Jc=a.n(Yc),Qc=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onClicked=n.onClicked.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.index,a=e.session,n=e.sessionSelected,s=Jc.a.container,i=Jc.a.innerContainer;return 0===t?s="".concat(s," ").concat(Jc.a.first):2===t&&(s="".concat(s," ").concat(Jc.a.last)),n&&a.id===n.id&&(i="".concat(i," ").concat(Jc.a.selected)),Object(Ue.jsx)(xn.a,{xs:"12",sm:"6",md:"4",className:s,children:Object(Ue.jsx)(Me.a,{className:"ghost-btn ".concat(Jc.a.btn),onClick:this.onClicked,children:Object(Ue.jsxs)("div",{className:i,children:[Object(Ue.jsxs)("div",{className:"flex ".concat(Jc.a.title),children:[Object(Ue.jsx)("span",{children:"Sesi\xf3n"}),Object(Ue.jsxs)("span",{children:["ID: ",a.id]})]}),Object(Ue.jsxs)("div",{className:Jc.a.date,children:["Registro del ",this.getFormattedDate(a.date_start)]}),Object(Ue.jsxs)("div",{className:Jc.a.time,children:[this.getDifference(a.date_start,a.date_end)," minutos"]})]})})})}},{key:"getDifference",value:function(e,t){var a=ca(e,t);return Math.round(a.minutes)}},{key:"getFormattedDate",value:function(e){return oa(e)}},{key:"onClicked",value:function(){this.props.onClicked(this.props.session)}}]),a}(n.Component),$c=Object(b.b)((function(e){return{sessionSelected:e.activity.session}}))(Qc),eo=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onSessionClicked=n.onSessionClicked.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(Ue.jsx)(_n.a,{className:Zc.a.container,noGutters:!0,children:this.props.sessions.map((function(t,a){return Object(Ue.jsx)($c,{index:a,onClicked:e.onSessionClicked,session:t},t.id)}))})}},{key:"componentDidMount",value:function(){var e=this.props.sessions[0];this.setSession(e)}},{key:"onSessionClicked",value:function(e){this.setSession(e)}},{key:"setSession",value:function(e){this.props.setSession(e)}}]),a}(n.Component),to={setSession:Ta},ao=Object(b.b)(null,to)(eo),no=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={loading:!1,option:"vocalization"},n.onOptionClicked=n.onOptionClicked.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=Object.values(this.props.sessions);return e.sort((function(e,t){return e.id<t.id?1:-1})),Object(Ue.jsxs)("div",{className:fc.a.container,children:[Object(Ue.jsx)(ao,{sessions:e}),Object(Ue.jsx)(Kc,{feedback:"evolution",onOptionClicked:this.onOptionClicked}),null===this.props.feedData?Object(Ue.jsx)(ha,{children:"No existen registros que permitan construir las estad\xedsticas solicitadas."}):this.state.loading?Object(Ue.jsx)(ma,{color:"primary"}):"vocalization"===this.state.option?Object(Ue.jsx)(qc,{feedback:"evolution"}):"inGame"===this.state.option?Object(Ue.jsx)(Uc,{}):Object(Ue.jsx)(Rc,{})]})}},{key:"componentDidUpdate",value:function(e){e.session!==this.props.session&&this.getFeedback()}},{key:"getFeedback",value:function(){var e=Object(ve.a)(me.a.mark((function e(){var t,a,n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.session)){e.next=25;break}if(a=t.id,n=this.state.option,this.setState({loading:!0}),"vocalization"!==n){e.next=10;break}return e.next=8,this.props.getPhrases({id:a});case 8:e.next=24;break;case 10:if("inGame"!==n){e.next=15;break}return e.next=13,this.props.getMatches({id:a});case 13:e.next=24;break;case 15:if("levels"!==n){e.next=24;break}if(1!==this.props.activity.Mechanic.semantic_description){e.next=22;break}return e.next=20,this.props.getLevels({id:a});case 20:e.next=24;break;case 22:return e.next=24,this.props.getSecuences({id:a});case 24:this.setState({loading:!1});case 25:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onOptionClicked",value:function(e){var t=this;this.setState({option:e.option},(function(){return t.getFeedback()}))}}]),a}(n.Component),so={getLevels:ic,getMatches:rc,getPhrases:cc,getSecuences:oc},io=Object(b.b)((function(e){return{activity:e.activity.activity,feedData:e.feedback.feedData,sessions:e.activity.sessions,session:e.activity.session}}),so)(no),ro=a(241),co=a.n(ro),oo=a(145),lo=a.n(oo),uo=a(496),po=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={mechanics:Object.values(Vc),selected:1},n.onMechanicClicked=n.onMechanicClicked.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(Ue.jsx)("div",{className:"flex ".concat(lo.a.container),children:this.state.mechanics.map((function(t){var a=lo.a.btn;return t.id===e.state.selected&&(a="".concat(a," ").concat(lo.a.selected)),Object(Ue.jsxs)("div",{children:[Object(Ue.jsx)(Me.a,{className:"ghost-btn ".concat(a),id:"utooltip".concat(t.name),name:t.id,onClick:e.onMechanicClicked,children:t.alias}),Object(Ue.jsx)(uo.a,{placement:"right",target:"utooltip".concat(t.name),children:t.name})]},t.id)}))})}},{key:"onMechanicClicked",value:function(e){var t=e.target.name;t=parseInt(t,10),this.setState({selected:t}),this.props.onMechanicClicked(t)}}]),a}(n.Component),ho=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={description:1,loading:!1,mid:1,option:"vocalization"},n.onOptionClicked=n.onOptionClicked.bind(Object(l.a)(n)),n.onMechanicClicked=n.onMechanicClicked.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){return Object(Ue.jsxs)("div",{className:co.a.container,children:[Object(Ue.jsx)(po,{onMechanicClicked:this.onMechanicClicked}),Object(Ue.jsx)(Kc,{feedback:"historical",mechanic:this.state.mid,onOptionClicked:this.onOptionClicked}),this.state.loading?Object(Ue.jsx)(ma,{color:"primary"}):null===this.props.feedData?Object(Ue.jsx)(ha,{children:"No existen registros que permitan construir las estad\xedsticas solicitadas."}):"vocalization"===this.state.option?Object(Ue.jsx)(qc,{feedback:"historical"}):"inGame"===this.state.option?Object(Ue.jsx)(Uc,{}):"levels"===this.state.option?Object(Ue.jsx)(Rc,{}):Object(Ue.jsx)(Bc,{})]})}},{key:"componentDidUpdate",value:function(e,t){var a=this.props.date,n=this.state.mid;a===e.date&&n===t.mid||this.getFeedback()}},{key:"getFeedback",value:function(){var e=Object(ve.a)(me.a.mark((function e(){var t,a,n,s,i,r,c,o,l,u,d;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.date,n=t.pid,s=this.state,i=s.description,r=s.mid,c=s.option,o=la(a.toISOString()),l=o.startDate,u=o.endDate,d={pid:n,startDate:l,endDate:u,mid:r},this.setState({loading:!0}),"vocalization"!==c){e.next=10;break}return e.next=8,this.props.getPhrases(d,!0);case 8:e.next=28;break;case 10:if("inGame"!==c){e.next=15;break}return e.next=13,this.props.getMatches(d,!0);case 13:e.next=28;break;case 15:if("levels"!==c){e.next=25;break}if(1!==i){e.next=21;break}return e.next=19,this.props.getLevels(d,!0);case 19:e.next=23;break;case 21:return e.next=23,this.props.getSecuences(d,!0);case 23:e.next=28;break;case 25:if("times"!==c){e.next=28;break}return e.next=28,this.props.getSessions(d,!0);case 28:this.setState({loading:!1});case 29:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onOptionClicked",value:function(e){var t=this;this.setState({description:e.description,option:e.option},(function(){return t.getFeedback()}))}},{key:"onMechanicClicked",value:function(e){this.setState({mid:e})}}]),a}(n.Component),bo={getLevels:ic,getMatches:rc,getPhrases:cc,getSecuences:oc,getSessions:function(e){return function(){var t=Object(ve.a)(me.a.mark((function t(a){var n,s,i,r,c,o,l,u,d,p,h;return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.pid,s=e.startDate,i=e.endDate,r=e.mid,c="".concat(sc,"/feedback/historical/").concat(n,"/").concat(r,"/sessions")+"?start=".concat(s,"&end=").concat(i),t.prev=2,t.next=5,Oe.a.get(c);case 5:return o=t.sent,l=o.data,u=l.data,d=l.message,p=l.status,h=200!==p,a({type:q,payload:{feedData:200===p?u:null}}),t.abrupt("return",{error:h,message:d});case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",{error:!0,message:t.t0});case 16:case 17:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}()}},jo=Object(b.b)((function(e){return{feedData:e.feedback.feedData,date:e.feedback.feedDate}}),bo)(ho),mo=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={kind:"evoluci\xf3n",loading:!1},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.kind,a=e.loading,n="evoluci\xf3n"===t?"Evoluci\xf3n por sesiones":"Hist\xf3rico por mes",s=this.props.match.params.pid;return Object(Ue.jsxs)(ti,{page:"feedback",pt:50,children:[Object(Ue.jsxs)("div",{className:"flex ".concat(nc.a.container),children:[Object(Ue.jsx)("div",{className:nc.a.title,children:n}),"hist\xf3rico"===t&&Object(Ue.jsx)(mc,{})]}),a?Object(Ue.jsx)(ma,{color:"primary"}):this.props.sessions&&"evoluci\xf3n"===t?Object(Ue.jsx)(io,{}):"hist\xf3rico"===t?Object(Ue.jsx)(jo,{pid:s}):null]})}},{key:"componentDidMount",value:function(){var e=this.props.match.params,t=e.aid,a=e.kind;"evoluci\xf3n"===a&&this.getActivity(t),this.setState({kind:a})}},{key:"componentWillUnmount",value:function(){this.props.setActivity(null),this.props.setFeedData(null),this.props.setSessions(null),this.props.setSession(null)}},{key:"getActivity",value:function(){var e=Object(ve.a)(me.a.mark((function e(t){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.props.getActivity(t);case 3:this.setFirstSessions(),this.setState({loading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setFirstSessions",value:function(){var e=this.props.activity,t=[];e&&((t=Object.values(e.Activities_Sessions)).sort((function(e,t){return e.id<t.id?1:-1})),t=Object.assign.apply(Object,[{}].concat(Object(is.a)(t.slice(0,3).map((function(e){return Object(ss.a)({},e.id,e)})))))),this.props.setSessions(t)}}]),a}(n.Component),vo={getActivity:Na,setActivity:Ia,setFeedData:function(e){return function(t){t({type:q,payload:{feedData:e}})}},setSessions:function(e){return function(t){t({type:O,payload:{sessions:e}})}},setSession:Ta},fo=Object(b.b)((function(e){return{activity:e.activity.activity,sessions:e.activity.sessions}}),vo)(mo),Oo=a(79),go=a.n(Oo),_o=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={error:null,loading:!1,password:"",userId:null,username:""},n.onInputChanged=n.onInputChanged.bind(Object(l.a)(n)),n.onForgotClicked=n.onForgotClicked.bind(Object(l.a)(n)),n.onLogin=n.onLogin.bind(Object(l.a)(n)),n.onLoginClicked=n.onLoginClicked.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.userId;return e?Object(Ue.jsx)(p.a,{to:"/terapeuta/".concat(e,"/pacientes"),push:!0}):Object(Ue.jsxs)("div",{className:go.a.container,children:[Object(Ue.jsx)("div",{className:go.a.title,children:"Ingreso"}),this.state.error&&Object(Ue.jsx)("div",{className:go.a.error,children:this.state.error}),Object(Ue.jsxs)(xa.a,{children:[Object(Ue.jsxs)(ka.a,{children:[Object(Ue.jsx)(Ja.a,{className:go.a.label,children:"Nombre de usuario"}),Object(Ue.jsx)(ya.a,{name:"username",onChange:this.onInputChanged,type:"text"})]}),Object(Ue.jsxs)(ka.a,{children:[Object(Ue.jsx)(Ja.a,{className:go.a.label,children:"Contrase\xf1a"}),Object(Ue.jsx)(ya.a,{name:"password",onChange:this.onInputChanged,type:"password"}),Object(Ue.jsx)(Me.a,{className:"ghost-btn ".concat(go.a.btnForgot),onClick:this.onForgotClicked,children:"\xbfOlvidaste tu contrase\xf1a?"})]}),Object(Ue.jsx)(Me.a,{className:"secondary-btn ".concat(go.a.btn),onClick:this.onLoginClicked,children:this.state.loading?Object(Ue.jsx)(ba.a,{color:"dark",size:"sm"}):Object(Ue.jsx)("span",{children:"Entrar"})})]})]})}},{key:"onInputChanged",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(ss.a)({},a,n))}},{key:"onForgotClicked",value:function(e){e.preventDefault();this.props.setModal({title:"Recuperaci\xf3n de la contrase\xf1a",type:"forgot_password",role:2})}},{key:"onLogin",value:function(){var e=Object(ve.a)(me.a.mark((function e(t,a){var n,s,i,r,c;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),n={username:t,password:a},e.next=4,this.props.login(n,pt);case 4:s=e.sent,i=s.error,r=s.message,c=s.userId,i&&(i=r),this.setState({error:i,loading:!1,userId:c});case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"onLoginClicked",value:function(e){if(e.preventDefault(),!this.state.loading){var t=this.state,a=t.username,n=t.password;""!==a.trim()&&""!==n.trim()?this.onLogin(a,n):this.setState({error:"El usuario y la contrase\xf1a son obligatorios"})}}}]),a}(n.Component),xo={login:Nt,setModal:le},ko=Object(b.b)(null,xo)(_o),yo=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.ui.vOffset;return Object(Ue.jsxs)(_n.a,{noGutters:!0,children:[Object(Ue.jsx)(xn.a,{sm:"12",md:"6"}),Object(Ue.jsx)(xn.a,{sm:"12",md:"6",children:Object(Ue.jsx)("div",{className:"flex",style:{alignItems:"flex-start",justifyContent:"center",height:"calc(100vh - ".concat(e,"px)")},children:Object(Ue.jsx)(ko,{})})})]})}},{key:"componentDidMount",value:function(){this.props.setBar("standard"),this.props.setParallax(!1),this.props.showMobileMenu(!1),this.props.setUser(null),this.props.showAvatar(!1)}}]),a}(n.Component),So={setBar:ce,setParallax:de,setUser:Ga,showAvatar:pe,showMobileMenu:be},Co=Object(b.b)((function(e){return{ui:e.ui}}),So)(yo),No=a(68),wo=a.n(No),Io=a(117),Ao=a.n(Io),To=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChange=n.onChange.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=Ao.a.searchContainer;return this.props.patients&&(e="".concat(e," ").concat(Ao.a.marginTop)),Object(Ue.jsxs)("div",{className:"flex ".concat(e),children:[Object(Ue.jsx)(We.a,{className:Ao.a.searchIcon,icon:He.h}),Object(Ue.jsx)(ya.a,{className:Ao.a.search,type:"text",placeholder:"Busca por nombre o identificaci\xf3n",onChange:this.onChange})]})}},{key:"onChange",value:function(){var e=Object(ve.a)(me.a.mark((function e(t){var a,n,s;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.value,!(n=this.props.patients)){e.next=8;break}return s="my"===n?this.props.userId:null,e.next=6,this.props.getPatients(s,a);case 6:e.next=10;break;case 8:return e.next=10,this.props.getUsers(a);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(n.Component),Po={getPatients:fr,getUsers:Ha},Do=Object(b.b)(null,Po)(To),Eo=a(32),Mo=a.n(Eo),Uo=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getFormattedDate=function(e){return oa(e)},n.state={check:Mo.a.btn},n.onAssignPatientClicked=n.onAssignPatientClicked.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.userId,a=e.patient,n=a.id;return Object(Ue.jsx)("div",{className:Mo.a.container,children:Object(Ue.jsx)(at.b,{className:"ghost-btn ".concat(Mo.a.link),to:"/terapeuta/".concat(t,"/pacientes/").concat(n,"/actividades"),children:Object(Ue.jsxs)("div",{className:"flex ".concat(Mo.a.height," ").concat(Mo.a.padding),children:[Object(Ue.jsxs)("div",{className:"flex",children:[a.profile_img?Object(Ue.jsx)("img",{alt:"",className:Mo.a.uimage,src:"".concat("https://satrelo-qa.ddns.net").concat(a.profile_img)}):Object(Ue.jsx)("div",{className:"flex ".concat(Mo.a.uimage," ").concat(Mo.a.thumb),style:{backgroundColor:a.color},children:a.thumbnail_alias}),Object(Ue.jsxs)("div",{className:Mo.a.padding,children:[Object(Ue.jsxs)("div",{className:Mo.a.uname,children:[a.name,"\xa0",a.last_name]}),Object(Ue.jsxs)("div",{className:Mo.a.uinfo,children:["Paciente desde el ",this.getFormattedDate(a.createdAt)]})]})]}),Object(Ue.jsx)(Me.a,{className:"ghost-btn ".concat(this.state.check),onClick:this.onAssignPatientClicked,children:Object(Ue.jsx)(We.a,{icon:He.a,size:"2x"})})]})})})}},{key:"componentDidMount",value:function(){this.setCheck()}},{key:"componentDidUpdate",value:function(){this.setCheck()}},{key:"checkTherapist",value:function(e,t){if(t.Therapists){if(t.Therapists[e])return!0}else if(t.Therapists_Patients&&e===t.Therapists_Patients.id_therapist)return!0;return!1}},{key:"onAssignPatientClicked",value:function(){var e=Object(ve.a)(me.a.mark((function e(t){var a,n,s;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),t.preventDefault(),a=this.props,n=a.userId,s=a.patient,!this.checkTherapist(n,s)){e.next=8;break}return e.next=6,this.props.removePatient(n,s.id);case 6:e.next=10;break;case 8:return e.next=10,this.props.createPatient(n,s.id);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setCheck",value:function(){var e=this.props,t=e.userId,a=e.patient,n=this.checkTherapist(t,a)?Mo.a.btnActive:Mo.a.btn;n!==this.state.check&&this.setState({check:n})}}]),a}(n.Component),Lo={createPatient:function(e,t){return function(){var a=Object(ve.a)(me.a.mark((function a(n){var s,i,r,c,o,l,u,d;return me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s="".concat(mr,"/therapist/").concat(e,"/patient"),a.prev=1,a.next=4,Oe.a.post(s,{data:{pid:t}});case 4:return i=a.sent,r=i.data,c=r.data,o=r.message,l=r.status,u=200!==l,200===l&&(d=c[t],n({type:V,payload:{association:d}})),a.abrupt("return",{error:u,message:o});case 11:return a.prev=11,a.t0=a.catch(1),a.abrupt("return",{error:!0,message:a.t0});case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()},removePatient:function(e,t){return function(){var a=Object(ve.a)(me.a.mark((function a(n){var s,i,r,c,o,l;return me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s="".concat(mr,"/therapist/").concat(e,"/patient/").concat(t),a.prev=1,a.next=4,Oe.a.delete(s);case 4:return i=a.sent,r=i.data,c=r.message,o=r.status,l=200!==o,200===o&&n({type:H,payload:{_association:{_id_therapist:e,_id_patient:t}}}),a.abrupt("return",{error:l,message:c});case 11:return a.prev=11,a.t0=a.catch(1),a.abrupt("return",{error:!0,message:a.t0});case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()}},Ro=Object(b.b)(null,Lo)(Uo),Fo=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={loading:!1,option:"my",userId:null},n.onOptionSelected=n.onOptionSelected.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t="primary-btn-outline left ".concat(wo.a.btn," \n                            ").concat("my"===this.state.option?wo.a.btnSelected:""),a="primary-btn-outline ".concat(wo.a.btn," \n                            ").concat("all"===this.state.option?wo.a.btnSelected:""),n=this.props.patients;return n=n?Object.values(this.props.patients):[],Object(Ue.jsxs)(ti,{pt:50,children:[Object(Ue.jsx)("div",{className:wo.a.title,children:"Pacientes"}),Object(Ue.jsxs)("div",{className:"flex ".concat(wo.a.searchContainer),children:[Object(Ue.jsxs)("div",{className:"flex ".concat(wo.a.btnContainer),children:[Object(Ue.jsx)(Me.a,{className:t,name:"my",onClick:this.onOptionSelected,outline:!0,children:"Mis pacientes"}),Object(Ue.jsx)(Me.a,{className:a,name:"all",onClick:this.onOptionSelected,outline:!0,children:"Todos los pacientes"})]}),Object(Ue.jsx)(Do,{patients:this.state.option,userId:this.state.userId})]}),Object(Ue.jsx)("div",{className:wo.a.listContainer,children:this.state.loading?Object(Ue.jsx)(ma,{color:"primary"}):n&&n.length>0?n.map((function(t){return Object(Ue.jsx)(Ro,{patient:t,userId:e.state.userId},t.id)})):Object(Ue.jsx)(ha,{children:"No se encontraron pacientes. Recuerda que puedes asignarte pacientes en la opci\xf3n Todos los pacientes."})})]})}},{key:"componentDidMount",value:function(){var e=Object(ve.a)(me.a.mark((function e(){var t=this;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({userId:this.props.match.params.tid},(function(){t.getPatientsList(t.state.userId)}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.props.setPatients(null)}},{key:"getPatientsList",value:function(){var e=Object(ve.a)(me.a.mark((function e(t){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.props.getPatients(t);case 3:this.setState({loading:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onOptionSelected",value:function(e){var t=this;this.setState({option:e.target.name},(function(){var e="my"===t.state.option?t.state.userId:null;t.getPatientsList(e)}))}}]),a}(n.Component),Bo={getPatients:fr,setPatients:function(e){return function(t){t({type:G,payload:{patients:e}})}}},zo=Object(b.b)((function(e){return{patients:e.patient.patients}}),Bo)(Fo),qo=a(118),Wo=a.n(qo),Ho=a(69),Vo=a.n(Ho),Go=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onLinkClicked=n.onLinkClicked.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.userId,a=e.user;return Object(Ue.jsxs)("div",{className:"flex ".concat(Vo.a.container),children:[Object(Ue.jsxs)("div",{className:"flex",children:[a.profile_img?Object(Ue.jsx)("img",{alt:"",className:Vo.a.uimage,src:"".concat("https://satrelo-qa.ddns.net").concat(a.profile_img)}):Object(Ue.jsx)("div",{className:"flex ".concat(Vo.a.uimage," ").concat(Vo.a.thumb),style:{backgroundColor:a.color},children:a.thumbnail_alias}),Object(Ue.jsxs)("div",{className:Vo.a.infoContainer,children:[Object(Ue.jsxs)("div",{className:Vo.a.name,children:[a.name," ",a.last_name]}),Object(Ue.jsxs)("div",{className:Vo.a.identification,children:["ID ",a.id]})]})]}),Object(Ue.jsx)(at.b,{className:"ghost-btn ".concat(Vo.a.btnEdit),onClick:this.onLinkClicked,to:"/terapeuta/".concat(t,"/editar/").concat(a.id),children:Object(Ue.jsx)(We.a,{icon:He.d,size:"lg"})})]})}},{key:"onLinkClicked",value:function(){this.props.setToUpdate(this.props.user)}}]),a}(n.Component),Ko={setToUpdate:Ka},Xo=Object(b.b)(null,Ko)(Go),Zo=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={loading:!1},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.match.params.tid,t=this.props.users;return t=t?Object.values(t):[],Object(Ue.jsxs)(ti,{pt:50,children:[Object(Ue.jsx)("div",{className:Wo.a.title,children:"Todos los usuarios"}),Object(Ue.jsxs)("div",{className:"flex ".concat(Wo.a.toolsContainer),children:[Object(Ue.jsx)(Do,{}),Object(Ue.jsx)(at.b,{to:"/terapeuta/".concat(e,"/nuevo"),children:Object(Ue.jsx)(Me.a,{className:"secondary-btn ".concat(Wo.a.btnCreate),children:"Nuevo"})})]}),Object(Ue.jsx)("div",{className:Wo.a.listContainer,children:this.state.loading?Object(Ue.jsx)(ma,{color:"primary"}):t.length>0?t.map((function(t){return Object(Ue.jsx)(Xo,{admin:!0,user:t,userId:e},t.id)})):Object(Ue.jsx)(ha,{children:"No se han encontrado usuarios en el sistema. Recuerda que como administrador puedes crear usuarios nuevos"})})]})}},{key:"componentDidMount",value:function(){this.getAllUsers()}},{key:"componentWillUnmount",value:function(){this.props.setUsers(null)}},{key:"getAllUsers",value:function(){var e=Object(ve.a)(me.a.mark((function e(){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.props.getUsers();case 3:this.setState({loading:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),Yo={getUsers:Ha,setUsers:function(e){return function(t){t({type:ie,payload:{users:e}})}}},Jo=Object(b.b)((function(e){return{users:e.user.users}}),Yo)(Zo),Qo=a(119),$o=a.n(Qo),el=a(70),tl=a.n(el),al=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={encodedImage:null},n.canvasRef=s.a.createRef(),n.imageRef=s.a.createRef(),n.onFileChanged=n.onFileChanged.bind(Object(l.a)(n)),n.onFileReaderLoaded=n.onFileReaderLoaded.bind(Object(l.a)(n)),n.onImageLoaded=n.onImageLoaded.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){return Object(Ue.jsxs)("div",{className:tl.a.container,children:[Object(Ue.jsx)("div",{className:"flex ".concat(tl.a.innerContainer),children:Object(Ue.jsxs)("div",{className:"flex ".concat(tl.a.iconContainer),children:[!this.state.encodedImage&&Object(Ue.jsx)(We.a,{className:tl.a.icon,icon:He.g,size:"3x"}),Object(Ue.jsx)("canvas",{style:{display:this.state.encodedImage?"block":"none"},ref:this.canvasRef}),Object(Ue.jsx)("img",{alt:"",className:tl.a.hiddenImage,ref:this.imageRef,src:""})]})}),Object(Ue.jsx)("p",{className:tl.a.text,children:"Si lo deseas puedes agregar una imagen de perfil"}),Object(Ue.jsxs)(ka.a,{children:[Object(Ue.jsx)(ya.a,{className:tl.a.hidden,onChange:this.onFileChanged,type:"file",id:"profilePicture"}),Object(Ue.jsx)(Ja.a,{className:"secondary-btn ".concat(tl.a.btnFile),for:"profilePicture",children:"Agregar Imagen"})]})]})}},{key:"onFileChanged",value:function(e){var t=e.target.files[0];if(t){var a=new FileReader;a.readAsDataURL(t),a.onload=this.onFileReaderLoaded}}},{key:"onFileReaderLoaded",value:function(e){this.imageRef.current.src=e.target.result,this.imageRef.current.onload=this.onImageLoaded}},{key:"onImageLoaded",value:function(e){var t=this,a=e.target.width>e.target.height&&e.target.width>180?180/e.target.width:e.target.height>180?180/e.target.height:1;this.canvasRef.current.width=e.target.width*a,this.canvasRef.current.height=e.target.height*a;var n=this.canvasRef.current.getContext("2d");n.drawImage(e.target,0,0,this.canvasRef.current.width,this.canvasRef.current.height);var s=n.canvas.toDataURL(e.target,"image/png");this.setState({encodedImage:s},(function(){t.canvasRef.current.toBlob((function(e){t.props.onImageLoaded(e)}))}))}}]),a}(n.Component),nl=function(e){return Object(Ue.jsxs)(ka.a,{check:!0,children:[Object(Ue.jsx)(ya.a,{type:"checkbox",name:e.name,checked:e.checked,onChange:function(t){e.onChange(t)}}),Object(Ue.jsx)(Ja.a,{children:e.children})]})},sl=function(e){return Object(Ue.jsxs)(ka.a,{children:[Object(Ue.jsx)(Ja.a,{children:e.children}),Object(Ue.jsx)(mc,{date:e.date,form:!0,name:e.name,onChange:function(t){e.onChange(t)}})]})},il=function(e){return Object(Ue.jsxs)(ka.a,{children:[Object(Ue.jsx)(Ja.a,{children:e.children}),Object(Ue.jsx)(ya.a,{type:"select",name:e.name,onChange:function(t){e.onChange(t)},value:e.value,children:e.options.map((function(e,t){return Object(Ue.jsx)("option",{value:e.value,children:e.title},t)}))})]})},rl=[{title:"Femenino",value:"F"},{title:"Masculino",value:"M"}],cl=[{title:"Paciente",value:1},{title:"Terapeuta",value:2}],ol=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={active:{value:!0},birthday_date:{value:new Date},email:{value:"",error:null},gender:{value:"F"},id:{value:"",error:null},is_admin:{value:!1},last_name:{value:"",error:null},name:{value:"",error:null},password:{value:"",error:null},username:{value:"",error:null},id_role:{value:1}},n.onChange=n.onChange.bind(Object(l.a)(n)),n.onSaveClicked=n.onSaveClicked.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=!!this.props.update;return Object(Ue.jsxs)(xa.a,{children:[Object(Ue.jsxs)(_n.a,{form:!0,children:[Object(Ue.jsx)(xn.a,{md:6,children:Object(Ue.jsx)(en,{error:this.state.name.error,name:"name",onChange:this.onChange,value:this.state.name.value,children:"Nombre *"})}),Object(Ue.jsx)(xn.a,{md:6,children:Object(Ue.jsx)(en,{error:this.state.last_name.error,name:"last_name",onChange:this.onChange,value:this.state.last_name.value,children:"Apellido *"})})]}),Object(Ue.jsx)(en,{error:this.state.email.error,name:"email",onChange:this.onChange,value:this.state.email.value,children:"Email *"}),Object(Ue.jsxs)(_n.a,{form:!0,children:[Object(Ue.jsx)(xn.a,{md:6,children:Object(Ue.jsx)(en,{disabled:e,error:this.state.id.error,name:"id",onChange:this.onChange,value:this.state.id.value,children:"Identificaci\xf3n *"})}),Object(Ue.jsx)(xn.a,{md:6,children:Object(Ue.jsx)(sl,{date:this.state.birthday_date.value,name:"birthday_date",onChange:this.onChange,children:"Fecha de nacimiento *"})})]}),Object(Ue.jsx)(il,{name:"gender",onChange:this.onChange,options:rl,value:this.state.gender.value,children:"G\xe9nero *"}),Object(Ue.jsxs)(_n.a,{form:!0,children:[Object(Ue.jsx)(xn.a,{md:6,children:Object(Ue.jsx)(en,{error:this.state.username.error,name:"username",onChange:this.onChange,value:this.state.username.value,children:"Nombre de usuario *"})}),Object(Ue.jsx)(xn.a,{md:6,children:Object(Ue.jsx)(il,{name:"id_role",onChange:this.onChange,options:cl,value:this.state.id_role.value,children:"Tipo de usuario *"})})]}),Object(Ue.jsx)(en,{error:this.state.password.error,form:"admin",name:"password",onChange:this.onChange,value:this.state.password.value,children:"Contrase\xf1a *"}),Object(Ue.jsx)(nl,{name:"active",checked:this.state.active.value,onChange:this.onChange,children:"\xbfEste usuario est\xe1 activo?"}),2===this.state.id_role.value&&Object(Ue.jsx)(nl,{name:"is_admin",checked:this.state.is_admin.value,onChange:this.onChange,children:"\xbfEste usuario es administrador?"}),Object(Ue.jsx)(Ma,{className:"secondary-btn mt-4 w-100",loading:this.props.loading,onClick:this.onSaveClicked,children:"Guardar"})]})}},{key:"componentDidUpdate",value:function(e){this.props.user&&this.props.user!==e.user&&this.setState(Object(St.a)({},this.props.user))}},{key:"buildUserData",value:function(){var e=this,t=Object.keys(this.state),a={};return t.forEach((function(t){var n=e.state[t].value;"name"!==t&&"last_name"!==t&&"email"!==t&&"id"!==t&&"username"!==t&&"password"!==t||(n=n.trim()),a[t]=n})),a}},{key:"onChange",value:function(e){var t=e.target,a=t.name,n=t.value;"active"===a||"is_admin"===a?n=!this.state[a].value:"id_role"===a&&(n=parseInt(n,10));var s=this.state[a];s.value=n,s.error&&(s.error=null),this.setState(Object(ss.a)({},a,s))}},{key:"onSaveClicked",value:function(e){if(e.preventDefault(),!this.props.loading){var t=this.props.update,a=function(e,t){var a=Object.assign({},e),n=!1;""===a.name.value.trim()&&(a.name.error="Este campo es obligatorio.",n=!0),""===a.last_name.value.trim()&&(a.last_name.error="Este campo es obligatorio.",n=!0),""===a.email.value.trim()&&(a.email.error="Este campo es obligatorio.",n=!0),""===a.id.value.trim()&&(a.id.error="Este campo es obligatorio.",n=!0),""===a.username.value.trim()&&(a.username.error="Este campo es obligatorio.",n=!0);var s=!0;if(t||""!==a.password.value.trim()||(a.password.error="Este campo es obligatorio.",n=!0,s=!1),/[a-zA-Z0-9.+_-]+@[a-z]+\.[a-z]+/.test(a.email.value.trim())||(a.email.error="Debes ingresar un email v\xe1lido.",n=!0),s&&""!==a.password.value.trim()&&1===a.id_role.value)if(/[ `!@#$%^g*()_+\-=[\]{};':"\\|.<>/?~]/.test(a.password.value.trim()))a.password.error="La contrase\xf1a del paciente no puede tener ning\xfan caracter especial exceptuando la coma (,).",n=!0;else{var i=a.password.value.trim().split(",");if(4!==i.length)a.password.error="La contrase\xf1a del paciente debe tener 4 palabras separadas por coma (,).",n=!0;else{var r=["\xe1rbol","coraz\xf3n","flor","nube","sol"],c=!1;i.forEach((function(e){r.includes(e)||(c=!0)})),c&&(a.password.error="La contrase\xf1a del paciente debe tener palabras pertenecientes al conjunto descrito.",n=!0)}}return{hasErrors:n,user:a}}(this.state,t);if(a.hasErrors)this.setState(Object(St.a)({},a.user));else{var n=this.buildUserData();this.props.onSave(n)}}}}]),a}(n.Component),ll=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={image:null,loading:!1,update:!1,user:null},n.onImageLoaded=n.onImageLoaded.bind(Object(l.a)(n)),n.onSave=n.onSave.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.match.params.uid?"Editar usuario":"Crear usuario",t=this.state,a=t.update,n=t.user;return Object(Ue.jsxs)(ti,{pt:50,children:[Object(Ue.jsx)("div",{className:$o.a.title,children:e}),Object(Ue.jsx)("div",{className:$o.a.container,children:Object(Ue.jsx)("div",{className:$o.a.formContainer,children:Object(Ue.jsxs)(_n.a,{children:[Object(Ue.jsx)(xn.a,{md:4,children:Object(Ue.jsx)(al,{onImageLoaded:this.onImageLoaded})}),Object(Ue.jsxs)(xn.a,{md:8,children:[Object(Ue.jsx)("p",{className:$o.a.userData,children:"Datos del usuario"}),Object(Ue.jsx)(ol,{loading:this.state.loading,onSave:this.onSave,update:a,user:n})]})]})})})]})}},{key:"componentDidMount",value:function(){var e=this.props.match.params.uid;this.props.toUpdate?this.prepareUserForUpdate():e&&this.getUserToUpdate(e)}},{key:"componentDidUpdate",value:function(){this.props.toUpdate&&!this.state.user&&this.prepareUserForUpdate()}},{key:"componentWillUnmount",value:function(){this.props.setToUpdate(null)}},{key:"getUserToUpdate",value:function(e){this.props.getUser(e,!0)}},{key:"prepareUserForUpdate",value:function(){var e=this.props.toUpdate,t={id:{value:e.id,error:null},active:{value:e.active},birthday_date:{value:new Date(e.birthday_date)},email:{value:e.email,error:null},gender:{value:e.gender},is_admin:{value:e.is_admin},last_name:{value:e.last_name,error:null},name:{value:e.name,error:null},username:{value:e.username,error:null},id_role:{value:e.Role.id}};this.setState({update:!0,user:t})}},{key:"onImageLoaded",value:function(e){this.setState({image:e})}},{key:"onSave",value:function(){var e=Object(ve.a)(me.a.mark((function e(t){var a,n,s,i,r,c,o,l,u,d,p;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===(a=Object.assign({},t)).password.trim()&&delete a.password,n=Za(a.name,a.last_name),a.thumbnail_alias=n,(s=this.state.update)||(a.color=Xa(),2===a.id_role&&(a.id_avatar_variation=1)),this.setState({loading:!0}),!this.state.image){e.next=14;break}return i=this.state.image,r="".concat(t.username,".png"),e.next=12,this.props.uploadProfileImage(i,r);case 12:(c=e.sent).error||(o=c.data.path,a.profile_img=o);case 14:if(l=this.props.match.params.tid,!s){e.next=21;break}return e.next=18,this.props.updateUser(a,l);case 18:e.t0=e.sent,e.next=24;break;case 21:return e.next=23,this.props.register(a);case 23:e.t0=e.sent;case 24:u=e.t0,d=u.error,p=u.message,this.setState({loading:!1}),this.props.setNotification({error:d,message:p,slide:!0}),this.props.history.goBack();case 29:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(n.Component),ul={getUser:Wa,register:function(e){return Object(ve.a)(me.a.mark((function t(){var a,n,s,i,r,c;return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(Ct,"/auth/register"),t.prev=1,t.next=4,Oe.a.post(a,{user:e});case 4:return n=t.sent,s=n.data,i=s.message,r=s.status,c=200!==r,t.abrupt("return",{error:c,message:i});case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",{error:!0,message:t.t0});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))},updateUser:Va,uploadProfileImage:function(e,t){return Object(ve.a)(me.a.mark((function a(){var n,s,i,r,c,o,l,u;return me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n="".concat(Da,"/plugin/upload-profile-image"),a.prev=1,(s=new FormData).append("file",e,t),a.next=6,Oe.a.post(n,s,{headers:{"Content-Type":"multipart/form-data;"}});case 6:return i=a.sent,r=i.data,c=r.data,o=r.message,l=r.status,u=200!==l,a.abrupt("return",{data:c,error:u,message:o});case 12:return a.prev=12,a.t0=a.catch(1),a.abrupt("return",{error:!0,message:a.t0});case 15:case"end":return a.stop()}}),a,null,[[1,12]])})))},setNotification:ue,setToUpdate:Ka},dl=Object(b.b)((function(e){return{toUpdate:e.user.toUpdate}}),ul)(ll),pl=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).calculateVOffset=n.calculateVOffset.bind(Object(l.a)(n)),n.setWindowSize=n.setWindowSize.bind(Object(l.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){return Object(Ue.jsxs)("div",{className:"App",children:[this.props.ui.parallax&&Object(Ue.jsx)("div",{className:"App-parallax-bg"}),Object(Ue.jsx)(zt,{}),this.props.ui.showAvatar?this.props.ui.windowWidth>=768?Object(Ue.jsx)("div",{className:"flex avatar-container",style:{"--vOffset":"".concat(this.props.ui.vOffset,"px")},children:Object(Ue.jsx)(Be,{})}):Object(Ue.jsx)(Gt,{}):null,this.props.ui.modal&&Object(Ue.jsx)(hn,{}),this.props.ui.showMobileMenu&&Object(Ue.jsx)(Qt,{}),this.props.ui.notification&&Object(Ue.jsx)(Xe,{}),Object(Ue.jsx)(h.a,{className:"App-container",fluid:!0,style:{"--vOffset":"".concat(this.props.ui.vOffset,"px")},children:Object(Ue.jsxs)(p.d,{children:[Object(Ue.jsx)(p.b,{exact:!0,path:"/",component:ts}),Object(Ue.jsx)(p.b,{exact:!0,path:"/paciente",component:rr}),Object(Ue.jsx)(fn,{exact:!0,path:"/paciente/:pid/actividades",component:Si}),Object(Ue.jsx)(fn,{exact:!0,path:"/paciente/:pid/colecciones",component:Vi}),Object(Ue.jsx)(fn,{exact:!0,path:"/paciente/:pid/colecciones/:id/coleccionable/:cid",component:Ti}),Object(Ue.jsx)(fn,{exact:!0,path:"/paciente/:pid/actividades/:aid/sesiones/:sid",component:hr}),Object(Ue.jsx)(fn,{exact:!0,path:"/terapeuta/:tid/perfil",component:ci}),Object(Ue.jsx)(fn,{exact:!0,path:"/terapeuta/:tid/pacientes/:pid/actividades",component:Tr}),Object(Ue.jsx)(fn,{exact:!0,path:"/terapeuta/:tid/pacientes/:pid/configuracion",component:tc}),Object(Ue.jsx)(fn,{exact:!0,path:"/terapeuta/:tid/pacientes/:pid/actividades/:aid/:kind",component:fo}),Object(Ue.jsx)(fn,{exact:!0,path:"/terapeuta/:tid/pacientes/:pid/actividades/:kind",component:fo}),Object(Ue.jsx)(p.b,{exact:!0,path:"/terapeuta",component:Co}),Object(Ue.jsx)(fn,{exact:!0,path:"/terapeuta/:tid/pacientes",component:zo}),Object(Ue.jsx)(fn,{exact:!0,path:"/terapeuta/:tid/admin",component:Jo}),Object(Ue.jsx)(fn,{exact:!0,path:"/terapeuta/:tid/nuevo",component:dl}),Object(Ue.jsx)(fn,{exact:!0,path:"/terapeuta/:tid/editar/:uid",component:dl})]})})]})}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.setWindowSize),this.calculateVOffset(window.innerWidth),Se.init("es-MX"),this.status=new Pe(this)}},{key:"componentDidUpdate",value:function(e){this.calculateVOffset(window.innerWidth);var t=this.props.connection,a=t.connectSocket,n=t.checkServerStatus;a!==e.connection.connectSocket&&Ae.handleConnection(this.props.connection,this),n!==e.connection.checkServerStatus&&this.checkServerStatus(n)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setWindowSize)}},{key:"calculateVOffset",value:function(e){var t=this.props.ui.showAvatar&&e<768?202:62;this.props.ui.vOffset&&t===this.props.ui.vOffset||this.props.setVOffset(t)}},{key:"checkServerStatus",value:function(e){this.status.checkServerStatus(e,!1,Ae)}},{key:"setWindowSize",value:function(){var e=window.innerWidth;this.props.setWindowWidth(e),e>=768&&this.props.showMobileMenu(!1),this.calculateVOffset(e)}}]),a}(n.Component),hl={ping:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(ve.a)(me.a.mark((function t(){var a,n,s,i,r,c;return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(e?ge:_e,"/ping"),t.prev=1,t.next=4,Oe.a.get(a);case 4:return n=t.sent,s=n.data,i=s.message,r=s.status,c=200!==r,t.abrupt("return",{error:c,message:i,status:r});case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",{error:!0,message:t.t0,status:500});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))},setConnectedId:xe,showMobileMenu:be,setFullScreen:oe,setNotification:ue,setVOffset:function(e){return function(t){t({type:$,payload:{vOffset:e}})}},setWindowWidth:function(e){return function(t){t({type:ee,payload:{width:e}})}}},bl=Object(b.b)((function(e){return{connection:e.connection,ui:e.ui}}),hl)(pl);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var jl,ml=a(72),vl=a(242),fl=a(243),Ol={activities:null,activity:null,sessions:null,session:null},gl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ol,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:var a=t.payload.id,n=e.activities;return delete n[a],0===Object.values(n).length&&(n=null),Object(St.a)(Object(St.a)({},e),{},{activities:n});case m:return Object(St.a)(Object(St.a)({},e),{},{activities:t.payload.activities});case v:return Object(St.a)(Object(St.a)({},e),{},{activity:t.payload.activity});case O:return Object(St.a)(Object(St.a)({},e),{},{sessions:t.payload.sessions});case f:return Object(St.a)(Object(St.a)({},e),{},{session:t.payload.session});case g:var s=t.payload.activity,i=s.id,r=e.activities;return r[i]=s,Object(St.a)(Object(St.a)({},e),{},{activities:r});default:return e}},_l="".concat(dt,"Token"),xl="".concat(pt,"Token"),kl=(jl={},Object(ss.a)(jl,_l,localStorage.getItem(_l)||null),Object(ss.a)(jl,xl,localStorage.getItem(xl)||null),jl),yl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(St.a)(Object(St.a)({},e),{},Object(ss.a)({},_l,t.payload.token));case x:return Object(St.a)(Object(St.a)({},e),{},Object(ss.a)({},xl,t.payload.token));default:return e}},Sl={message:null,variations:null},Cl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(St.a)(Object(St.a)({},e),{},{message:t.payload.message});case y:var a=t.payload.variation,n=Object.values(e.variations),s=0;return n.forEach((function(e,t){a.id===e.id&&a.id_avatar===e.id_avatar&&(s=t)})),n[s]=a,n=Object.assign.apply(Object,[{}].concat(Object(is.a)(n.map((function(e){return Object(ss.a)({},e.id,e)}))))),Object(St.a)(Object(St.a)({},e),{},{variations:n});case S:return Object(St.a)(Object(St.a)({},e),{},{variations:t.payload.variations});default:return e}},Nl={collections:null,collectable:null},wl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(St.a)(Object(St.a)({},e),{},{collections:t.payload.collections});case U:return Object(St.a)(Object(St.a)({},e),{},{collectable:t.payload.collectable});case R:var a=t.payload.data,n=a.collectableId,s=a.collectionId,i=e.collections,r=i[s],c=r.Collectables,o=c[n],l=o.Skins;return Object(St.a)(Object(St.a)({},e),{},{collections:Object(St.a)(Object(St.a)({},i),{},Object(ss.a)({},s,Object(St.a)(Object(St.a)({},r),{},{Collectables:Object(St.a)(Object(St.a)({},c),{},Object(ss.a)({},n,Object(St.a)(Object(St.a)({},o),{},{Skins:Object(St.a)(Object(St.a)({},l),{},{owned:!0})})))})))});case L:var u=t.payload.data,d=u.skinId,p=e.collectable,h=p.Skins,b=h[d];return Object(St.a)(Object(St.a)({},e),{},{collectable:Object(St.a)(Object(St.a)({},p),{},{Skins:Object(St.a)(Object(St.a)({},h),{},Object(ss.a)({},d,Object(St.a)(Object(St.a)({},b),{},{owned:!0})))})});default:return e}},Il={configuration:null},Al=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Il,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(St.a)(Object(St.a)({},e),{},{configuration:null});case N:return Object(St.a)(Object(St.a)({},e),{},{configuration:t.payload.configuration});default:return e}},Tl={checkServerStatus:!1,connectedId:null,connectSocket:!1},Pl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(St.a)(Object(St.a)({},e),{},{checkServerStatus:t.payload.check});case B:return Object(St.a)(Object(St.a)({},e),{},{connectedId:t.payload.connectedId});case z:return Object(St.a)(Object(St.a)({},e),{},{connectSocket:t.payload.connectSocket});default:return e}},Dl={mechanic:{id:"mechanic",first:!0,multichoice:!1,next:"situations",options:null,reset:["situations","times","reader"],subtitle:"Selecciona la mec\xe1nica de la actividad que deseas trabajar\n                    con tu paciente. Esta selecci\xf3n desbloquea las situaciones\n                    que se pueden trabajar en la actividad.",title:"1. Mec\xe1nica de la actividad"},situations:{id:"situations",multichoice:!1,next:"times",options:null,required:["mechanic"],reset:["times","reader"],subtitle:"Elige una situaci\xf3n particular para trabajar en la actividad.\n                    Esta selecci\xf3n desbloquea los tiempos gramaticales.",title:"2. Situaciones"},times:{id:"times",multichoice:!1,next:"reader",options:null,reset:["reader"],subtitle:"Selecciona el tiempo gramatical (pasado, presente, futuro...)\n                    que deseas trabajar en la actividad.",title:"3. Tiempos gramaticales"},reader:{id:"reader",multichoice:!1,next:null,options:null,reset:null,subtitle:"Selecciona si tu paciente cuenta con proceso lector o no.",title:"4. \xbfEl paciente cuenta con proceso lector?"}},El=function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dl,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case w:return e=a[t=n.payload.fieldId],Object(St.a)(Object(St.a)({},a),{},Object(ss.a)({},t,Object(St.a)(Object(St.a)({},e),{},{options:null})));case I:return e=a[t=n.payload.fieldId],Object(St.a)(Object(St.a)({},a),{},Object(ss.a)({},t,Object(St.a)(Object(St.a)({},e),{},{options:n.payload.options})));case A:e=a[t=n.payload.fieldId];var s=Object.values(Object(St.a)({},e.options)),i=n.payload.optionId;return s.forEach((function(e){e.selected=e.id===i})),Object(St.a)(Object(St.a)({},a),{},Object(ss.a)({},t,Object(St.a)(Object(St.a)({},e),{},{options:s})));default:return a}},Ml={feedDate:new Date,feedData:null},Ul=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ml,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(St.a)(Object(St.a)({},e),{},{feedData:t.payload.feedData});case W:return Object(St.a)(Object(St.a)({},e),{},{feedDate:t.payload.feedDate});default:return e}},Ll={patients:null,patient:null},Rl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ll,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:var a=t.payload._association,n=a._id_therapist,s=a._id_patient,i=e.patients[s];if(i.Therapists_Patients){var r=Object(St.a)({},e.patients);return delete r[s],Object(St.a)(Object(St.a)({},e),{},{patients:r})}var c=Object(St.a)({},i.Therapists);return delete c[n],Object(St.a)(Object(St.a)({},e),{},{patients:Object(St.a)(Object(St.a)({},e.patients),{},Object(ss.a)({},s,Object(St.a)(Object(St.a)({},i),{},{Therapists:c})))});case V:var o=t.payload.association,l=o.id_therapist,u=o.id_patient,d=e.patients[u],p=d.Therapists;return Object(St.a)(Object(St.a)({},e),{},{patients:Object(St.a)(Object(St.a)({},e.patients),{},Object(ss.a)({},u,Object(St.a)(Object(St.a)({},d),{},{Therapists:Object(St.a)(Object(St.a)({},p),{},Object(ss.a)({},l,o))})))});case G:return Object(St.a)(Object(St.a)({},e),{},{patients:t.payload.patients});case K:return Object(St.a)(Object(St.a)({},e),{},{patient:t.payload.patient});default:return e}},Fl={category:{id:"category",first:!0,next:"subcategory",multichoice:!1,options:null,reset:["subcategory","sintactic","vocabulary","mechanic"],subtitle:"Elige una categor\xeda sem\xe1ntica para desbloquear la opci\xf3n\n                    Subcategor\xeda sem\xe1ntica.",title:"1. Categor\xeda sem\xe1ntica"},subcategory:{id:"subcategory",multichoice:!1,next:"sintactic",options:null,required:["category"],reset:["sintactic","vocabulary","mechanic"],subtitle:"Elige una de las subcategor\xedas sem\xe1nticas asociadas a la\n                    categor\xeda sem\xe1ntica elegida. Esta selecci\xf3n desbloquea la\n                    opci\xf3n Estructura sint\xe1ctica.",title:"2. Subcategor\xeda sem\xe1ntica"},sintactic:{id:"sintactic",multichoice:!1,next:"vocabulary",options:null,reset:["vocabulary","mechanic"],subtitle:"Elige la estructura sint\xe1ctica que deseas trabajar con tu\n                    paciente y desbloquea el vocabulario asociado.",title:"3. Estructura sint\xe1ctica"},vocabulary:{id:"vocabulary",minimum:3,multichoice:!0,next:"mechanic",options:null,required:["subcategory","sintactic"],reset:["mechanic"],subtitle:"Elige las palabras asociadas que quieres trabajar con tu\n                    paciente en la actividad (m\xednimo 3). Al elegir el vocabulario\n                    se desbloquea la mec\xe1nica de la actividad.",title:"4. Vocabulario asociado"},mechanic:{id:"mechanic",multichoice:!1,next:null,options:null,required:["subcategory","sintactic"],reset:null,subtitle:"Elige la mec\xe1nica de la actividad que deseas trabajar con\n                    tu paciente.",title:"5. Mec\xe1nica de la actividad"}},Bl=function(){var e,t,a,n,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fl,i=arguments.length>1?arguments[1]:void 0;switch(i.type){case T:e=s[t=i.payload.fieldId],a=i.payload.optionId;var r=(n=Object(St.a)({},e.options))[a];return r.selected=!r.selected||!r.selected,Object(St.a)(Object(St.a)({},s),{},Object(ss.a)({},t,Object(St.a)(Object(St.a)({},e),{},{options:n})));case P:return e=s[t=i.payload.fieldId],Object(St.a)(Object(St.a)({},s),{},Object(ss.a)({},t,Object(St.a)(Object(St.a)({},e),{},{options:null})));case D:return e=s[t=i.payload.fieldId],Object(St.a)(Object(St.a)({},s),{},Object(ss.a)({},t,Object(St.a)(Object(St.a)({},e),{},{options:i.payload.options})));case E:return t=i.payload.fieldId,a=i.payload.optionId,e=s[t],(n=Object.values(Object(St.a)({},e.options))).forEach((function(e){e.selected=e.id===a})),n=Object.assign.apply(Object,[{}].concat(Object(is.a)(n.map((function(e){return Object(ss.a)({},e.id,e)}))))),Object(St.a)(Object(St.a)({},s),{},Object(ss.a)({},e.id,Object(St.a)(Object(St.a)({},e),{},{options:n})));default:return s}},zl={bar:"standard",fullScreen:!1,modal:null,notification:null,parallax:!1,showAvatar:!1,showCreateActivityButton:!1,showMobileMenu:!1,vOffset:null,windowWidth:window.innerWidth},ql=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(St.a)(Object(St.a)({},e),{},{bar:t.payload.bar});case Z:return Object(St.a)(Object(St.a)({},e),{},{fullScreen:t.payload.fullScreen});case Y:return Object(St.a)(Object(St.a)({},e),{},{modal:t.payload.modal});case J:return Object(St.a)(Object(St.a)({},e),{},{notification:t.payload.notification});case Q:return Object(St.a)(Object(St.a)({},e),{},{parallax:t.payload.parallax});case $:return Object(St.a)(Object(St.a)({},e),{},{vOffset:t.payload.vOffset});case ee:return Object(St.a)(Object(St.a)({},e),{},{windowWidth:t.payload.width});case te:return Object(St.a)(Object(St.a)({},e),{},{showAvatar:t.payload.show});case ae:return Object(St.a)(Object(St.a)({},e),{},{showCreateActivityButton:t.payload.show});case ne:return Object(St.a)(Object(St.a)({},e),{},{showMobileMenu:t.payload.show});default:return e}},Wl={user:null,users:null,toUpdate:null},Hl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:return Object(St.a)(Object(St.a)({},e),{},{user:t.payload.user});case ie:return Object(St.a)(Object(St.a)({},e),{},{users:t.payload.users});case re:return Object(St.a)(Object(St.a)({},e),{},{toUpdate:t.payload.user});default:return e}},Vl=Object(ml.combineReducers)({activity:gl,auth:yl,avatar:Cl,collection:wl,configuration:Al,connection:Pl,dynamic:El,feedback:Ul,patient:Rl,static:Bl,ui:ql,user:Hl}),Gl=[fl.a],Kl=Object(vl.composeWithDevTools)(ml.applyMiddleware.apply(void 0,Gl)),Xl=Object(ml.createStore)(Vl,Kl);r.a.render(Object(Ue.jsx)(b.a,{store:Xl,children:Object(Ue.jsx)(at.a,{children:Object(Ue.jsx)(bl,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},47:function(e,t,a){e.exports={container:"STActivity_container__r4OSJ",date:"STActivity_date__IsoC9",description:"STActivity_description__cO8RH",btnEvolution:"STActivity_btnEvolution__3bVYL",aimage:"STActivity_aimage__1FOej",innerContainer:"STActivity_innerContainer__1b6Cz",nameContainer:"STActivity_nameContainer__2xVy_",rightContainer:"STActivity_rightContainer__3nmb0",syntContainer:"STActivity_syntContainer__AsPHV",title:"STActivity_title__1HtrQ"}},48:function(e,t,a){e.exports={comments:"STActivityButtons_comments__1F8al",container:"STActivityButtons_container__1PhPU",delete:"STActivityButtons_delete__2Uhk7",ml:"STActivityButtons_ml__2AZ8H",mr:"STActivityButtons_mr__ZNUXu",btn:"STActivityButtons_btn__3YbeY"}},49:function(e,t,a){e.exports={btn:"STFeedOptions_btn__lNh_P",btnContainer:"STFeedOptions_btnContainer__VPsem",disabled:"STFeedOptions_disabled__1icUf",selected:"STFeedOptions_selected__1wOWG",span:"STFeedOptions_span__d7zy9"}},54:function(e,t,a){e.exports={buttons:"SAvatar_buttons__2B6eR",buttonIcon:"SAvatar_buttonIcon__1Rwdk",container:"SAvatar_container__1p6Ra",image:"SAvatar_image__f6nMg",innerButtons:"SAvatar_innerButtons__3rmCS",message:"SAvatar_message__36pWZ",triangle:"SAvatar_triangle__J-47T"}},55:function(e,t,a){e.exports={container:"SUserNav_container__piflN",link:"SUserNav_link__1lXdk",uimage:"SUserNav_uimage__JCXUR",thumb:"SUserNav_thumb__2Xh2m",linksContainer:"SUserNav_linksContainer__1HsbN"}},56:function(e,t,a){e.exports={container:"SMenu_container__2Yxhb",image:"SMenu_image__3j8T_",item:"SMenu_item__2y48J",menu:"SMenu_menu__1wwem",name:"SMenu_name__2VPRa",toggle:"SMenu_toggle__3ImI5",thumb:"SMenu_thumb__1bxk3"}},57:function(e,t,a){e.exports={btn:"SPCollectable_btn__3F17S",btnBuy:"SPCollectable_btnBuy__11AV6",cannotBuy:"SPCollectable_cannotBuy__214jT",collectableImg:"SPCollectable_collectableImg__3cZqV",container:"SPCollectable_container__CqgDH",info:"SPCollectable_info__3Xpgw",owned:"SPCollectable_owned__2OLUo",name:"SPCollectable_name__3fJXU",points:"SPCollectable_points__HH131"}},58:function(e,t,a){e.exports={btn:"STConfigurationPage_btn__2Q1aY",btnContainer:"STConfigurationPage_btnContainer__2lvgp",btnSelected:"STConfigurationPage_btnSelected__3TLjP",container:"STConfigurationPage_container__1SfrO",create:"STConfigurationPage_create__V1e0R",createContainer:"STConfigurationPage_createContainer__ejmW4",title:"STConfigurationPage_title__SAFHt"}},59:function(e,t,a){e.exports={btn:"STSession_btn__1HRAO",container:"STSession_container__3BTNV",date:"STSession_date__1obRt",first:"STSession_first__305GI",innerContainer:"STSession_innerContainer__267Re",last:"STSession_last__9rLEC",selected:"STSession_selected__3sDgP",time:"STSession_time__AqmmZ",title:"STSession_title__3nRh1"}},62:function(e,t,a){e.exports={subtitle:"Feedback_subtitle__2jAva"}},64:function(e,t,a){e.exports={border:"SBubbleNotification_border__2HzhK",container:"SBubbleNotification_container__1FKzp",containerDesktop:"SBubbleNotification_containerDesktop__rEvZS",slide:"SBubbleNotification_slide__1vY3y",containerMobile:"SBubbleNotification_containerMobile__3rxZT","slide-mobile":"SBubbleNotification_slide-mobile__1HxUQ",error:"SBubbleNotification_error__30IdJ",iconContainer:"SBubbleNotification_iconContainer__3mpCw",message:"SBubbleNotification_message__3kJu1",success:"SBubbleNotification_success__6BfMy"}},65:function(e,t,a){e.exports={description:"SAvatarInfo_description__3-0RK",title:"SAvatarInfo_title__2_kr2",image:"SAvatarInfo_image__33PTx",avatarSide:"SAvatarInfo_avatarSide__2ypT8",container:"SAvatarInfo_container__1oU3a",innerContainer:"SAvatarInfo_innerContainer__DZUKW",sides:"SAvatarInfo_sides__2mJaW"}},66:function(e,t,a){e.exports={alias:"SUserHero_alias__30gX0",col:"SUserHero_col__2-y6V",container:"SUserHero_container__2HQOn",header:"SUserHero_header__208gI",row:"SUserHero_row__2JNLW",userContainer:"SUserHero_userContainer__2iKG9",uimage:"SUserHero_uimage__1pTXn",uname:"SUserHero_uname__ahWoO"}},67:function(e,t,a){e.exports={btn:"SPActivity_btn__31_lh",btnContainer:"SPActivity_btnContainer__kCgAz",container:"SPActivity_container__DgMeO",gameContainer:"SPActivity_gameContainer__3PhTU",gameDescription:"SPActivity_gameDescription__WhuKO",gameTitle:"SPActivity_gameTitle__2kzT7",gameImage:"SPActivity_gameImage__2yi6e"}},68:function(e,t,a){e.exports={btnSelected:"STPatientsPage_btnSelected__1YXjO",listContainer:"STPatientsPage_listContainer__2Gd2S",searchContainer:"STPatientsPage_searchContainer__3wZs0",title:"STPatientsPage_title__ShvPl",btn:"STPatientsPage_btn__3XsPy",btnContainer:"STPatientsPage_btnContainer__2U2bb"}},69:function(e,t,a){e.exports={btnEdit:"SAUser_btnEdit__31k6p",container:"SAUser_container__3jGeH",identification:"SAUser_identification__10yNg",infoContainer:"SAUser_infoContainer__1c1tt",name:"SAUser_name__2r1LZ",thumb:"SAUser_thumb__3j8ix",uimage:"SAUser_uimage__12AXo"}},70:function(e,t,a){e.exports={btnFile:"SAImageLoader_btnFile__yC3tC",container:"SAImageLoader_container__1TFBc",hidden:"SAImageLoader_hidden__22hCG",hiddenImage:"SAImageLoader_hiddenImage__5cF78",icon:"SAImageLoader_icon__gFXGj",iconContainer:"SAImageLoader_iconContainer__1f591",innerContainer:"SAImageLoader_innerContainer__wBoVn",text:"SAImageLoader_text__nMsm9"}},76:function(e,t,a){e.exports={container:"SDevelop_container__HmJ_4",innerContainer:"SDevelop_innerContainer__1B2tR",icon:"SDevelop_icon__3Z57o",logoImage:"SDevelop_logoImage__3Nyb1",logoContainer:"SDevelop_logoContainer__2JtP6",text:"SDevelop_text__19GGD"}},77:function(e,t,a){e.exports={btn:"SProfilePage_btn__1Wku0",container:"SProfilePage_container__2q-hR",selected:"SProfilePage_selected__1AZjc",options:"SProfilePage_options__pByhO",optContainer:"SProfilePage_optContainer__1jqmL"}},78:function(e,t,a){e.exports={alt:"SSkinItem_alt__cvVGs",btn:"SSkinItem_btn__100ay",btnContainer:"SSkinItem_btnContainer__1G1SF",cannotBuy:"SSkinItem_cannotBuy__1dO63",collectableImg:"SSkinItem_collectableImg__1L6kx",container:"SSkinItem_container__26nnT",owned:"SSkinItem_owned__3WvlR"}},79:function(e,t,a){e.exports={btn:"STLogin_btn__3Kn5c",btnForgot:"STLogin_btnForgot__1z5Kc",container:"STLogin_container__2KaZ9",error:"STLogin_error__1NxeV",label:"STLogin_label__3ot6S",title:"STLogin_title__zrpZb"}},84:function(e,t,a){e.exports={collapse:"SNav_collapse__2uCCs",container:"SNav_container__3BYn3",link:"SNav_link__2b-Aa",nav:"SNav_nav__2ju7l",navItem:"SNav_navItem__3yLMc",toggler:"SNav_toggler___z89_"}},85:function(e,t,a){e.exports={container:"SMenuHeader_container__2AI3m",email:"SMenuHeader_email__24phy",image:"SMenuHeader_image__1tOAl",name:"SMenuHeader_name__1VaY3",thumb:"SMenuHeader_thumb__2X4El"}},86:function(e,t,a){e.exports={btn:"SMobileMenu_btn__7TQ_l",container:"SMobileMenu_container__jacuL",linksContainer:"SMobileMenu_linksContainer__2x0sy",menu:"SMobileMenu_menu__1s-WZ",menuAppear:"SMobileMenu_menuAppear__nI2vG",appearing:"SMobileMenu_appearing__1o-EH",menuDissapear:"SMobileMenu_menuDissapear__1w5mU",dissapearing:"SMobileMenu_dissapearing__1bsOp"}},87:function(e,t,a){e.exports={microphone:"SNewComment_microphone__3_DNE",microphoneText:"SNewComment_microphoneText__3dwnG",notRecording:"SNewComment_notRecording__1vp6P",recorderContainer:"SNewComment_recorderContainer__3VwhL",recorded:"SNewComment_recorded__2zZxO",recording:"SNewComment_recording__AsgWS"}},88:function(e,t,a){e.exports={container:"SMobile_container__oh5ja",description:"SMobile_description__14LjU",image:"SMobile_image__117mR",imageContainer:"SMobile_imageContainer__PDg_q",innerContainer:"SMobile_innerContainer__3ytUQ",title:"SMobile_title__1WjAc"}},89:function(e,t,a){e.exports={container:"SPCollectableInfoPage_container__2pREu",description:"SPCollectableInfoPage_description__n43HH",descriptionTitle:"SPCollectableInfoPage_descriptionTitle__1RUq-",score:"SPCollectableInfoPage_score__3U68g",scoreIcon:"SPCollectableInfoPage_scoreIcon__1_uQE",title:"SPCollectableInfoPage_title__1O5Jn"}},90:function(e,t,a){e.exports={btn:"SPLogin_btn__2waK7",btnForgot:"SPLogin_btnForgot__3PghZ",container:"SPLogin_container__3hPDj",error:"SPLogin_error__h3n93",label:"SPLogin_label__3v4FC"}},96:function(e,t,a){e.exports={bar:"SHeaderBar_bar__1eNh0",logo:"SHeaderBar_logo__3n5pz",navbrand:"SHeaderBar_navbrand__1-Xwa",patientBar:"SHeaderBar_patientBar__3eQ_s",standardBar:"SHeaderBar_standardBar__3xag7"}},98:function(e,t,a){e.exports={container:"SLandingPage_container__K3tRn",features:"SLandingPage_features__21L35",featuresTitle:"SLandingPage_featuresTitle__MBjjQ",mainIdea:"SLandingPage_mainIdea__1bR4Q",mainPhrase:"SLandingPage_mainPhrase__1dI-F"}},99:function(e,t,a){e.exports={container:"SFeature_container__3-EK4",description:"SFeature_description__3okm9",infoContainer:"SFeature_infoContainer__zhU2k",logo:"SFeature_logo__fkInR",title:"SFeature_title__3GzMp"}}},[[468,1,2]]]);
//# sourceMappingURL=main.76b5fca7.chunk.js.map