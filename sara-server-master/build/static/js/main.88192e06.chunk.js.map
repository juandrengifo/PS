{"version":3,"sources":["components/shared/SComments/SComments.module.css","components/shared/SFooterBar/SFooterBar.module.css","pages/patient/SPCollectableInfoPage/SPCollectableInfoPage.module.css","pages/patient/SPCollectionsPage/SPCollectionsPage.module.css","components/patient/SPCollection/SPCollection.module.css","components/therapist/STField/STOption/STOption.module.css","components/shared/SSearch/SSearch.module.css","pages/admin/SAUsersPage/SAUsersPage.module.css","pages/admin/SAUpdateUserPage/SAUpdateUserPage.module.css","components/shared/SAvatar/SAvatar.module.css","components/mobile/SMobileAvatar/SMobileAvatar.module.css","components/shared/SModal/SModal.module.css","components/shared/SVideo/SVideo.module.css","components/landing/SFeatures/SFeatures.module.css","components/layout/STLayout/STLayout.module.css","components/layout/SPLayout/SPLayout.module.css","components/shared/SPassword/SPassword.module.css","components/therapist/STHistorical/STMechanics/STMechanics.module.css","components/shared/SEmpty/SEmpty.module.css","components/therapist/STAvatarPanel/STAvatarPanel.module.css","components/shared/SCarousel/SCarousel.module.css","components/shared/SCarousel/SAvatarIem/SAvatarItem.module.css","pages/patient/SPActivitiesPage/SPActivitiesPage.module.css","pages/therapist/STFeedbackPage/STFeedbackPage.module.css","components/shared/SDatePicker/SDatePicker.module.css","components/shared/SMenuLink/SMenuLink.module.css","pages/patient/SPPlayPage/SPPlayPage.module.css","components/therapist/STEvolution/STEvolution.module.css","components/therapist/STEvolution/STSessions/STSessions.module.css","components/therapist/STHistorical/STHistorical.module.css","components/therapist/charts/Charts.module.css","components/therapist/STPatient/STPatient.module.css","components/therapist/STAvatarPanel/STACustomizer/STACustomizer.module.css","components/landing/SHero/SHero.module.css","components/therapist/STActivity/STActivity.module.css","components/therapist/STActivity/STActivityButtons/STActivityButtons.module.css","components/therapist/feedback/STFeedOptions/STFeedOptions.module.css","store/actions/types.js","store/actions/ui.js","store/actions/connection.js","utils/Speaker.js","utils/Messenger.js","utils/ServerStatus.js","components/shared/SAvatar/SAvatar.jsx","components/shared/SAvatar/index.js","components/shared/SBubbleNotification/SBubbleNotification.jsx","components/shared/SBubbleNotification/index.js","components/shared/SHeaderBar/SNav/SNav.jsx","components/shared/SHeaderBar/SNav/index.js","data/roles.js","components/shared/SMenuHeader/SMenuHeader.jsx","components/shared/SMenuHeader/index.js","store/actions/auth.js","components/shared/SMenuLink/SMenuLink.jsx","components/shared/SMenuLink/index.js","components/shared/SHeaderBar/SUserNav/SMenu/SMenu.jsx","components/shared/SHeaderBar/SUserNav/SMenu/index.js","components/shared/SHeaderBar/SUserNav/SUserNav.jsx","components/shared/SHeaderBar/SUserNav/index.js","components/shared/SHeaderBar/SHeaderBar.jsx","components/shared/SHeaderBar/index.js","components/mobile/SMobileAvatar/SMobileAvatar.jsx","components/mobile/SMobileAvatar/index.js","components/mobile/SMobileMenu/SMobileMenu.jsx","components/mobile/SMobileMenu/index.js","utils/date&time.js","components/shared/SEmpty/SEmpty.jsx","components/shared/SEmpty/index.js","components/shared/SSpinner/SSpinner.jsx","components/shared/SSpinner/index.js","components/shared/SComments/SComments.jsx","components/shared/SComments/index.js","store/actions/activity.js","components/shared/form/SSubmitField/SSubmitField.jsx","components/shared/form/SSubmitField/index.js","components/shared/SModal/SNewComment/SNewComment.jsx","components/shared/SModal/SNewComment/index.js","components/shared/SVideo/SVideo.jsx","components/shared/SVideo/index.js","components/shared/SModal/SModal.jsx","components/shared/SModal/index.js","store/actions/user.js","components/SProtectedRoute/SProtectedRoute.jsx","components/SProtectedRoute/index.js","components/landing/SAvatarInfo/SAvatarInfo.jsx","components/landing/SAvatarInfo/index.js","components/landing/SDevelop/SDevelop.jsx","components/landing/SDevelop/index.js","components/landing/SFeatures/SFeature/SFeature.jsx","components/landing/SFeatures/SFeature/index.js","components/landing/SFeatures/SFeatures.jsx","components/landing/SFeatures/index.js","components/shared/SFooterBar/SFooterBar.jsx","components/shared/SFooterBar/index.js","components/landing/SHero/SHero.jsx","components/landing/SHero/index.js","components/landing/SMobile/SMobile.jsx","components/landing/SMobile/index.js","data/features.js","pages/shared/SLandingPage/SLandingPage.jsx","pages/shared/SLandingPage/index.js","store/actions/avatar.js","components/shared/SCarousel/SAvatarIem/SAvatarItem.jsx","components/shared/SCarousel/SAvatarIem/index.js","store/actions/collection.js","components/shared/SCarousel/SSkinItem/SSkinItem.jsx","components/shared/SCarousel/SSkinItem/index.js","components/shared/SCarousel/SCarousel.jsx","components/shared/SCarousel/index.js","components/shared/SContainer/SContainer.jsx","components/shared/SContainer/index.js","data/customizer.js","components/therapist/STAvatarPanel/STACustomizer/STACustomizer.jsx","components/therapist/STAvatarPanel/STACustomizer/index.js","components/therapist/STAvatarPanel/STAvatarPanel.jsx","components/therapist/STAvatarPanel/index.js","components/layout/STLayout/index.js","components/layout/STLayout/STLayout.jsx","components/shared/SUserHero/index.js","components/shared/SUserHero/SUserHero.jsx","pages/shared/SProfilePage/SProfilePage.jsx","pages/shared/SProfilePage/index.js","components/patient/SPActivity/SPActivity.jsx","components/patient/SPActivity/index.js","components/layout/SPLayout/SPLayout.jsx","components/layout/SPLayout/index.js","data/messages.js","pages/patient/SPActivitiesPage/SPActivitiesPage.jsx","pages/patient/SPActivitiesPage/index.js","pages/patient/SPCollectableInfoPage/SPCollectableInfoPage.jsx","pages/patient/SPCollectableInfoPage/index.js","components/patient/SPCollection/SPCollectable/SPCollectable.jsx","components/patient/SPCollection/SPCollectable/index.js","components/patient/SPCollection/index.js","components/patient/SPCollection/SPCollection.jsx","pages/patient/SPCollectionsPage/SPCollectionsPage.jsx","pages/patient/SPCollectionsPage/index.js","components/shared/SPassword/SPPassButton/index.js","components/shared/SPassword/SPPassButton/SPPassButton.jsx","components/shared/SPassword/index.js","components/shared/SPassword/SPassword.jsx","components/patient/SPLogin/SPLogin.jsx","components/patient/SPLogin/index.js","pages/patient/SPLandingPage/SPLandingPage.jsx","pages/patient/SPLandingPage/index.js","components/shared/SFullScreen/index.js","components/shared/SFullScreen/SFullScreen.jsx","pages/patient/SPPlayPage/SPPlayPage.jsx","pages/patient/SPPlayPage/index.js","store/actions/patient.js","components/therapist/STActivity/STActivityButtons/STActivityButtons.jsx","components/therapist/STActivity/STActivityButtons/index.js","components/therapist/STActivity/STSyntacticCircle/SSyntacticCircle.jsx","components/therapist/STActivity/STSyntacticCircle/index.js","components/therapist/STActivity/index.js","components/therapist/STActivity/STActivity.jsx","pages/therapist/STActivitiesPage/STActivitiesPage.jsx","pages/therapist/STActivitiesPage/index.js","components/therapist/STField/STOption/STOption.jsx","components/therapist/STField/STOption/index.js","components/therapist/STField/STField.jsx","components/therapist/STField/index.js","components/therapist/STDynamic/STDynamicField/STDynamicField.jsx","store/actions/dynamic.js","components/therapist/STDynamic/STDynamicField/index.js","components/therapist/STDynamic/STDynamic.jsx","components/therapist/STDynamic/index.js","store/actions/static.js","components/therapist/STStatic/STStaticField/STStaticField.jsx","components/therapist/STStatic/STStaticField/index.js","components/therapist/STStatic/STStatic.jsx","components/therapist/STStatic/index.js","pages/therapist/STConfigurationPage/STConfigurationPage.jsx","store/actions/configuration.js","pages/therapist/STConfigurationPage/index.js","store/actions/feedback.js","components/shared/SDatePicker/SDatePicker.jsx","components/shared/SDatePicker/index.js","utils/feedback.js","data/charts.js","components/therapist/charts/STDoughnut.jsx","components/therapist/charts/STLevel.jsx","components/therapist/charts/STLine.jsx","components/therapist/charts/STPhrases.jsx","components/therapist/charts/STStackBar.jsx","components/therapist/feedback/STInGame.jsx","components/therapist/feedback/STLevels.jsx","components/therapist/feedback/STTimes.jsx","components/therapist/feedback/STVocalization.jsx","data/mechanics.js","components/therapist/feedback/STFeedOptions/STFeedOptions.jsx","components/therapist/feedback/STFeedOptions/index.js","components/therapist/STEvolution/STSessions/STSession/STSession.jsx","components/therapist/STEvolution/STSessions/STSession/index.js","components/therapist/STEvolution/STSessions/STSessions.jsx","components/therapist/STEvolution/STSessions/index.js","components/therapist/STEvolution/STEvolution.jsx","components/therapist/STEvolution/index.js","components/therapist/STHistorical/STMechanics/index.js","components/therapist/STHistorical/STMechanics/STMechanics.jsx","components/therapist/STHistorical/STHistorical.jsx","components/therapist/STHistorical/index.js","pages/therapist/STFeedbackPage/STFeedbackPage.jsx","pages/therapist/STFeedbackPage/index.js","components/therapist/STLogin/STLogin.jsx","components/therapist/STLogin/index.js","pages/therapist/STLandingPage/STLandingPage.jsx","pages/therapist/STLandingPage/index.js","components/shared/SSearch/SSearch.jsx","components/shared/SSearch/index.js","components/therapist/STPatient/STPatient.jsx","components/therapist/STPatient/index.js","pages/therapist/STPatientsPage/STPatientsPage.jsx","pages/therapist/STPatientsPage/index.js","components/admin/SAUser/SAUser.jsx","components/admin/SAUser/index.js","pages/admin/SAUsersPage/SAUsersPage.jsx","pages/admin/SAUsersPage/index.js","components/admin/SAImageLoader/index.js","components/admin/SAImageLoader/SAImageLoader.jsx","components/shared/form/SCheckField/index.js","components/shared/form/SCheckField/SCheckField.jsx","components/shared/form/SDateField/index.js","components/shared/form/SDateField/SDateField.jsx","components/shared/form/SInputField/index.js","components/shared/form/SInputField/SInputField.jsx","components/shared/form/SSelectField/index.js","components/shared/form/SSelectField/SSelectField.jsx","data/form.js","utils/user.js","components/admin/SAUserForm/index.js","components/admin/SAUserForm/SAUserForm.jsx","pages/admin/SAUpdateUserPage/SAUpdateUserPage.jsx","store/actions/plugin.js","pages/admin/SAUpdateUserPage/index.js","App.js","store/reducers/activity.js","store/reducers/auth.js","store/reducers/avatar.js","store/reducers/collection.js","store/reducers/configuration.js","store/reducers/connection.js","store/reducers/dynamic.js","store/reducers/feedback.js","store/reducers/patient.js","store/reducers/static.js","store/reducers/ui.js","store/reducers/user.js","store/reducers/index.js","store/index.js","index.js","components/shared/SHeaderBar/SUserNav/SUserNav.module.css","components/shared/SHeaderBar/SUserNav/SMenu/SMenu.module.css","pages/therapist/STActivitiesPage/STActivitiesPage.module.css","pages/therapist/STConfigurationPage/STConfigurationPage.module.css","components/therapist/STEvolution/STSessions/STSession/STSession.module.css","components/therapist/feedback/Feedback.module.css","components/shared/SBubbleNotification/SBubbleNotification.module.css","components/landing/SAvatarInfo/SAvatarInfo.module.css","components/shared/SUserHero/SUserHero.module.css","components/patient/SPActivity/SPActivity.module.css","pages/therapist/STPatientsPage/STPatientsPage.module.css","components/admin/SAUser/SAUser.module.css","components/admin/SAImageLoader/SAImageLoader.module.css","components/landing/SDevelop/SDevelop.module.css","components/patient/SPCollection/SPCollectable/SPCollectable.module.css","components/shared/SHeaderBar/SNav/SNav.module.css","components/shared/SMenuHeader/SMenuHeader.module.css","components/mobile/SMobileMenu/SMobileMenu.module.css","components/landing/SMobile/SMobile.module.css","pages/shared/SProfilePage/SProfilePage.module.css","components/therapist/STLogin/STLogin.module.css","components/shared/SHeaderBar/SHeaderBar.module.css","pages/shared/SLandingPage/SLandingPage.module.css","components/landing/SFeatures/SFeature/SFeature.module.css","components/shared/SCarousel/SSkinItem/SSkinItem.module.css","components/patient/SPLogin/SPLogin.module.css","components/shared/SPassword/SPPassButton/SPPassButton.module.css","components/therapist/STField/STField.module.css"],"names":["module","exports","REMOVE_ACTIVITY","SET_ACTIVITIES","SET_ACTIVITY","SET_SELECTED_SESSION","SET_SESSIONS","UPDATE_ACTIVITY","SET_PATIENT_TOKEN","SET_THERAPIST_TOKEN","SET_AVATAR_MESSAGE","SET_AVATAR_VARIATION","SET_AVATAR_VARIATIONS","RESET_CONFIGURATION","SET_CONFIGURATION","RESET_DYNAMIC_OPTIONS","SET_DYNAMIC_OPTIONS","SET_DYNAMIC_SELECTED_OPTIONS","ADD_STATIC_SELECTED_OPTION","RESET_STATIC_OPTIONS","SET_STATIC_OPTIONS","SET_STATIC_SELECTED_OPTIONS","SET_COLLECTIONS","SET_COLLECTABLE","SET_USER_SKINS_OWNED","SET_USER_SKIN_OWNED","SET_CHECK_SERVER_STATUS","SET_CONNECTED_ID","SET_CONNECT_SOCKET","SET_FEEDBACK_DATA","SET_FEEDBACK_DATE","REMOVE_PATIENT","SET_PATIENT","SET_PATIENTS","SET_SELECTED_PATIENT","SET_BAR","SET_FULLSCREEN","SET_MODAL","SET_NOTIFICATION","SET_PARALLAX","SET_V_OFFSET","SET_WINDOW_WIDTH","SHOW_AVATAR","SHOW_CREATE_ACTIVITY_BUTTON","SHOW_MOBILE_MENU","SET_USER","SET_USERS","SET_TO_UPDATE","setBar","bar","dispatch","type","payload","setFullScreen","fullScreen","setModal","modal","setNotification","notification","setParallax","parallax","showAvatar","show","showCreateActivityButton","showMobileMenu","gameServerURL","process","serverURL","setConnectedId","connectedId","Speaker","instance","this","synthesis","window","speechSynthesis","voice","lang","setVoices","voices","console","log","forEach","voiceS","Promise","resolve","timer","setInterval","getVoices","length","clearInterval","message","speakMsg","SpeechSynthesisUtterance","rate","pitch","speak","SpeakerSingleton","Messenger","socketURL","socketClient","userId","context","socketIOClient","connect","reconnection","emit","handleSocketEvents","props","connectSocket","setConnectSocket","disconnect","connection","disconnectSocket","on","closeSocket","MessengerSingleton","ServerStatus","interval","check","game","a","ping","error","status","errorData","handleGameServerStatus","handleServerStatus","ui","serverStatus","slide","handleConnection","SAvatar","className","styles","container","image","alt","src","avatar","prevProps","Component","state","SBubbleNotification","windowWidth","faIcon","faDizzy","faGrinBeam","success","containerDesktop","containerMobile","finalSlide","border","style","iconContainer","icon","size","setTimeout","mapActionsToProps","SNav","useState","isOpen","setIsOpen","toggle","NavbarToggler","toggler","onClick","Collapse","collapse","navbar","Nav","nav","NavItem","navItem","link","to","PATIENT","THERAPIST","SMenuHeader","user","profile_img","thumb","backgroundColor","color","thumbnail_alias","name","last_name","email","apiURL","login","credentials","role","url","axios","post","response","data","headers","token","id","localStorage","setItem","SMenuLink","onLinkClicked","bind","onLogout","children","logout","removeItem","SMenu","Role","Dropdown","DropdownToggle","DropdownMenu","menu","DropdownItem","header","divider","item","setState","SUserNav","onMenuButtonClicked","is_admin","linksContainer","Button","uimage","SHeaderBar","base","patientBar","standardBar","Navbar","expand","fixed","light","NavbarBrand","navbrand","logo","SMobileAvatar","SMobileMenu","animation","menuAppear","onAnimatedCloseClicked","onSimpleCloseClicked","btn","menuDissapear","getDatesDifference","startDate","endDate","start","DateTime","fromISO","diff","toObject","getFormattedDate","date","setLocale","toLocaleString","DATE_FULL","getDateBoundaries","luxDate","startOf","toISODate","endOf","SEmpty","text","SSpinner","marginTop","padding","textAlign","width","Spinner","SComments","comments","loading","map","comment","i","split","commentContainer","key","getCommentsFromSessions","sessions","Object","values","session","date_end","push","getActivity","get","activity","getActivities","patientId","activities","setActivity","setActivities","setSession","updateActivitySession","put","SSubmitField","FormGroup","e","SNewComment","onCancelClicked","onTextChanged","onSaveClicked","Form","Input","onChange","placeholder","rows","resize","invalid","FormFeedback","justifyContent","target","value","trim","SVideo","absolute","video","controls","SModal","closeModal","Modal","centered","contentClassName","ModalHeader","title","ModalBody","body","videoUrl","getUser","toUpdate","getUsers","query","users","updateUser","setUser","setToUpdate","SProtectedRoute","getRoleFromPath","hasToken","component","rest","render","checkServerStatus","computedMatch","letter","params","setCheckServerStatus","path","auth","defaults","common","SAvatarInfo","innerContainer","sides","avatarSide","description","SDevelop","faHeart","logoContainer","logoImage","SFeature","Col","sm","md","feature","infoContainer","SFeatures","Row","noGutters","features","SFooterBar","copyright","SHero","outerContainer","subtitle","btnContainer","SMobile","imageContainer","featuresData","therapist","patient","SLandingPage","xs","mainPhrase","mainIdea","featuresTitle","setMessage","SAvatarItem","getPatientSkin","skinData","skinId","single","setPatientSkins","skins","skin","SSkinItem","price","collectable","onBuyClicked","owned","checkUserSkin","updatePrice","collectableId","collectionId","id_collection","buildData","newScore","score","_skins","Skins","is_default","buySkins","collection","SCarousel","activeIndex","animating","animateItem","buildItems","goToIndex","next","previous","kind","Carousel","CarouselControl","direction","onClickHandler","animate","items","CarouselItem","onExiting","onExited","newIndex","onCarouselChanged","nextIndex","index","selected","SContainer","undefined","borderRadius","boxShadow","options","eye","dbalias","hair","torso","colors","blue","button","brown","black","blonde","green","purple","STACustomizer","option","onOptionClicked","onSectionOptionClicked","buildOptions","buildSections","col","section","buildSectionsOptions","names","sectionOpt","optionName","soption","onOptionSelected","STAvatarPanel","current","variations","carousel","getVariations","assign","keys","id_avatar","img_path","thumbnail_path","getAvatarVariation","Avatar_Variation","gender","getAvatarVariations","getVariation","variationData","variation","userAvatar","1","splice","unshift","v","STLayout","xlSize","page","mt","rowContainer","lg","xl","pt","SUserHero","userContainer","row","alias","uname","SProfilePage","btnAvatar","btnInfo","optContainer","setAvatarVariations","SPActivity","onPlayClicked","onTutorialClicked","date_from","gameImage","gameContainer","gameTitle","Activity","fontWeight","gameDescription","createActivitySession","Mechanic","tutorial_path","activityUserId","sessionData","date_start","Date","id_activity_user","SPactivity","SPLayout","vOffset","offset","messages","SPActivitiesPage","pid","match","listContainer","Math","floor","random","SPCollectableInfoPage","currentSkin","descriptionTitle","summary","getCollectableInfo","setCollectable","cid","getCollectable","SPCollectable","info","points","btnBuy","buySkin","SPCollection","collectables","Collectables","collections","SPCollectionsPage","scoreIcon","getCollectionsList","setCollections","getCollections","SPPassButton","btnInv","bgWhite","onDeletePassClicked","onPassButtonClicked","cursor","faTrash","SPassword","passwordOptions","optionsSelected","onDeleteButtonClicked","onPasswordOptionClicked","po","os","added","words","filter","setPassword","SPLogin","password","username","onInputChanged","onLogin","onLoginClicked","Label","label","bsSize","preventDefault","join","landing","SPLandingPage","alignItems","height","SFullScreen","fullRef","React","createRef","onClosed","onKeyHandler","onKeyDown","ref","tabIndex","document","addEventListener","enterFullScreen","exitFullScreen","removeEventListener","requestFullRequest","mozRequestFullScreen","webkitRequestFullScreen","fullscreenElement","mozFullScreenElement","webkitFullScreenElement","exitFullscreen","mozCancelFullScreen","webkitExitFullScreen","event","keyCode","FILE_SERVER_URL","SPPlayPage","gamePath","sid","build_path","pacienteToken","outerHeight","outerWidth","redirectBack","hideAvatar","aid","history","goBack","getPatient","getPatients","patients","STActivityButtons","onCommentsClicked","onDeleteClicked","onPDFClicked","onReassignClicked","Activities_Sessions","mr","faCommentAlt","ml","delete","faTimesCircle","removeActivity","pdf_path","file","open","today","weekLater","setDate","getDate","activityData","date_to","updateActivity","activityId","structures","2","3","STSyntacticCircle","structure","bgColor","display","STActivity","Syntactic_Structure","tid","aimage","rightContainer","nameContainer","syntContainer","btnEvolution","STActivitiesPage","titleContainer","setPatient","STOption","inner","faCheckCircle","STField","optionRow","optionCol","STDynamicField","first","getOptions","fieldId","field","resetDynamicOptions","reset","r","setDynamicSelectedOptions","optionId","dynamic","required","requiredIds","getRequiredIds","getDynamicOptions","rIds","rField","buildDynamic","fieldData","mechanicId","STDynamic","mechanic","situations","times","reader","STStaticField","resetStaticOptions","getNextOptions","multichoice","addStaticSelectedOption","checkMinimun","setStaticSelectedOptions","static","minimum","getStaticOptions","buildStatic","categoryId","subcategoryId","sintacticId","stid","optionData","STStatic","category","subcategory","sintactic","vocabulary","STConfigurationPage","redirect","onCreateActivityClicked","buttonStatic","btnSelected","buttonDynamic","outline","createContainer","create","resetConfiguration","fields","configuration","buildConfiguration","createActivity","prepareAndCreateActivity","fieldsData","getLevels","_data","historical","mid","feedData","getMatches","getPhrases","getSecuences","registerLocale","es","SDatePicker","pickerRef","onDateChanged","form","showMonthYear","showYearDropdown","input","dateFormat","completeInput","locale","popperPlacement","showMonthYearPicker","showFullMonthYearPicker","scrollableYearDropdown","withPortal","readOnly","feedDate","setFeedDate","feedback","structuresData","Pronombre","Sustantivo","Adjetivo","Verbo","Artículo","Conjunción","Preposición","buildRecord","hits","totalWords","percentage","sort","b","order_phrase","chartOptions","doughnut","legend","labels","boxWidth","usePointStyle","tooltips","enabled","mode","callbacks","tooltipItem","datasets","toLowerCase","line","metric","align","scales","xAxes","scaleLabel","labelString","yAxes","ticks","beginAtZero","steps","stepSize","max","yLabel","tooltipItems","xLabel","stackBar","stacked","datasetIndex","word","right","total","parseInt","part","round","charts","STDoughnut","chartData","groupedPhrases","phrase","totalPhrases","hitsPercentage","buildPhrasesSummary","STLevel","level","id_session","mt20","setLevelTime","minutes","STLine","matches","records","variable","occurrence","attempts","errors","record","is_good","borderColor","buildMatchErrorsData","buildTimes","STPhrases","phrases","wordsContainer","j","checked","phrasePercentage","STStackBar","feeds","feed","includes","misses","wordTotal","hitTotal","missesPercentage","buildWordHitsData","STInGame","matchesData","Matches_Feeds","getWords","STLevels","levels","setLevels","Levels_Feeds","STTimes","sessionsData","Sessions_Feeds","STVocalization","phrasesData","Phrases_Feeds","grouped","lastPhrase","shift","id_phrase","groupPhrases","getStructures","mechanics","semantic_description","STFeedOptions","btnVocal","btnMecha","btnLevel","btnTimes","disabled","contWidth","btnWidth","span","setStateValues","STSession","onClicked","sessionSelected","last","time","getDifference","STSessions","onSessionClicked","STEvolution","getFeedback","STMechanics","onMechanicClicked","UncontrolledTooltip","placement","STHistorical","prevState","toISOString","getSessions","STFeedbackPage","setFeedData","setSessions","setFirstSessions","slice","STLogin","STLandingPage","SSearch","searchContainer","searchIcon","faSearch","search","STPatient","onAssignPatientClicked","uinfo","setCheck","Therapists","Therapists_Patients","id_therapist","stopPropagation","checkTherapist","removePatient","createPatient","btnActive","therapistId","association","_association","_id_therapist","_id_patient","STPatientsPage","buttonMy","buttonAll","getPatientsList","setPatients","SAUser","identification","btnEdit","faEdit","SAUsersPage","toolsContainer","btnCreate","admin","getAllUsers","setUsers","SAImageLoader","encodedImage","canvasRef","imageRef","onFileChanged","onFileReaderLoaded","onImageLoaded","faImage","hiddenImage","hidden","btnFile","for","files","fileReader","FileReader","readAsDataURL","onload","result","scale","getContext","drawImage","canvas","toDataURL","toBlob","blob","SCheckField","SDateField","SInputField","FormText","SSelectField","opt","genders","buildRandomColor","buildUserAlias","charAt","toUpperCase","SAUserForm","active","birthday_date","id_role","update","userData","hasErrors","checkPassword","test","wordsSet","notInSet","checkUserFields","buildUserData","onSave","SAUpdateUserPage","uid","formContainer","prepareUserForUpdate","getUserToUpdate","formData","uploadProfileImage","res","register","FormData","append","App","calculateVOffset","setWindowSize","Container","fluid","exact","innerWidth","init","setVOffset","setWindowWidth","initialState","activityReducer","action","activitiesForRemoval","updatedActivity","activitiesForUpdate","PATIENT_TOKEN","THERAPIST_TOKEN","getItem","authReducer","avatarReducer","collectionReducer","_skinId","_collectable","_Skins","configurationReducer","connectionReducer","dynamicReducer","feedbackReducer","patientReducer","_patient","_patients","_Therapists","id_patient","staticReducer","uiReducer","userReducer","allReducers","combineReducers","middleware","thunk","composedEnhancers","composeWithDevTools","applyMiddleware","store","createStore","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.88192e06.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"comment\":\"SComments_comment__2BuSV\",\"commentContainer\":\"SComments_commentContainer__2OKNy\",\"container\":\"SComments_container__3G_Ox\",\"date\":\"SComments_date__1ookR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SFooterBar_container__1gSB7\",\"copyright\":\"SFooterBar_copyright__ESh8s\",\"innerContainer\":\"SFooterBar_innerContainer__1lM3b\",\"logo\":\"SFooterBar_logo__2D-6T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SPCollectableInfoPage_container__2pREu\",\"description\":\"SPCollectableInfoPage_description__n43HH\",\"descriptionTitle\":\"SPCollectableInfoPage_descriptionTitle__1RUq-\",\"title\":\"SPCollectableInfoPage_title__1O5Jn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SPCollectionsPage_container__3W7c6\",\"score\":\"SPCollectionsPage_score__3fwFX\",\"scoreIcon\":\"SPCollectionsPage_scoreIcon__1VAHF\",\"title\":\"SPCollectionsPage_title__auwrN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"col\":\"SPCollection_col__2K7XX\",\"container\":\"SPCollection_container__27A6j\",\"rowContainer\":\"SPCollection_rowContainer__29q42\",\"title\":\"SPCollection_title__3Uf03\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"STOption_container__2b_7b\",\"inner\":\"STOption_inner__1PEEH\",\"name\":\"STOption_name__oY1xP\",\"selected\":\"STOption_selected__14b_j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"marginTop\":\"SSearch_marginTop__lV0l0\",\"search\":\"SSearch_search__BEsUo\",\"searchContainer\":\"SSearch_searchContainer__3Dpat\",\"searchIcon\":\"SSearch_searchIcon__3B77W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnCreate\":\"SAUsersPage_btnCreate__3E2Im\",\"listContainer\":\"SAUsersPage_listContainer__KhrhP\",\"title\":\"SAUsersPage_title__ePhGC\",\"toolsContainer\":\"SAUsersPage_toolsContainer__2f4UM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SAUpdateUserPage_container__33K79\",\"formContainer\":\"SAUpdateUserPage_formContainer__2_Iev\",\"title\":\"SAUpdateUserPage_title__zc6GE\",\"userData\":\"SAUpdateUserPage_userData__1NyED\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SAvatar_container__1p6Ra\",\"image\":\"SAvatar_image__f6nMg\",\"message\":\"SAvatar_message__36pWZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SMobileAvatar_container__Dg-y0\",\"image\":\"SMobileAvatar_image__kQP3-\",\"message\":\"SMobileAvatar_message__1VqAb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"SModal_body__KRael\",\"modal\":\"SModal_modal__EefRS\",\"title\":\"SModal_title__rzR2g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"absolute\":\"SVideo_absolute__39LAH\",\"container\":\"SVideo_container__LFvgA\",\"video\":\"SVideo_video__2EZSC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SFeatures_container__TuY4d\",\"innerContainer\":\"SFeatures_innerContainer__1T4yv\",\"title\":\"SFeatures_title__2D6NC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"STLayout_container__3lOal\",\"outerContainer\":\"STLayout_outerContainer__nbEQl\",\"rowContainer\":\"STLayout_rowContainer__ObmR8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SPLayout_container__3A-ua\",\"outerContainer\":\"SPLayout_outerContainer__1BQ8D\",\"rowContainer\":\"SPLayout_rowContainer__2WCxn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnContainer\":\"SPassword_btnContainer__1l-cK\",\"container\":\"SPassword_container__2IKTu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"STMechanics_btn__Tqd2i\",\"container\":\"STMechanics_container__1tM1K\",\"selected\":\"STMechanics_selected__2D98J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SEmpty_container__17HkQ\",\"text\":\"SEmpty_text__7_-8I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"carousel\":\"STAvatarPanel_carousel__13Etq\",\"container\":\"STAvatarPanel_container__1VzPC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"border\":\"SCarousel_border__23GFp\",\"style\":\"SCarousel_style__4G1i5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SAvatarItem_container__SylU4\",\"image\":\"SAvatarItem_image__GThs2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listContainer\":\"SPActivitiesPage_listContainer__1zQ0g\",\"title\":\"SPActivitiesPage_title__st4Q8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"STFeedbackPage_container__3IMrm\",\"title\":\"STFeedbackPage_title__cOZYB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"completeInput\":\"SDatePicker_completeInput__3Qnnh\",\"input\":\"SDatePicker_input__186S_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"style\":\"SMenuLink_style__3mouR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnClose\":\"SPPlayPage_btnClose__3bovR\",\"closeContainer\":\"SPPlayPage_closeContainer__prnKn\",\"container\":\"SPPlayPage_container__1JXN7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"STEvolution_container__1JFiX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"STSessions_container__tZ9Rz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"STHistorical_container__3XXqi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Charts_container__3RhdX\",\"description\":\"Charts_description__2a5hw\",\"mt20\":\"Charts_mt20__3ckh6\",\"percentage\":\"Charts_percentage__bjF4d\",\"phrasePercentage\":\"Charts_phrasePercentage__vJ19C\",\"score\":\"Charts_score___ZO4Z\",\"subtitle\":\"Charts_subtitle__15rOk\",\"title\":\"Charts_title__3d5vo\",\"word\":\"Charts_word__2sd5u\",\"wordsContainer\":\"Charts_wordsContainer__1Nt_G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"STPatient_btn__2j08s\",\"btnActive\":\"STPatient_btnActive__1pd4a\",\"link\":\"STPatient_link__tNTSf\",\"container\":\"STPatient_container__2X2DS\",\"height\":\"STPatient_height__1E83-\",\"padding\":\"STPatient_padding__T-Vv2\",\"thumb\":\"STPatient_thumb__1_vlU\",\"uimage\":\"STPatient_uimage__3am3r\",\"uinfo\":\"STPatient_uinfo__2X0Mb\",\"uname\":\"STPatient_uname__v9FdO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"STACustomizer_btn__36HiN\",\"col\":\"STACustomizer_col__3fIsC\",\"container\":\"STACustomizer_container__3fiR_\",\"header\":\"STACustomizer_header__2M7hK\",\"rounded\":\"STACustomizer_rounded__3mSP5\",\"selected\":\"STACustomizer_selected__1PA7P\",\"title\":\"STACustomizer_title__90vX_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"SHero_btn__ed6WQ\",\"btnContainer\":\"SHero_btnContainer__1PllE\",\"container\":\"SHero_container__3qLwg\",\"innerContainer\":\"SHero_innerContainer__1OoLy\",\"link\":\"SHero_link__2NUmS\",\"outerContainer\":\"SHero_outerContainer__3f7_s\",\"subtitle\":\"SHero_subtitle__eo5s7\",\"title\":\"SHero_title__qCU9U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"STActivity_container__r4OSJ\",\"date\":\"STActivity_date__IsoC9\",\"description\":\"STActivity_description__cO8RH\",\"btnEvolution\":\"STActivity_btnEvolution__3bVYL\",\"aimage\":\"STActivity_aimage__1FOej\",\"innerContainer\":\"STActivity_innerContainer__1b6Cz\",\"nameContainer\":\"STActivity_nameContainer__2xVy_\",\"rightContainer\":\"STActivity_rightContainer__3nmb0\",\"syntContainer\":\"STActivity_syntContainer__AsPHV\",\"title\":\"STActivity_title__1HtrQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comments\":\"STActivityButtons_comments__1F8al\",\"container\":\"STActivityButtons_container__1PhPU\",\"delete\":\"STActivityButtons_delete__2Uhk7\",\"ml\":\"STActivityButtons_ml__2AZ8H\",\"mr\":\"STActivityButtons_mr__ZNUXu\",\"btn\":\"STActivityButtons_btn__3YbeY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"STFeedOptions_btn__lNh_P\",\"btnContainer\":\"STFeedOptions_btnContainer__VPsem\",\"disabled\":\"STFeedOptions_disabled__1icUf\",\"selected\":\"STFeedOptions_selected__1wOWG\",\"span\":\"STFeedOptions_span__d7zy9\"};","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\n/** Actividades */\r\nexport const REMOVE_ACTIVITY = 'REMOVE_ACTIVITY';\r\nexport const SET_ACTIVITIES = 'SET_ACTIVITIES';\r\nexport const SET_ACTIVITY = 'SET_ACTIVITY';\r\nexport const SET_SELECTED_SESSION = 'SET_SELECTED_SESSION';\r\nexport const SET_SESSIONS = 'SET_SESSIONS';\r\nexport const UPDATE_ACTIVITY = 'UPDATE_ACTIVITY';\r\n\r\n/** Auth */\r\nexport const SET_PATIENT_TOKEN = 'SET_PATIENT_TOKEN';\r\nexport const SET_THERAPIST_TOKEN = 'SET_THERAPIST_TOKEN';\r\n\r\n/** Avatar */\r\nexport const SET_AVATAR_MESSAGE = 'SET_AVATAR_MESSAGE';\r\nexport const SET_AVATAR_VARIATION = 'SET_AVATAR_VARIATION';\r\nexport const SET_AVATAR_VARIATIONS = 'SET_AVATAR_VARIATIONS';\r\n\r\n/** Configuración */\r\nexport const RESET_CONFIGURATION = 'RESET_CONFIGURATION';\r\nexport const SET_CONFIGURATION = 'SET_CONFIGURATION';\r\n\r\n/** Configuración dinámica */\r\nexport const RESET_DYNAMIC_OPTIONS = 'RESET_DYNAMIC_OPTIONS';\r\nexport const SET_DYNAMIC_OPTIONS = 'SET_DYNAMIC_OPTIONS';\r\nexport const SET_DYNAMIC_SELECTED_OPTIONS = 'SET_DYNAMIC_SELECTED_OPTIONS';\r\n\r\n/** Configuración estática */\r\nexport const ADD_STATIC_SELECTED_OPTION = 'ADD_STATIC_SELECTED_OPTION';\r\nexport const RESET_STATIC_OPTIONS = 'RESET_STATIC_OPTIONS';\r\nexport const SET_STATIC_OPTIONS = 'SET_STATIC_OPTIONS';\r\nexport const SET_STATIC_SELECTED_OPTIONS = 'SET_STATIC_SELECTED_OPTIONS';\r\n\r\n/** Colecciones */\r\nexport const SET_COLLECTIONS = 'SET_COLLECTIONS';\r\nexport const SET_COLLECTABLE = 'SET_COLLECTABLE';\r\nexport const SET_USER_SKINS_OWNED = 'SET_USER_SKINS_OWNED';\r\nexport const SET_USER_SKIN_OWNED = 'SET_USER_SKIN_OWNED';\r\n\r\n/** Conexión */\r\nexport const SET_CHECK_SERVER_STATUS = 'SET_CHECK_SERVER_STATUS';\r\nexport const SET_CONNECTED_ID = 'SET_CONNECTED_ID';\r\nexport const SET_CONNECT_SOCKET = 'SET_CONNECT_SOCKET';\r\n\r\n/** Feedback */\r\nexport const SET_FEEDBACK_DATA = 'SET_FEEDBACK_DATA';\r\nexport const SET_FEEDBACK_DATE = 'SET_FEEDBACK_DATE';\r\n\r\n/** Pacientes */\r\nexport const REMOVE_PATIENT = 'REMOVE_PATIENT';\r\nexport const SET_PATIENT = 'SET_PATIENT';\r\nexport const SET_PATIENTS = 'SET_PATIENTS';\r\nexport const SET_SELECTED_PATIENT = 'SET_SELECTED_PATIENT';\r\n\r\n/** UI */\r\nexport const SET_BAR = 'SET_BAR';\r\nexport const SET_FULLSCREEN = 'SET_FULLSCREEN';\r\nexport const SET_MODAL = 'SET_MODAL';\r\nexport const SET_NOTIFICATION = 'SET_NOTIFICATION';\r\nexport const SET_PARALLAX = 'SET_PARALLAX';\r\nexport const SET_V_OFFSET = 'SET_V_OFFSET';\r\nexport const SET_WINDOW_WIDTH = 'SET_WINDOW_WIDTH';\r\nexport const SHOW_AVATAR = 'SHOW_AVATAR';\r\nexport const SHOW_CREATE_ACTIVITY_BUTTON = 'SHOW_CREATE_ACTIVITY_BUTTON';\r\nexport const SHOW_MOBILE_MENU = 'SHOW_MOBILE_MENU';\r\n\r\n/** User */\r\nexport const SET_USER = 'SET_USER';\r\nexport const SET_USERS = 'SET_USERS';\r\nexport const SET_TO_UPDATE = 'SET_TO_UPDATE';","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport {\r\n    SET_BAR,\r\n    SET_FULLSCREEN,\r\n    SET_MODAL,\r\n    SET_NOTIFICATION,\r\n    SET_PARALLAX,\r\n    SET_V_OFFSET,\r\n    SET_WINDOW_WIDTH,\r\n    SHOW_AVATAR,\r\n    SHOW_CREATE_ACTIVITY_BUTTON,\r\n    SHOW_MOBILE_MENU\r\n} from './types';\r\n\r\n\r\nexport const setBar = (bar) => (dispatch) => {\r\n    dispatch({\r\n        type: SET_BAR,\r\n        payload: { bar }\r\n    });\r\n}\r\n\r\nexport const setFullScreen = (fullScreen) => (dispatch) => {\r\n    dispatch({ \r\n        type: SET_FULLSCREEN, \r\n        payload: { fullScreen }\r\n    });\r\n}\r\n\r\nexport const setModal = (modal) => (dispatch) => {\r\n    dispatch({ \r\n        type: SET_MODAL, \r\n        payload: { modal }\r\n    });\r\n}\r\n\r\nexport const setNotification = (notification) => (dispatch) => {\r\n    dispatch({ \r\n        type: SET_NOTIFICATION, \r\n        payload: { notification }\r\n    });\r\n}\r\n\r\nexport const setParallax = (parallax) => (dispatch) => {\r\n    dispatch({\r\n        type: SET_PARALLAX,\r\n        payload: { parallax }\r\n    });\r\n}\r\n\r\nexport const setVOffset = (vOffset) => (dispatch) => {\r\n    dispatch({ \r\n        type: SET_V_OFFSET, \r\n        payload: { vOffset }\r\n    });\r\n}\r\n\r\nexport const setWindowWidth = (width) => (dispatch) => {\r\n    dispatch({ \r\n        type: SET_WINDOW_WIDTH, \r\n        payload: { width }\r\n    });\r\n}\r\n\r\nexport const showAvatar = (show) => (dispatch) => {\r\n    dispatch({ \r\n        type: SHOW_AVATAR, \r\n        payload: { show }\r\n    });\r\n}\r\n\r\nexport const showCreateActivityButton = (show) => (dispatch) => {\r\n    dispatch({ \r\n        type: SHOW_CREATE_ACTIVITY_BUTTON, \r\n        payload: { show }\r\n    });\r\n}\r\n\r\nexport const showMobileMenu = (show) => (dispatch) => {\r\n    dispatch({ \r\n        type: SHOW_MOBILE_MENU, \r\n        payload: { show }\r\n    });\r\n}","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport axios from 'axios';\r\nimport {\r\n    SET_CHECK_SERVER_STATUS,\r\n    SET_CONNECTED_ID, \r\n    SET_CONNECT_SOCKET \r\n} from './types';\r\n\r\nconst gameServerURL = process.env.REACT_APP_FILE_SERVER;\r\nconst serverURL = process.env.REACT_APP_SERVER_URL;\r\n\r\nexport const ping = (game = false) => async () => {\r\n    const url = `${game ? gameServerURL : serverURL}/ping`;\r\n\r\n    try {\r\n        const response = await axios.get(url);\r\n        const { data: { message, status }} = response;\r\n        const error = status !== 200;\r\n        \r\n        return { error, message, status };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err, status: 500 };\r\n    }\r\n}\r\n\r\nexport const setCheckServerStatus = (check) => (dispatch) => {\r\n    dispatch({ \r\n        type: SET_CHECK_SERVER_STATUS, \r\n        payload: { check }\r\n    });\r\n}\r\n\r\nexport const setConnectedId = (connectedId) => (dispatch) => {\r\n    dispatch({ \r\n        type: SET_CONNECTED_ID, \r\n        payload: { connectedId }\r\n    });\r\n}\r\n\r\nexport const setConnectSocket = (connectSocket) => (dispatch) => {\r\n    dispatch({ \r\n        type: SET_CONNECT_SOCKET, \r\n        payload: { connectSocket }\r\n    });\r\n}","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\n/** Definición de la clase */\r\nclass Speaker {\r\n\r\n    /** Constructor */\r\n    constructor() {\r\n        if (Speaker.instance instanceof Speaker)\r\n            return Speaker.instance;\r\n\r\n        this.synthesis = window.speechSynthesis;\r\n        this.voice = null;\r\n        Speaker.instance = this;\r\n    }\r\n\r\n    async init(lang) {\r\n        const { voices } = await this.setVoices();\r\n        console.log(voices);   \r\n        voices.forEach(voiceS => {\r\n            if (voiceS.lang === lang) {\r\n                this.voice = voiceS;\r\n            }\r\n        });\r\n    }\r\n\r\n    setVoices() {\r\n        return new Promise((resolve) => {\r\n            const timer = setInterval(() => {\r\n                const voices = this.synthesis.getVoices();\r\n                \r\n                if (voices.length !== 0) {\r\n                    resolve({ voices });\r\n                    clearInterval(timer);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    speak(message) {\r\n        if (!message)\r\n            return;\r\n        \r\n        const speakMsg = new SpeechSynthesisUtterance(message);\r\n        speakMsg.lang = 'es-MX';\r\n        speakMsg.voice = this.voice;\r\n        speakMsg.rate = 1;\r\n        speakMsg.pitch = 1;\r\n\r\n        this.synthesis.speak(speakMsg);\r\n    }\r\n}\r\n\r\n/** Transforma la clase en un singleton */\r\nconst SpeakerSingleton = new Speaker();\r\nexport default SpeakerSingleton; ","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport socketIOClient from 'socket.io-client';\r\n\r\nclass Messenger {\r\n\r\n    constructor() {\r\n        /** Singleton */\r\n        if (Messenger.instance instanceof Messenger) \r\n            return Messenger.instance;\r\n\r\n        this.socketURL = process.env.REACT_APP_SOCKET_URL;\r\n        this.socketClient = null;\r\n        Messenger.instance = this;\r\n    }\r\n\r\n    /** Métodos de la clase */\r\n    /** Conectar el socket al servidor */\r\n    connectSocket(userId, context) {\r\n        if (!this.socketClient) {\r\n            this.socketClient = socketIOClient.connect(this.socketURL, {\r\n                reconnection: false\r\n            });\r\n            /** Enviar un mensaje para registrar el usuario */\r\n            this.socketClient.emit('register', { userId });\r\n            this.handleSocketEvents(context);\r\n        }\r\n    }\r\n\r\n    closeSocket(context) {\r\n        if (this.socketClient) {\r\n            this.socketClient = null;\r\n            context.props.setConnectedId(null);\r\n            /** Cuado se presenta un error de conexión */\r\n            if (context.props.connectSocket)\r\n                context.props.setConnectSocket(false);\r\n        }\r\n    }\r\n\r\n    /** Desconectar el socket del servidor */\r\n    disconnectSocket(userId) {\r\n        if (this.socketClient) {\r\n            /** Enviar un mensaje para eliminar al usuario del registro */\r\n            this.socketClient.emit('unregister', { userId });\r\n            this.socketClient.disconnect();\r\n        }\r\n    }\r\n\r\n    /** Manejar la conexión del socket */\r\n    handleConnection(connection, context) {\r\n        const { connectSocket, connectedId } = connection;\r\n        if (connectSocket) \r\n            this.connectSocket(connectedId, context);\r\n        else\r\n            this.disconnectSocket(connectedId);\r\n    }\r\n\r\n    /** Manejar todos los eventos detectados por el socket */\r\n    handleSocketEvents(context) {\r\n        this.socketClient.on('disconnect', () => {\r\n            console.log('Socket desconectado!');\r\n            this.closeSocket(context);\r\n        });\r\n\r\n        this.socketClient.on('error', () => {\r\n            this.closeSocket(context);\r\n        });\r\n\r\n        /** Eventos propios */\r\n        this.socketClient.on('avatar_message', (message) => {\r\n            console.log(message);\r\n        });\r\n\r\n        this.socketClient.on('exit_game', (message) => {\r\n            console.log(message);\r\n            context.props.setFullScreen(false);\r\n        });\r\n    }\r\n}\r\n\r\nconst MessengerSingleton = new Messenger();\r\nexport default MessengerSingleton;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nclass ServerStatus {\r\n\r\n    constructor(context) {\r\n        this.context = context;\r\n        this.interval = null;\r\n    }\r\n\r\n    /** Métodos de la clase */\r\n    /** Verificar el estado del servidor */\r\n    checkServerStatus(check, game, Messenger) {\r\n        if (check) {\r\n            /** Lanzar un intervalo de 3 segundos para verificar */\r\n            this.interval = setInterval(async () => {\r\n                const { error, status } = await this.context.props.ping(game);\r\n                const errorData = error ? { error, status } : null;\r\n\r\n                if (game) \r\n                    this.handleGameServerStatus();\r\n                else\r\n                    this.handleServerStatus(errorData, Messenger);\r\n            }, \r\n            3000);\r\n        }\r\n        else\r\n            this.clearInterval();\r\n    }\r\n\r\n    /** Detener el intervalo */\r\n    clearInterval() {\r\n        if (this.interval) {\r\n            clearInterval(this.interval);\r\n            this.interval = null;\r\n        }\r\n    }\r\n\r\n    handleServerStatus(error, Messenger) {\r\n        const { props } = this.context;\r\n        const { connection, ui } = props;\r\n\r\n        if (error) {\r\n            const { status } = error;\r\n                        \r\n            if (status === 500) {\r\n                const message = '¡El servidor está desconectado!';\r\n                if (!ui.notification)\r\n                    props.setNotification({ \r\n                        error: true, \r\n                        message, \r\n                        serverStatus: true, \r\n                        slide: false \r\n                    });\r\n            }\r\n            else if (status === 401)\r\n                console.log('¡Token inválido!');\r\n        }\r\n        else {\r\n            Messenger.handleConnection(connection, this.context);\r\n            if (ui.notification && ui.notification.serverStatus) \r\n                props.setNotification(null);\r\n        }\r\n    }\r\n\r\n    handleGameServerStatus() {\r\n\r\n    }\r\n}\r\n\r\nexport default ServerStatus;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SAvatar.module.css';\r\nimport { connect } from 'react-redux';\r\nimport Speaker from '@utils/Speaker';\r\n\r\nclass SAvatar extends Component {\r\n    render() {\r\n        return(\r\n            <div className={styles.container}>\r\n                <img \r\n                    className={styles.image}\r\n                    alt=''\r\n                    src='/images/avatar/avatar_a_default.png' />\r\n                <p className={styles.message}>\r\n                    { this.props.avatar.message }\r\n                </p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    componentDidMount() {\r\n        Speaker.speak(this.props.avatar.message);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.avatar.message !== this.props.avatar.message)\r\n            Speaker.speak(this.props.avatar.message);\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        avatar: state.avatar\r\n    };\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps\r\n)(SAvatar);","import SAvatar from './SAvatar';\r\nexport default SAvatar;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SBubbleNotification.module.css';\r\nimport { connect } from 'react-redux';\r\nimport { setNotification } from '@actions/ui';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faDizzy, faGrinBeam } from '@fortawesome/free-solid-svg-icons';\r\n\r\nclass SBubbleNotification extends Component {\r\n    render() {\r\n        const { error, message, slide } = this.props.notification;\r\n        const { parallax, windowWidth } = this.props;\r\n\r\n        const faIcon = error ? faDizzy : faGrinBeam;\r\n        const state = error ? styles.error : styles.success;\r\n\r\n        const container = windowWidth >= 768 ? \r\n                          styles.containerDesktop : styles.containerMobile;\r\n\r\n        let finalSlide = windowWidth >= 768 ? -368 : -200;\r\n        if (!slide)\r\n            finalSlide = windowWidth >= 768 ?  -1 : 0;\r\n        \r\n        const border = parallax ? '': styles.border;\r\n        \r\n        return(\r\n            <div \r\n                className={`${styles.container} ${container} ${border} flex`}\r\n                style={{ '--finalSlide': `${finalSlide}px`}}>\r\n                <div className={`flex ${styles.iconContainer} ${state}`}>\r\n                    <FontAwesomeIcon icon={faIcon} size='3x' />\r\n                </div>\r\n                <span className={styles.message}>\r\n                    { message }\r\n                </span>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { slide } = this.props.notification;\r\n        if (slide)\r\n            setTimeout(() => {\r\n                this.props.setNotification(null);\r\n            }, 6001);\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapActionsToProps = {\r\n    setNotification\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        notification: state.ui.notification,\r\n        parallax: state.ui.parallax,\r\n        windowWidth: state.ui.windowWidth\r\n    };\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapActionsToProps,\r\n)(SBubbleNotification);","import SBubbleNotification from './SBubbleNotification';\r\nexport default SBubbleNotification;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { useState } from 'react';\r\nimport styles from './SNav.module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n    Collapse,\r\n    Nav,\r\n    NavbarToggler,\r\n    NavItem\r\n} from 'reactstrap';\r\n\r\nconst SNav = (props) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n\r\n    const toggle = () =>  {\r\n        if (props.windowWidth <= 768)\r\n            setIsOpen(!isOpen);\r\n    }\r\n\r\n    return(\r\n        <span className={styles.container}>\r\n            <NavbarToggler className={styles.toggler} onClick={toggle} />\r\n            <Collapse className={styles.collapse} isOpen={isOpen} navbar>\r\n                <Nav className={styles.nav} navbar>\r\n                    <NavItem className={styles.navItem}>\r\n                        <Link\r\n                            className={styles.link}\r\n                            onClick={toggle}\r\n                            to='/'>\r\n                            Inicio\r\n                        </Link>\r\n                    </NavItem>\r\n                </Nav>\r\n            </Collapse>\r\n        </span>\r\n    );\r\n}\r\n\r\nexport default SNav;","import SNav from './SNav';\r\nexport default SNav;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nexport const PATIENT = 'paciente';\r\nexport const THERAPIST = 'terapeuta';","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React from 'react';\r\nimport styles from './SMenuHeader.module.css';\r\n\r\nconst serverURL = process.env.REACT_APP_SERVER_URL;\r\n\r\nconst SMenuHeader = (props) => {\r\n    return(\r\n        <div className={`flex ${styles.container}`}>\r\n            {\r\n                props.user.profile_img ?\r\n                <img\r\n                    alt='' \r\n                    className={styles.image}\r\n                    src={`${serverURL}${props.user.profile_img}`} />\r\n                :\r\n                <div \r\n                    className={`flex ${styles.image} ${styles.thumb}`} \r\n                    style={{ backgroundColor: props.user.color }}>\r\n                    { props.user.thumbnail_alias }\r\n                </div>\r\n            }\r\n            <span className={styles.name}>\r\n                { props.user.name } { props.user.last_name }\r\n            </span>\r\n            <span className={styles.email}>\r\n                { props.user.email }\r\n            </span>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SMenuHeader;","import SMenuHeader from './SMenuHeader';\r\nexport default SMenuHeader;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport axios from 'axios';\r\nimport {\r\n    SET_PATIENT_TOKEN,\r\n    SET_THERAPIST_TOKEN\r\n} from './types';\r\n\r\nimport { PATIENT } from '@data/roles';\r\n\r\nconst apiURL = process.env.REACT_APP_API_URL;\r\n\r\nexport const login = (credentials, role) => async (dispatch) => {\r\n    const url = `${apiURL}/auth/login`;\r\n    credentials = { ...credentials, role };\r\n\r\n    try {\r\n        const response = await axios.post(url, { credentials });\r\n        const { data: { data, message, status }, headers } = response;\r\n\r\n        /** Obtener el token */\r\n        const token = status === 200 ? headers['auth-token'] : null;\r\n        const userId = status === 200 ? data.id : null;\r\n        const error = status !== 200;\r\n\r\n        dispatch({\r\n            type: role === PATIENT ? SET_PATIENT_TOKEN : SET_THERAPIST_TOKEN,\r\n            payload: { token }\r\n        });\r\n        localStorage.setItem(`${role}Token`, token);\r\n            \r\n        return { error, message, userId };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err, userId: null };\r\n    }\r\n}\r\n\r\nexport const logout = (role) => (dispatch) => {\r\n    dispatch({\r\n        type: role === PATIENT ? SET_PATIENT_TOKEN : SET_THERAPIST_TOKEN,\r\n        payload: { token: null }\r\n    });\r\n    localStorage.removeItem(`${role}Token`);\r\n}\r\n\r\nexport const register = (user) => async () => {\r\n    const url = `${apiURL}/auth/register`;\r\n\r\n    try {\r\n        const response = await axios.post(url, { user });\r\n        const { data: { message, status }} = response;\r\n\r\n        const error = status !== 200;\r\n        return { error, message };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err };\r\n    }\r\n}","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SMenuLink.module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '@actions/auth';\r\n\r\nclass SMenuLink extends Component {\r\n    render() {\r\n        return(\r\n            <Link\r\n                className={styles.style}\r\n                to={this.props.to}\r\n                onClick={this.onLinkClicked}>\r\n                {this.props.children}\r\n            </Link>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.onLinkClicked = this.onLinkClicked.bind(this);\r\n        this.onLogout = this.onLogout.bind(this);\r\n    }\r\n\r\n    /** Métodos extra */\r\n    onLinkClicked() {\r\n        if (this.props.onClick)\r\n            this.props.onClick();\r\n        \r\n        if (this.props.type === 'logout')\r\n            this.onLogout();\r\n    }\r\n\r\n    onLogout() {\r\n        const { role } = this.props;\r\n        this.props.logout(role);\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapActionsToProps = {\r\n    logout,\r\n}\r\n\r\nexport default connect(\r\n    null,\r\n    mapActionsToProps\r\n)(SMenuLink);","import SMenuLink from './SMenuLink';\r\nexport default SMenuLink;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SMenu.module.css';\r\nimport {\r\n    Dropdown,\r\n    DropdownItem,\r\n    DropdownMenu,\r\n    DropdownToggle,\r\n} from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { THERAPIST } from '@data/roles';\r\n\r\nimport SMenuHeader from '@components/shared/SMenuHeader';\r\nimport SMenuLink from '@components/shared/SMenuLink';\r\n\r\nconst serverURL = process.env.REACT_APP_SERVER_URL;\r\n\r\nclass SMenu extends Component {\r\n    render() {\r\n        const { id, Role } = this.props.user;\r\n        const role = Role.name;\r\n\r\n        return(\r\n            <Dropdown\r\n                className={styles.container}\r\n                isOpen={this.state.isOpen}\r\n                toggle={this.toggle}>\r\n                <DropdownToggle className={`flex ghost-btn ${styles.toggle}`}>\r\n                    <span className={styles.name}>\r\n                        { this.props.user.name }\r\n                    </span>\r\n                    {\r\n                        this.props.user.profile_img ? \r\n                        <img \r\n                            alt=''\r\n                            className={styles.image}\r\n                            src={`${serverURL}${this.props.user.profile_img}`} />\r\n                        :\r\n                        <div\r\n                            className={`flex ${styles.image} ${styles.thumb}`}\r\n                            style={{ backgroundColor: this.props.user.color }}>\r\n                            { this.props.user.thumbnail_alias }\r\n                        </div>\r\n                    }\r\n                </DropdownToggle>\r\n\r\n                <DropdownMenu className={styles.menu}>\r\n                    <DropdownItem header>\r\n                        <SMenuHeader user={this.props.user} />\r\n                    </DropdownItem>\r\n                    <DropdownItem divider />\r\n                    {\r\n                        role === THERAPIST ?\r\n                        <span>\r\n                            <DropdownItem className={styles.item}>\r\n                                <SMenuLink to={`/${role}/${id}/perfil`}>\r\n                                    Perfil\r\n                                </SMenuLink>\r\n                            </DropdownItem>\r\n                        </span>\r\n                        : null\r\n                    }\r\n                    <DropdownItem className={styles.item}>\r\n                        <SMenuLink \r\n                            role={role}\r\n                            to={`/${role}`}\r\n                            type='logout'>\r\n                            Salir\r\n                        </SMenuLink>\r\n                    </DropdownItem>\r\n                </DropdownMenu>\r\n            </Dropdown>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { isOpen: false };\r\n        this.toggle = this.toggle.bind(this);\r\n    }\r\n\r\n    /** Métodos extra */\r\n    toggle() {\r\n        this.setState({ isOpen: !this.state.isOpen });\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.user.user\r\n    };\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps\r\n)(SMenu);","import SMenu from './SMenu';\r\nexport default SMenu;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SUserNav.module.css';\r\nimport { Button } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { showMobileMenu } from '@actions/ui';\r\n\r\nimport { PATIENT } from '@data/roles';\r\n\r\nimport SMenu from './SMenu';\r\n\r\nclass SUserNav extends Component {\r\n    render() {\r\n        const { id, is_admin, Role } = this.props.user;\r\n        const role = Role.name;\r\n\r\n        return(\r\n            <div className={`flex ${styles.container}`}>\r\n                <div className={styles.linksContainer}>\r\n                    {\r\n                        role === PATIENT ?\r\n                        <span>\r\n                            <Link\r\n                                className={styles.link} \r\n                                to={`/${role}/${id}/actividades`}>\r\n                                Actividades\r\n                            </Link>\r\n                            <Link \r\n                                className={styles.link}\r\n                                to={`/${role}/${id}/colecciones`}>\r\n                                Colecciones\r\n                            </Link>\r\n                        </span>\r\n                        : \r\n                        <span>\r\n                            {is_admin && <Link\r\n                                className={styles.link}\r\n                                to={`/${role}/${id}/admin`}>\r\n                                Administrar\r\n                            </Link>}\r\n                            <Link \r\n                                className={styles.link}\r\n                                to={`/${role}/${id}/pacientes`}>\r\n                                Pacientes\r\n                            </Link>\r\n                        </span>\r\n                    }\r\n                </div>\r\n                {\r\n                    this.props.ui.windowWidth >= 768 ?\r\n                    <SMenu />\r\n                    :\r\n                    <Button\r\n                        className='ghost-btn'\r\n                        onClick={this.onMenuButtonClicked}>\r\n                        {\r\n                            this.props.user.profile_img ? \r\n                            <div className={styles.uimage} />\r\n                            :\r\n                            <div\r\n                                className={`flex ${styles.uimage} ${styles.thumb}`}\r\n                                style={{ backgroundColor: this.props.user.color }}>\r\n                                { this.props.user.thumbnail_alias }\r\n                            </div>\r\n                        }\r\n                    </Button>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.onMenuButtonClicked = this.onMenuButtonClicked.bind(this);\r\n    }\r\n\r\n    /** Métodos extra */\r\n    onMenuButtonClicked() {\r\n        this.props.showMobileMenu(true);\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        ui: state.ui,\r\n        user: state.user.user\r\n    };\r\n}\r\n\r\nconst mapActionsToProps = {\r\n    showMobileMenu\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapActionsToProps\r\n)(SUserNav);","import SUserNav from './SUserNav';\r\nexport default SUserNav;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SHeaderBar.module.css';\r\nimport { Navbar, NavbarBrand } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\n\r\nimport SNav from './SNav';\r\nimport SUserNav from './SUserNav';\r\n\r\nclass SHeaderBar extends Component {\r\n    render() {\r\n        const { bar } = this.props.ui;\r\n        let base = styles.bar;\r\n        if (bar === 'patient')\r\n            base = `${base} ${styles.patientBar}`;\r\n        else\r\n            base = `${base} ${styles.standardBar}`;\r\n\r\n        return(\r\n            <Navbar \r\n                className={base} \r\n                expand='lg'\r\n                fixed='top' \r\n                light>\r\n                <NavbarBrand className={styles.navbrand}>\r\n                    <img\r\n                        alt=''\r\n                        className={styles.logo}\r\n                        src='/images/logo/logo.png' />\r\n                    SATReLO\r\n                </NavbarBrand>\r\n                {\r\n                    this.props.user !== null ?\r\n                    <SUserNav />\r\n                    :\r\n                    <SNav windowWidth={this.props.ui.windowWidth} />\r\n                }\r\n            </Navbar>\r\n        );\r\n    }\r\n}\r\n\r\n/** Eementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.user.user,\r\n        ui: state.ui,\r\n    };\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps\r\n)(SHeaderBar);","import SHeaderBar from './SHeaderBar';\r\nexport default SHeaderBar;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SMobileAvatar.module.css';\r\nimport { connect } from 'react-redux';\r\nimport Speaker from '@utils/Speaker';\r\n\r\nclass SMobileAvatar extends Component {\r\n    render() {\r\n        return(\r\n            <div className={`flex ${styles.container}`}>\r\n                <div className={styles.image} />\r\n                <p className={styles.message}>\r\n                    { this.props.avatar.message }\r\n                </p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    componentDidMount() {\r\n        Speaker.speak(this.props.avatar.message);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.avatar.message !== this.props.avatar.message)\r\n            Speaker.speak(this.props.avatar.message);\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        avatar: state.avatar\r\n    };\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps\r\n)(SMobileAvatar);","import SMobileAvatar from './SMobileAvatar';\r\nexport default SMobileAvatar;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SMobileMenu.module.css';\r\nimport { Button } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { showMobileMenu } from '@actions/ui';\r\n\r\nimport { THERAPIST } from '@data/roles';\r\n\r\nimport SMenuHeader from '@components/shared/SMenuHeader';\r\nimport SMenuLink from '@components/shared/SMenuLink';\r\n\r\nclass SMobileMenu extends Component {\r\n    render() {\r\n        const { id, is_admin, Role } = this.props.user;\r\n        const role = Role.name;\r\n        \r\n        return(\r\n            <div className={styles.container}>\r\n                <Button\r\n                    onClick={this.onAnimatedCloseClicked}\r\n                    className={`ghost-btn ${styles.btn}`}>\r\n                </Button>\r\n\r\n                <div className={`${styles.menu} ${this.state.animation}`}>\r\n                    <SMenuHeader user={this.props.user} />\r\n                    <br/>\r\n                    <div className='h-delimiter'></div>\r\n                    <div className={styles.linksContainer}>\r\n                        {\r\n                            role === THERAPIST ?\r\n                            <span>\r\n                                <SMenuLink \r\n                                    onClick={this.onSimpleCloseClicked}\r\n                                    to={`/${role}/${id}/perfil`}>\r\n                                    Perfil\r\n                                </SMenuLink>\r\n                                <SMenuLink \r\n                                    onClick={this.onSimpleCloseClicked}\r\n                                    to={`/${role}/${id}/pacientes`}>\r\n                                    Pacientes\r\n                                </SMenuLink>\r\n                                {is_admin && <SMenuLink\r\n                                    onClick={this.onSimpleCloseClicked}\r\n                                    to={`/${role}/${id}/admin`}>\r\n                                    Administrar\r\n                                </SMenuLink>}\r\n                            </span>\r\n                            :\r\n                            <span>\r\n                                <SMenuLink\r\n                                    onClick={this.onSimpleCloseClicked} \r\n                                    to={`/${role}/${id}/actividades`}>\r\n                                    Actividades\r\n                                </SMenuLink>\r\n                                <SMenuLink\r\n                                    onClick={this.onSimpleCloseClicked}\r\n                                    to={`/${role}/${id}/colecciones`}>\r\n                                    Colecciones\r\n                                </SMenuLink>\r\n                            </span>\r\n                        }\r\n                        <SMenuLink\r\n                            role={role}\r\n                            to={`/${role}`}\r\n                            type='logout'>\r\n                            Salir\r\n                        </SMenuLink>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { animation: styles.menuAppear };\r\n        this.onAnimatedCloseClicked = this.onAnimatedCloseClicked.bind(this);\r\n        this.onSimpleCloseClicked = this.onSimpleCloseClicked.bind(this);\r\n    }\r\n\r\n    /** Métodos extra */\r\n    /** \r\n     * Métodos encargados de cerrar el menú móvil\r\n     * Nota: Para el logout, el action showMobileMenu(false) se ubica\r\n     * en las páginas de login de cada rol debido a que el menú debe \r\n     * cerrarse antes de cambiar el usuario de la app a null, esto \r\n     * con el fin de evitar conflictos.\r\n     */\r\n    onAnimatedCloseClicked() {\r\n        this.setState({ animation: styles.menuDissapear }, () => {\r\n            setTimeout(() => {\r\n                this.props.showMobileMenu(false)\r\n            }, 210);\r\n        })\r\n    }\r\n\r\n    onSimpleCloseClicked() {\r\n        this.props.showMobileMenu(false);\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.user.user\r\n    };\r\n}\r\n\r\nconst mapActionsToProps = {\r\n    showMobileMenu\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapActionsToProps\r\n)(SMobileMenu);","import SMobileMenu from './SMobileMenu';\r\nexport default SMobileMenu;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport { DateTime } from 'luxon';\r\n\r\nexport const getDatesDifference = (startDate, endDate) => {\r\n    const start = DateTime.fromISO(startDate);\r\n    const end = DateTime.fromISO(endDate);\r\n    const diff = end.diff(start, [ 'minutes' ]).toObject();\r\n\r\n    return diff;\r\n}\r\n\r\nexport const getFormattedDate = (date) => {\r\n    const luxDate = DateTime.fromISO(date);\r\n    return luxDate.setLocale('co').toLocaleString(DateTime.DATE_FULL);\r\n}\r\n\r\nexport const getDateBoundaries = (date) => {\r\n    const luxDate = DateTime.fromISO(date);\r\n    const startDate = luxDate.startOf('month').toISODate();\r\n    const endDate = luxDate.endOf('month').toISODate();\r\n    \r\n    return { startDate, endDate };\r\n}","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React from 'react';\r\nimport styles from './SEmpty.module.css';\r\n\r\nconst SEmpty = (props) => {\r\n    return(\r\n        <div className={`flex ${styles.container}`}>\r\n            <p className={styles.text} style={{ color: props.color ? props.color: 'darkgray' }}>\r\n                { props.children }\r\n            </p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SEmpty;","import SEmpty from './SEmpty';\r\nexport default SEmpty;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React from 'react';\r\nimport { Spinner } from 'reactstrap';\r\n\r\nconst SSpinner = (props) => {\r\n    return(\r\n        <div\r\n            style={{\r\n                marginTop: '30px',\r\n                padding: '5px',\r\n                textAlign: 'center',\r\n                width: '100%' \r\n            }}>\r\n            <Spinner color={props.color} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SSpinner;","import SSpinner from './SSpinner';\r\nexport default SSpinner;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SComments.module.css';\r\nimport  { getFormattedDate } from '@utils/date&time';\r\n\r\nimport SEmpty from '@components/shared/SEmpty';\r\nimport SSpinner from '@components/shared/SSpinner';\r\n\r\nclass SComments extends Component {\r\n  render() {\r\n    return(\r\n      <div className={`${styles.container}`}>\r\n        {\r\n          this.state.loading ?\r\n          <SSpinner />\r\n          :\r\n          this.state.comments && this.state.comments.length > 0 ?\r\n          this.state.comments.map((comment, i) => {\r\n            const date = comment.date.split('T')[0];\r\n            return(\r\n              <div className={styles.commentContainer} key={i}>\r\n                <div className={styles.comment}>\r\n                  {comment.comment}\r\n                </div>\r\n                <div className={styles.date}>\r\n                  Comentario enviado el {getFormattedDate(date)}\r\n                </div>\r\n              </div>\r\n            );\r\n          })\r\n          : \r\n          <SEmpty>\r\n            No se encontraron comentarios para esta actividad.\r\n          </SEmpty>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { comments: null, loading: false };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getCommentsFromSessions();\r\n  }\r\n\r\n  /** Métodos extra */\r\n  getCommentsFromSessions() {\r\n    this.setState({ loading: true });\r\n\r\n    /** Obtener los mensajes a partir de las sesiones */\r\n    const sessions = Object.values(this.props.data);\r\n    let comments = [];\r\n    sessions.forEach(session => {\r\n      const { comment, date_end } = session;\r\n      comments.push({ comment, date: date_end });\r\n    });\r\n\r\n    this.setState({ comments, loading: false });\r\n  }\r\n}\r\n\r\nexport default SComments;","import SComments from './SComments';\r\nexport default SComments;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport axios from 'axios';\r\nimport { \r\n    REMOVE_ACTIVITY,\r\n    SET_ACTIVITIES,\r\n    SET_ACTIVITY,\r\n    SET_SELECTED_SESSION, \r\n    SET_SESSIONS,\r\n    UPDATE_ACTIVITY,\r\n} from './types';\r\n\r\nconst apiURL = process.env.REACT_APP_API_URL;\r\n\r\n/** Crear una actividad */\r\nexport const createActivity = (configuration) => async () => {\r\n    const url = `${apiURL}/assembler/`;\r\n\r\n    try {\r\n        const response = await axios.post(url, { configuration });\r\n        const { data: { message, status }} = response;\r\n\r\n        const error = status !== 200;\r\n        return { error, message };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err };\r\n    }\r\n}\r\n\r\n/** Crear la sesion de una actividad */\r\nexport const createActivitySession = (activityUserId) => async (dispatch) => {\r\n    const url = `${apiURL}/session`;\r\n    const sessionData = {\r\n        date_start: new Date(),\r\n        id_activity_user: activityUserId\r\n    };\r\n\r\n    try {\r\n        const response = await axios.post(url, { session: sessionData });\r\n        const { data: { data, message, status }} = response;\r\n        const error = status !== 200;\r\n\r\n        return { data, error, message };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err };\r\n    }\r\n}\r\n\r\n/** Obtener la información de una actividad */\r\nexport const getActivity = (id) => async (dispatch) => {\r\n    const url = `${apiURL}/activity/${id}`;\r\n\r\n    try {\r\n        const response = await axios.get(url);\r\n        const { data: { data, message, status }} = response;\r\n        \r\n        const activity = status === 200 ? data : null;\r\n        const error = status !== 200;\r\n\r\n        dispatch({ \r\n            type: SET_ACTIVITY, \r\n            payload: { activity }\r\n        });\r\n\r\n        return { error, message };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err };\r\n    }\r\n}\r\n\r\n/** Obtener actividades */\r\nexport const getActivities = (patientId) => async (dispatch) => {\r\n    const url = `${apiURL}/patient/${patientId}/activities`;\r\n\r\n    try {\r\n        const response = await axios.get(url);\r\n        const { data: { data, message, status }} = response;\r\n        \r\n        const activities = status === 200 ? data : null;\r\n        const error = status !== 200;\r\n        \r\n        dispatch({ \r\n            type: SET_ACTIVITIES, \r\n            payload: { activities }\r\n        });\r\n\r\n        return { error, message };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err };\r\n    }\r\n}\r\n\r\n/** Obtener las sesiones de la actividad de un usuario */\r\nexport const getSessions = (activityUserId) => async (dispatch) => {\r\n    const url = `${apiURL}/activity/${activityUserId}/sessions`;\r\n\r\n    try {\r\n        const response = await axios.get(url);\r\n        const { data: { data, message, status }} = response;\r\n\r\n        const sessions = status === 200 ? data : null;\r\n        const error = status !== 200;\r\n\r\n        dispatch({ \r\n            type: SET_SESSIONS, \r\n            payload: { sessions }\r\n        });\r\n\r\n        return { error, message };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err };       \r\n    }\r\n}\r\n\r\nexport const removeActivity = (activityId) => async (dispatch) => {\r\n    const url = `${apiURL}/activity/${activityId}`;\r\n\r\n    try {\r\n        const response = await axios.delete(url);\r\n        const { data: { message, status }} = response;\r\n\r\n        const error = status !== 200;\r\n        if (!error) {\r\n            dispatch({\r\n                type: REMOVE_ACTIVITY,\r\n                payload: { id: activityId }\r\n            });\r\n        }\r\n\r\n        return { error, message };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err };\r\n    }\r\n}\r\n\r\nexport const setActivity = (activity) => (dispatch) => {\r\n    dispatch({ \r\n        type: SET_ACTIVITY, \r\n        payload: { activity }\r\n    });\r\n}\r\n\r\nexport const setActivities = (activities) => (dispatch) => {\r\n    dispatch({\r\n        type: SET_ACTIVITIES,\r\n        payload: { activities }\r\n    });\r\n}\r\n\r\nexport const setSession = (session) => (dispatch) => {\r\n    dispatch({ \r\n        type: SET_SELECTED_SESSION, \r\n        payload: { session }\r\n    });\r\n}\r\n\r\nexport const setSessions = (sessions) => (dispatch) => {\r\n    dispatch({ \r\n        type: SET_SESSIONS, \r\n        payload: { sessions }\r\n    });\r\n}\r\n\r\nexport const updateActivity = (activity) => async (dispatch) => {\r\n    const url = `${apiURL}/activity/${activity.id}`;\r\n\r\n    try {\r\n        const response = await axios.put(url, { activity });\r\n        const { data: { data, message, status }} = response;\r\n\r\n        const error = status !== 200;\r\n        if (!error) {\r\n            dispatch({\r\n                type: UPDATE_ACTIVITY,\r\n                payload: { activity: data }\r\n            });\r\n        }\r\n\r\n        return { error, message };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err };\r\n    }\r\n}\r\n\r\nexport const updateActivitySession = (session) => async (dispatch) => {\r\n    const { id } = session;\r\n    const url = `${apiURL}/session/${id}`;\r\n\r\n    try {\r\n        const response = await axios.put(url, { session });\r\n        const { data: { message, status }} = response;\r\n        const error = status !== 200;\r\n\r\n        return { error, message };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err };\r\n    }\r\n}","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React from 'react';\r\nimport { Button, FormGroup, Spinner } from 'reactstrap';\r\n\r\nconst SSubmitField = (props) => {\r\n    return(\r\n        <FormGroup>\r\n            <Button\r\n                className={props.className}\r\n                onClick={(e) => { props.onClick(e); }}>\r\n                {\r\n                    props.loading ?\r\n                    <Spinner color='light' size='sm' />\r\n                    :\r\n                    <span>{props.children}</span>\r\n                }\r\n            </Button>\r\n        </FormGroup>\r\n    );\r\n}\r\n\r\nexport default SSubmitField;","import SSubmitField from './SSubmitField';\r\nexport default SSubmitField;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport { Button, Form, FormFeedback, FormGroup, Input } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { updateActivitySession } from '@actions/activity';\r\nimport { setNotification } from '@actions/ui';\r\n\r\nimport SSubmitField from '@components/shared/form/SSubmitField';\r\n\r\nclass SNewComment extends Component {\r\n    render() {\r\n        return(\r\n            <Form>\r\n                <FormGroup className='mt-2'>\r\n                    <Input \r\n                        type='textarea'\r\n                        onChange={this.onTextChanged}\r\n                        placeholder='Escribe tu comentario aquí...' \r\n                        rows='10' \r\n                        style={{ resize: 'none' }}\r\n                        invalid={this.state.error !== null} />\r\n                    {this.state.error && \r\n                      <FormFeedback>{this.state.error}</FormFeedback>}\r\n                </FormGroup>\r\n                <div \r\n                    className='flex mt-4'\r\n                    style={{ justifyContent: 'center' }}>\r\n                    <SSubmitField\r\n                        className='primary-btn'\r\n                        loading={this.state.loading}\r\n                        onClick={this.onSaveClicked}>\r\n                        Guardar\r\n                    </SSubmitField>\r\n                    <FormGroup>\r\n                        <Button \r\n                            className='simple-btn ml-2'\r\n                            onClick={this.onCancelClicked}>\r\n                            Cancelar\r\n                        </Button>\r\n                    </FormGroup>\r\n                </div>\r\n            </Form>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            comment: '',\r\n            error: null,\r\n            loading: false,\r\n        };\r\n\r\n        this.onCancelClicked = this.onCancelClicked.bind(this);\r\n        this.onTextChanged = this.onTextChanged.bind(this);\r\n        this.onSaveClicked = this.onSaveClicked.bind(this);\r\n    }\r\n\r\n    /** Métodos extra */\r\n    onCancelClicked() {\r\n        this.props.onCancelClicked();\r\n    }\r\n\r\n    onTextChanged(e) {\r\n        this.setState({ comment: e.target.value, error: null });\r\n    }\r\n\r\n    async onSaveClicked() {\r\n        if (this.state.comment.trim() === '')\r\n            this.setState({ error: 'Escribe un comentario para poder guardarlo' });\r\n        else {\r\n            this.setState({ loading: true });\r\n            // Guardar el comentario actualizando la sesión\r\n            const { session } = this.props;\r\n            const { comment } = this.state;\r\n            const { error } = await this.props.updateActivitySession({\r\n                id: session, comment\r\n            });\r\n            \r\n            // Mostrar notificación de la acción de guardar el comentario\r\n            const message = error ?\r\n                            'Error al realizar la acción: guardar el comentario' :\r\n                            'Se realizó exitosamente la acción: guardar el comentario';\r\n            this.props.setNotification({ error, message, slide: true });\r\n            // Cerrar la ventana modal\r\n            this.setState({ comment: '', loading: false });\r\n            this.props.onCancelClicked();\r\n        }\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapActionsToProps = {\r\n  setNotification,\r\n  updateActivitySession\r\n};\r\n\r\nexport default connect(\r\n  null, \r\n  mapActionsToProps\r\n)(SNewComment);","import SNewComment from './SNewComment';\r\nexport default SNewComment;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React from 'react';\r\nimport styles from './SVideo.module.css';\r\n\r\nconst serverURL = process.env.REACT_APP_SERVER_URL;\r\n\r\nconst SVideo = (props) => {\r\n    const absolute = props.absolute ? styles.absolute : '';\r\n    const width = props.width ? props.width : '100%';\r\n\r\n    return(\r\n        <div \r\n            className={`${styles.container} ${absolute}`}\r\n            style={{'--width': width }}>\r\n            <video \r\n                src={`${serverURL}${props.src}`}\r\n                className={styles.video}\r\n                controls>\r\n\r\n            </video>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SVideo;","import SVideo from './SVideo';\r\nexport default SVideo;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SModal.module.css';\r\nimport { \r\n    Modal,\r\n    ModalBody,\r\n    ModalHeader,\r\n} from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { setModal } from '@actions/ui';\r\n\r\nimport SComments from '@components/shared/SComments';\r\nimport SNewComment from './SNewComment';\r\nimport SVideo from '@components/shared/SVideo';\r\n\r\nclass SModal extends Component {\r\n    render() {\r\n        return(\r\n            <Modal \r\n                centered={true}\r\n                contentClassName={styles.modal}\r\n                isOpen={this.props.ui.modal !== null}\r\n                size='lg'\r\n                toggle={this.closeModal}>\r\n                <ModalHeader toggle={this.closeModal}>\r\n                    <span className={styles.title}>\r\n                        { this.props.ui.modal.title }\r\n                    </span>\r\n                </ModalHeader>\r\n                <ModalBody className={styles.body}>\r\n                    {\r\n                        this.props.ui.modal.type === 'comments' ?\r\n                        <SComments data={this.props.ui.modal.data} />\r\n                        :\r\n                        this.props.ui.modal.type === 'new_comment' ?\r\n                        <SNewComment \r\n                          onCancelClicked={this.closeModal}\r\n                          session={this.props.ui.modal.session} />\r\n                        :\r\n                        <SVideo src={this.props.ui.modal.videoUrl} />\r\n                    }\r\n                </ModalBody>\r\n            </Modal>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.closeModal = this.closeModal.bind(this);\r\n    }\r\n\r\n    /** Métodos extra */\r\n    closeModal() {\r\n        this.props.setModal(null);\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        ui: state.ui\r\n    };\r\n}\r\n\r\nconst mapActionsToProps = {\r\n    setModal\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapActionsToProps\r\n)(SModal);","import SModal from './SModal';\r\nexport default SModal;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport axios from 'axios';\r\nimport { \r\n    SET_USER, \r\n    SET_USERS,\r\n    SET_TO_UPDATE \r\n} from './types';\r\n\r\nconst apiURL = process.env.REACT_APP_API_URL;\r\n\r\nexport const getUser = (id, toUpdate = false) => async (dispatch) => {\r\n    const url = `${apiURL}/user/${id}`;\r\n    \r\n    try {\r\n        const response = await axios.get(url);\r\n        const { data: { data, message, status }} = response;\r\n        \r\n        const user = status === 200 ? data : null;\r\n        const error = status !== 200;\r\n        \r\n        dispatch({\r\n            type: toUpdate ? SET_TO_UPDATE : SET_USER,\r\n            payload: { user }\r\n        });\r\n\r\n        return { error, message, user };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err, user: null };\r\n    }\r\n}\r\n\r\nexport const getUsers = (query = null) => async (dispatch) => {\r\n    let url = `${apiURL}/user`;\r\n    if (query)\r\n        url = `${url}?search=${query}`;\r\n    \r\n    try {\r\n        const response = await axios.get(url);\r\n        const { data: { data, message, status }} = response;\r\n        \r\n        const users = status === 200 ? data : null;\r\n        const error = status !== 200;\r\n\r\n        dispatch({ \r\n            type: SET_USERS, \r\n            payload: { users }\r\n        });\r\n\r\n        return { error, message };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err };\r\n    }\r\n}\r\n\r\nexport const updateUser = (user, userId) => async (dispatch) => {\r\n    const url = `${apiURL}/user/${user.id}`;\r\n\r\n    try {\r\n        const response = await axios.put(url, { user });\r\n        const { data: { data, message, status }} = response;\r\n        const error = status !== 200;\r\n\r\n        /** Actualizar en el store solamente si es el \r\n          * usuario logueado\r\n          */\r\n        if (!error && user.id === userId)\r\n            dispatch({ \r\n                type: SET_USER, \r\n                payload: { user: data }\r\n            });\r\n        \r\n        return { error, message };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err };\r\n    }\r\n}\r\n\r\nexport const setUser = (user) => (dispatch) => {\r\n    dispatch({ \r\n        type: SET_USER, \r\n        payload: { user }\r\n    });\r\n}\r\n\r\nexport const setUsers = (users) => (dispatch) => {\r\n    dispatch({\r\n        type: SET_USERS,\r\n        payload: { users }\r\n    });\r\n}\r\n\r\nexport const setToUpdate = (user) => (dispatch) => {\r\n    dispatch({ \r\n        type: SET_TO_UPDATE, \r\n        payload: { user }\r\n    });\r\n}","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.1\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { \r\n    setBar, \r\n    setNotification,\r\n    setParallax, \r\n    showAvatar \r\n} from '@actions/ui';\r\nimport { getUser } from '@actions/user';\r\nimport { \r\n    setCheckServerStatus, \r\n    setConnectedId, \r\n    setConnectSocket \r\n} from '@actions/connection';\r\n\r\nimport { PATIENT } from '@data/roles';\r\n\r\nclass SProtectedRoute extends Component {\r\n    render() {\r\n        const { component: Component, ...rest } = this.props;\r\n        const { role } = this.state;\r\n\r\n        return(\r\n            <Route {...rest} render={(props) => (\r\n                this.hasToken(role) ?\r\n                <Component {...props} />\r\n                :\r\n                <Redirect to={`/${role}`} />\r\n            )} />\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { role: this.getRoleFromPath() };\r\n        this.hasToken = this.hasToken.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const { role } = this.state;\r\n        this.showAvatar(role);\r\n        this.setBar(role);\r\n        this.setParallax(role);\r\n        this.checkServerStatus(true);\r\n                \r\n        if (this.hasToken(role) && this.props.user === null) {\r\n            /** \r\n             * Obtener el parámetro relacionado al id del usuario \r\n             * de acuerdo al rol\r\n             */\r\n            const { computedMatch } = this.props;\r\n            const letter = role === PATIENT ? 'p' : 't';\r\n            const id = computedMatch.params[`${letter}id`];\r\n            \r\n            const { error, user } = await this.props.getUser(id);\r\n            if (!error) this.connectSocket(role, user.id);\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.disconnectSocket();\r\n        this.checkServerStatus(false);\r\n        this.props.setNotification(null);\r\n    }\r\n\r\n    /** Métodos extra */\r\n    checkServerStatus(check) {\r\n        this.props.setCheckServerStatus(check);\r\n    }\r\n\r\n    connectSocket(role, userId) {\r\n        if (role === PATIENT) {\r\n            this.props.setConnectedId(userId);\r\n            this.props.setConnectSocket(true);\r\n        }\r\n    }\r\n\r\n    disconnectSocket() {\r\n        this.props.setConnectSocket(false);\r\n    }\r\n\r\n    getRoleFromPath() {\r\n        const { path } = this.props;\r\n        const role = path.split('/')[1];\r\n        return role;\r\n    }\r\n\r\n    hasToken(role) {\r\n        const token = this.props.auth[`${role}Token`];\r\n        if (token) {\r\n            if (!axios.defaults.headers.common['Auth-Token'])\r\n                axios.defaults.headers.common['Auth-Token'] = token;\r\n\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    setBar(role) {\r\n        const bar = role === PATIENT ? 'patient' : 'standard';\r\n        this.props.setBar(bar);\r\n    }\r\n\r\n    setParallax(role) {\r\n        const parallax = role === PATIENT;\r\n        this.props.setParallax(parallax);\r\n    }\r\n\r\n    /** Mandar a mostrar avatar dependiendo del rol */\r\n    showAvatar(role) {\r\n        const show = role === PATIENT ? true : false;\r\n        this.props.showAvatar(show);\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapActionsToProps = {\r\n    getUser,\r\n    setBar,\r\n    setCheckServerStatus,\r\n    setConnectedId,\r\n    setConnectSocket,\r\n    setNotification,\r\n    setParallax,\r\n    showAvatar\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        auth: state.auth,\r\n        user: state.user.user\r\n    };\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapActionsToProps\r\n)(SProtectedRoute);","import SProtectedRoute from './SProtectedRoute';\r\nexport default SProtectedRoute;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React from 'react';\r\nimport styles from './SAvatarInfo.module.css';\r\n\r\nconst SAvatarInfo = () => {\r\n    return(\r\n        <div className={`flex ${styles.container}`}>\r\n            <div className={`flex ${styles.innerContainer}`}>\r\n                <div className={`${styles.sides} ${styles.avatarSide}`}>\r\n                    <img \r\n                        alt=''\r\n                        className={styles.image}\r\n                        src='/images/avatar/avatar_a_default.png' />                    \r\n                </div>\r\n                <div className={styles.sides}>\r\n                    <p className={styles.title}>\r\n                        ¡Avatar para apoyar las terapias!\r\n                    </p>\r\n                    <p className={styles.description}>\r\n                        Cómo terapeuta puedes personalizar un avatar con el que\r\n                        tu paciente podrá interactuar mientras realiza sus \r\n                        actividades asignadas\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SAvatarInfo;","import SAvatarInfo from './SAvatarInfo';\r\nexport default SAvatarInfo;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React from 'react';\r\nimport styles from './SDevelop.module.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faHeart } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst SDevelop = () => {\r\n    return(\r\n        <div className={`flex ${styles.container}`}>\r\n            <div className={`flex ${styles.innerContainer}`}>\r\n                <p className={styles.text}>\r\n                    Ideado y desarrollado con \r\n                    <FontAwesomeIcon \r\n                        className={styles.icon}\r\n                        icon={faHeart} />\r\n                    por un equipo interdisciplinar de\r\n                </p>\r\n                <div className={`flex ${styles.logoContainer}`}>\r\n                    <img \r\n                        alt=''\r\n                        className={styles.logoImage}\r\n                        src='/images/landing/logo_incs.png' />\r\n                    <img\r\n                        alt=''\r\n                        className={styles.logoImage}\r\n                        src='/images/landing/logo_pujc.png' /> \r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SDevelop;","import SDevelop from './SDevelop';\r\nexport default SDevelop;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React from 'react';\r\nimport styles from './SFeature.module.css';\r\nimport { Col } from 'reactstrap';\r\n\r\nconst SFeature = (props) => {\r\n    return(\r\n        <Col sm='12' md='4'>\r\n            <div className={`flex ${styles.container}`}>\r\n                <img \r\n                    alt=''\r\n                    className={styles.logo}\r\n                    src={props.feature.logo} />\r\n                <div className={styles.infoContainer}>\r\n                    <div className={styles.title}>\r\n                        {props.feature.title}\r\n                    </div>\r\n                    <div className={styles.description}>\r\n                        {props.feature.description}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Col>\r\n    );\r\n}\r\n\r\nexport default SFeature;","import SFeature from './SFeature';\r\nexport default SFeature;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React from 'react';\r\nimport styles from './SFeatures.module.css';\r\nimport { Row } from 'reactstrap';\r\n\r\nimport SFeature from './SFeature';\r\n\r\nconst SFeatures = (props) => {\r\n    return(\r\n        <div>\r\n            <div className={styles.title}>\r\n                Si eres {props.role}\r\n            </div>\r\n            <div className={`flex ${styles.container}`}>\r\n                <div className={styles.innerContainer}>\r\n                    <Row noGutters>\r\n                        {\r\n                            props.features.map((feature) => {\r\n                                return(\r\n                                    <SFeature\r\n                                        feature={feature}\r\n                                        key={feature.id} />\r\n                                );\r\n                            })\r\n                        }\r\n                    </Row>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SFeatures;","import SFeatures from './SFeatures';\r\nexport default SFeatures;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React from 'react';\r\nimport styles from './SFooterBar.module.css';\r\n\r\nconst SFooterBar = () => {\r\n    return(\r\n        <div className={`flex ${styles.container}`}>\r\n            <div className={styles.innerContainer}>\r\n                <p className={styles.logo}>\r\n                    SATReLO 2<br />\r\n                    <span className={styles.copyright}>\r\n                        &copy; Copyright 2019-2020\r\n                    </span>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SFooterBar;","import SFooterBar from './SFooterBar';\r\nexport default SFooterBar;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React from 'react';\r\nimport styles from './SHero.module.css';\r\nimport { Button } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport SVideo from '@components/shared/SVideo';\r\n\r\nconst SHero = () => {\r\n    return(\r\n        <div className={styles.container}>\r\n            <div className={styles.outerContainer}>\r\n                <div className={`flex ${styles.innerContainer}`}>\r\n                    <div className={styles.title}>\r\n                        La Aplicación de Apoyo a la Rehabilitación \r\n                        del Lenguaje Oral\r\n                    </div>\r\n                    <div className={styles.subtitle}>\r\n                        Generación de actividades personalizadas para atender \r\n                        las necesidades particulares de los pacientes\r\n                    </div>\r\n                    <div className={`flex ${styles.btnContainer}`}>\r\n                        <Link className={styles.link} to='/paciente'>\r\n                            <Button \r\n                                className={`secondary-btn ${styles.btn}`}\r\n                                size='lg'>\r\n                            \r\n                                Ingresa como paciente\r\n                            </Button>\r\n                        </Link>\r\n                        <Link className={styles.link} to='terapeuta'>\r\n                            <Button\r\n                                className={`primary-btn ${styles.btn}`} \r\n                                size='lg'>\r\n                                    Ingresa como terapeuta\r\n                            </Button>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <SVideo absolute={true} width='700px' />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SHero;","import SHero from './SHero';\r\nexport default SHero;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React from 'react';\r\nimport styles from './SMobile.module.css';\r\n\r\nconst SMobile = () => {\r\n    return(\r\n        <div className={`flex ${styles.container}`}>\r\n            <div className={styles.innerContainer}>\r\n                <p className={styles.title}>\r\n                    ¡En todos tus dispositivos!\r\n                </p>\r\n                <p className={styles.description}>\r\n                    SATReLO está cuidadosamente diseñado para que se vea y funcione\r\n                    bien en todos tus dispositivos, ya sean computadores, tablets o \r\n                    smartphones.\r\n                </p>\r\n                <div className={`flex ${styles.imageContainer}`}>\r\n                    <img \r\n                        alt=''\r\n                        className={styles.image}\r\n                        src='images/landing/mobile.png' />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SMobile;","import SMobile from './SMobile';\r\nexport default SMobile;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nexport let featuresData = {\r\n    therapist: {\r\n        role: 'terapeuta',\r\n        features: [\r\n            {\r\n                description: `Configura y genera actividades personalizadas\r\n                                de acuerdo a las necesidades del paciente`,\r\n                id: 1,\r\n                logo: '/images/landing/settings.png',\r\n                title: 'Configura actividades',\r\n                type: 'feature'\r\n            },\r\n            {\r\n                description: `Asigna las actividades generadas al paciente \r\n                                correspondiente`,\r\n                id: 2,\r\n                logo: '/images/landing/user.png',\r\n                title: 'Asígnalas al paciente',\r\n                type: 'feature'\r\n            },\r\n            {\r\n                description: `Recibe retroalimentación del progreso del paciente\r\n                                en las actividades`,\r\n                id: 3,\r\n                logo: '/images/landing/feedback.png',\r\n                title: 'Recibe retroalimentación',\r\n                type: 'feature'\r\n            }\r\n        ]\r\n    },\r\n    patient: {\r\n        role: 'paciente',\r\n        features: [\r\n            {\r\n                description: `Realiza las actividades asignadas por el\r\n                                terapeuta`,\r\n                id: 1,\r\n                logo: '/images/landing/game.png',\r\n                title: 'Juega las actividades',\r\n                type: 'feature'\r\n            },\r\n            {\r\n                description: `Gana puntos a medida que completas las\r\n                                actividades asignadas`,\r\n                id: 2,\r\n                logo: '/images/landing/score.png',\r\n                title: 'Acumula puntos',\r\n                type: 'feature'\r\n            },\r\n            {\r\n                description: `Intercambia los puntos en la tienda por\r\n                                coleccionables`,\r\n                id: 3,\r\n                logo: '/images/landing/collection.png',\r\n                title: 'Completa la colección',\r\n                type: 'feature'\r\n            }\r\n        ]\r\n    }\r\n}","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SLandingPage.module.css';\r\nimport { Col, Row } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { \r\n    setBar, \r\n    setParallax,\r\n    showAvatar, \r\n    showMobileMenu \r\n} from '@actions/ui';\r\nimport { setUser } from '@actions/user';\r\n\r\nimport SavatarInfo from '@components/landing/SAvatarInfo';\r\nimport SDevelop from '@components/landing/SDevelop';\r\nimport SFeatures from '@components/landing/SFeatures';\r\nimport SFooterBar from '@components/shared/SFooterBar';\r\nimport SHero from '@components/landing/SHero';\r\nimport SMobile from '@components/landing/SMobile';\r\n\r\nimport { featuresData } from '@data/features';\r\n\r\nclass SLandingPage extends Component {\r\n    render() {\r\n        return(\r\n            <Row noGutters>\r\n                <Col xs='12' className={styles.container}>\r\n                    <SHero />\r\n                    <div className={styles.mainPhrase}>\r\n                        ¿Cómo ayuda SATReLO en las terapias de\r\n                        rehabilitación?\r\n                        <p className={styles.mainIdea}>\r\n                            SATReLO ayuda en la mecanización de la \r\n                            estructuración del lenguaje oral y escrito\r\n                            por medio de la realización de actividades a \r\n                            modo de juegos\r\n                        </p>\r\n                    </div>\r\n                    <div className={styles.features}>\r\n                        <p className={styles.featuresTitle}>\r\n                            ¿Cómo funciona?\r\n                        </p>\r\n                        <SFeatures \r\n                            {...this.state.featuresData.therapist} />\r\n                        <SFeatures\r\n                            {...this.state.featuresData.patient} />\r\n                    </div>\r\n                    <SavatarInfo />\r\n                    <SMobile />\r\n                    <SDevelop />\r\n                    <SFooterBar />\r\n                </Col>\r\n            </Row>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);        \r\n        this.state = { ...this.state, featuresData };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.setBar('standard');\r\n        this.props.setParallax(false);\r\n        this.props.showMobileMenu(false);\r\n        this.props.setUser(null);\r\n        this.props.showAvatar(false);\r\n    }\r\n}\r\n\r\nconst mapActionsToProps = {\r\n    setUser,\r\n    setBar,\r\n    setParallax,\r\n    showAvatar,\r\n    showMobileMenu\r\n}\r\n\r\nexport default connect(\r\n    null,\r\n    mapActionsToProps\r\n)(SLandingPage);\r\n","import SLandingPage from './SLandingPage';\r\nexport default SLandingPage;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport axios from 'axios';\r\n\r\nimport { \r\n    SET_AVATAR_MESSAGE,\r\n    SET_AVATAR_VARIATION,\r\n    SET_AVATAR_VARIATIONS\r\n} from './types';\r\n\r\nconst apiURL = process.env.REACT_APP_API_URL;\r\n\r\nexport const getAvatarVariation = (variationData) => async (dispatch) => {\r\n    const url = `${apiURL}/avatar/variation`;\r\n\r\n    try {\r\n        const response = await axios.get(url, { params: { ...variationData }});\r\n        const { data: { data, message, status }} = response;\r\n\r\n        const variation = status === 200 ? data : null;\r\n        const error = status !== 200;\r\n\r\n        dispatch({ \r\n            type: SET_AVATAR_VARIATION, \r\n            payload: { variation }\r\n        });\r\n\r\n        return { error, message };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err };\r\n    }\r\n}\r\n\r\nexport const getAvatarVariations = (gender, userAvatar) => async (dispatch) => {\r\n    const url = `${apiURL}/avatar/variations/${gender}`;\r\n\r\n    try {\r\n        const response = await axios.get(url);\r\n        const { data: { data, status, message }} = response;\r\n        \r\n        let variations = status === 200 ? data : { 1: { id: 1, id_avatar: 1 }};\r\n        const error = status !== 200;\r\n\r\n        if (!error && userAvatar) {\r\n            variations = Object.values(variations);\r\n            /** Buscar y eliminar el avatar con el mismo id \r\n              * del avatar del usuario\r\n              */\r\n            let index = 0;\r\n            variations.forEach((variation, i) => {\r\n                if (userAvatar.id === variation.id)\r\n                    index = i;\r\n            });\r\n            variations.splice(index, 1);\r\n            /** Reemplazar el avatar del usuario\r\n              * colocándolo en el primer lugar del arreglo  \r\n              */\r\n            variations.unshift(userAvatar);\r\n            variations = Object.assign({}, ...variations.map(v => {\r\n                return { [v.id]: v };\r\n            }));\r\n        }\r\n\r\n        dispatch({ \r\n            type: SET_AVATAR_VARIATIONS, \r\n            payload: { variations }\r\n        });\r\n\r\n        return { error, message };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err };   \r\n    }\r\n}\r\n\r\nexport const setAvatarVariation = (variation) => (dispatch) => {\r\n    dispatch({ \r\n        type: SET_AVATAR_VARIATION, \r\n        payload: { variation }\r\n    });\r\n}\r\n\r\nexport const setAvatarVariations = (variations) => (dispatch) => {\r\n    dispatch({\r\n        type: SET_AVATAR_VARIATIONS,\r\n        payload: { variations }\r\n    });\r\n}\r\n\r\nexport const setMessage = (message) => (dispatch) => {\r\n    dispatch({ \r\n        type: SET_AVATAR_MESSAGE, \r\n        payload: { message }\r\n    });\r\n}","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React from 'react';\r\nimport styles from './SAvatarItem.module.css';\r\n\r\nconst SAvatarItem = () => {\r\n    return(\r\n        <div className={`flex ${styles.container}`}>\r\n            <img \r\n                alt=''\r\n                className={styles.image}\r\n                src='/images/avatar/avatar_a_default.png' />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SAvatarItem;","import SAvatarItem from './SAvatarItem';\r\nexport default SAvatarItem;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport axios from 'axios';\r\nimport {\r\n    SET_COLLECTIONS,\r\n    SET_COLLECTABLE,\r\n    SET_USER_SKINS_OWNED,\r\n    SET_USER_SKIN_OWNED,\r\n} from './types';\r\n\r\nconst apiURL = process.env.REACT_APP_API_URL;\r\n\r\nexport const getCollections = () => async (dispatch) => {\r\n    const url = `${apiURL}/collection`;\r\n\r\n    try {\r\n        const response = await axios.get(url);\r\n        const { data: { data, message, status }} = response;\r\n\r\n        const collections = status === 200 ? data : null;\r\n        const error = status !== 200;\r\n\r\n        dispatch({ \r\n            type: SET_COLLECTIONS, \r\n            payload: { collections }\r\n        });\r\n\r\n        return { error, message };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err };\r\n    }\r\n}\r\n\r\nexport const getCollectable = (collectionId, collectableId) => async (dispatch) => {\r\n    const url = `${apiURL}/collection/${collectionId}/collectable/${collectableId}`;\r\n\r\n    try {\r\n        const response = await axios.get(url);\r\n        const { data: { data, message, status }} = response;\r\n\r\n        const collectable = status === 200 ? data : null;\r\n        const error = status !== 200;\r\n\r\n        dispatch({ \r\n            type: SET_COLLECTABLE, \r\n            payload: { collectable }\r\n        });\r\n        \r\n        return { data, error, message }; \r\n    }\r\n    catch (err) {\r\n        return { data: null, error: true, message: err };\r\n    }\r\n}\r\n\r\n/** Función para verificar si un usuario tiene un aspecto o no */\r\nexport const getPatientSkin = (userId, skinData) => async (dispatch) => {\r\n    const { skinId } = skinData;\r\n    const url = `${apiURL}/patient/${userId}/skin/${skinId}`;\r\n\r\n    try {\r\n        const response = await axios.get(url);\r\n        const { data: { message, status }} = response;\r\n        const error = status !== 200;\r\n\r\n        if (status === 200) {\r\n            const { single } = skinData;\r\n            dispatch({\r\n                type: single ? SET_USER_SKIN_OWNED : SET_USER_SKINS_OWNED, \r\n                payload: { data: skinData } \r\n            });\r\n        }\r\n        \r\n        return { error, message };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err };\r\n    }\r\n}\r\n\r\nexport const setCollections = (collections) => (dispatch) => {\r\n    dispatch({ \r\n        type: SET_COLLECTIONS, \r\n        payload: { collections }\r\n    });\r\n}\r\n\r\nexport const setCollectable = (collectable) => (dispatch) => {\r\n    dispatch({\r\n        type: SET_COLLECTABLE,\r\n        payload: { collectable }\r\n    });\r\n}\r\n\r\n/** Función para asociar aspectos al usuario */\r\nexport const setPatientSkins = (userId, skinData) => async (dispatch) => {\r\n    const url = `${apiURL}/patient/${userId}/skin`;\r\n    const { skins } = skinData;\r\n\r\n    try {\r\n        const response = await axios.post(url, { skins });\r\n        const { data: { message, status }} = response;\r\n        const error = status !== 200;\r\n\r\n        if (status === 200) {\r\n            delete skinData.skins;\r\n            /** Agregar aspecto desde la lista de coleccionables */\r\n            if (skinData.single) {\r\n                dispatch({\r\n                    type: SET_USER_SKIN_OWNED, \r\n                    payload: { data: skinData }\r\n                });\r\n            }\r\n            /** Agregar aspectos desde la lista de aspectos */\r\n            else {\r\n                skins.forEach(skin => {\r\n                    skinData.skinId = skin.id;\r\n                    dispatch({\r\n                        type: SET_USER_SKINS_OWNED, \r\n                        payload: { data: skinData }\r\n                    });\r\n                });\r\n            }\r\n        }\r\n        \r\n        return { error, message };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err };       \r\n    }\r\n}","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SSkinItem.module.css';\r\nimport { Button, Spinner } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { getPatientSkin, setPatientSkins } from '@actions/collection';\r\nimport { updateUser } from '@actions/user';\r\n\r\nclass SSkinItem extends Component {\r\n    render() {\r\n        return(\r\n            <div className={styles.container}>\r\n                <p className={styles.alt}>\r\n                    { this.props.name }\r\n                </p>\r\n                {\r\n                    this.props.owned ?\r\n                    <div className={styles.owned}>\r\n                        Ya tienes este ítem\r\n                    </div>\r\n                    :\r\n                    <div className={`flex ${styles.btnContainer}`}>\r\n                        <Button \r\n                            className={`primary-btn ${styles.btn}`}\r\n                            onClick={this.onBuyClicked}>\r\n                            {\r\n                                this.state.loading ?\r\n                                <Spinner color='light' size='sm' />\r\n                                :\r\n                                <span>\r\n                                    Comprar por { this.state.price } puntos\r\n                                </span>\r\n                            }\r\n                        </Button>\r\n                    </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n            loading: false,\r\n            price: this.props.price + this.props.collectable.price \r\n        };\r\n        this.onBuyClicked = this.onBuyClicked.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.checkUserSkin();\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        /**\r\n         * Si el coleccionable cambió quiere decir que se detectó que\r\n         * uno de sus aspectos pertenece al usuario, por lo que el \r\n         * coleccionable en general es propiedad de usuario. Si esto\r\n         * es así el precio es solamente el del aspecto.\r\n         */\r\n        if (prevProps.collectable !== this.props.collectable)\r\n            this.updatePrice();       \r\n    }\r\n\r\n    /** Métodos extra */\r\n    buildData(check) {\r\n        let data = {\r\n            collectableId: this.props.collectable.id,\r\n            collectionId: this.props.collectable.id_collection,\r\n            single: false,\r\n        }\r\n        if (check) data.skinId = this.props.id;\r\n        return data;\r\n    }\r\n\r\n    async buySkins(skins) {\r\n        let data = this.buildData(false);\r\n        data.skins = skins;\r\n\r\n        this.setState({ loading: true });\r\n        await this.props.setPatientSkins(this.props.userId, data);\r\n\r\n        /** Actualizar el puntaje del usuario después de realizar la compra */\r\n        const { user } = this.props;\r\n        const newScore = user.score - this.state.price;\r\n        await this.props.updateUser({ score: newScore }, user.id);\r\n        this.setState({ loading: false });\r\n    }\r\n\r\n    async checkUserSkin() {\r\n        const data = this.buildData(true);\r\n        this.setState({ loading: true });\r\n        await this.props.getPatientSkin(this.props.userId, data);\r\n        this.setState({ loading: false });\r\n    }\r\n\r\n    onBuyClicked() {\r\n        const { user } = this.props;\r\n        if (user.score >= this.state.price) {\r\n            let _skins = [{ id: this.props.id }];\r\n            /**\r\n             * Si el precio del aspecto es menor al precio calculado en el\r\n             * estado de este componente, entonces el coleccionable no es \r\n             * propiedad del usuario por lo que se debe agregar el aspecto\r\n             * por defecto a los aspectos para comprar.\r\n             */\r\n            if (this.props.price < this.state.price) {\r\n                const Skins = Object.values(this.props.collectable.Skins);\r\n                Skins.forEach(skin => {\r\n                    if (skin.is_default && skin.id !== this.props.id) {\r\n                        _skins.push({ id: skin.id });\r\n                    }\r\n                });\r\n            }\r\n            this.buySkins(_skins);\r\n        }\r\n    }\r\n\r\n    updatePrice() {\r\n        if (this.props.price !== this.state.price)\r\n            this.setState({ price: this.props.price });\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        collectable: state.collection.collectable, \r\n        user: state.user.user\r\n    };\r\n}\r\n\r\nconst mapActionsToProps = {\r\n    getPatientSkin,\r\n    setPatientSkins,\r\n    updateUser,\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapActionsToProps\r\n)(SSkinItem);","import SSkinItem from './SSkinItem';\r\nexport default SSkinItem;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SCarousel.module.css';\r\nimport {\r\n    Carousel,\r\n    CarouselControl,\r\n    CarouselItem,\r\n} from 'reactstrap';\r\n\r\nimport SAvatarItem from './SAvatarIem';\r\nimport SSkinItem from './SSkinItem';\r\n\r\nclass SCarousel extends Component {\r\n    render() {\r\n        const { kind } = this.props;\r\n        let base = styles.style;\r\n        if (kind !== 'avatar')\r\n            base = `${base} ${styles.border}`;\r\n\r\n        return(\r\n            <Carousel\r\n                className={base}\r\n                activeIndex={this.state.activeIndex}\r\n                interval={false}\r\n                next={this.next}\r\n                previous={this.previous}>\r\n                \r\n                {this.buildItems()}\r\n\r\n                <CarouselControl\r\n                    direction='prev'\r\n                    onClickHandler={this.previous} />\r\n                <CarouselControl \r\n                    direction='next'\r\n                    onClickHandler={this.next} />\r\n            </Carousel>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            activeIndex: 0,\r\n            animating: false,\r\n        };\r\n        this.animateItem = this.animateItem.bind(this);\r\n        this.buildItems = this.buildItems.bind(this);\r\n        this.goToIndex = this.goToIndex.bind(this);\r\n        this.next = this.next.bind(this);\r\n        this.previous = this.previous.bind(this);\r\n    }\r\n\r\n    /** Métodos extra */\r\n    animateItem(animate) {\r\n        this.setState({ animating: animate });\r\n    }\r\n\r\n    /** Construir los items que component el Carousel */\r\n    buildItems() {\r\n        return this.props.items.map((item) => {\r\n            return(\r\n                <CarouselItem\r\n                    key={item.id}\r\n                    onExiting={() => { this.animateItem(true); }}\r\n                    onExited={() => { this.animateItem(false); }}>\r\n                    {\r\n                        this.props.kind === 'avatar' ?\r\n                        <SAvatarItem />\r\n                        :\r\n                        <SSkinItem \r\n                            {...item} \r\n                            userId={this.props.userId} />\r\n                    }\r\n                </CarouselItem>\r\n            );\r\n        });\r\n    }\r\n\r\n    goToIndex(newIndex) {\r\n        if (this.state.animating)\r\n            return\r\n        this.setState({ activeIndex: newIndex });\r\n        this.onCarouselChanged(newIndex);\r\n    }\r\n\r\n    next() {\r\n        if (this.state.animating)\r\n            return\r\n        \r\n        let nextIndex = this.state.activeIndex === this.props.items.length - 1 ?\r\n                        0 : this.state.activeIndex + 1;\r\n        this.setState({ activeIndex : nextIndex });\r\n        this.onCarouselChanged(nextIndex);\r\n    }\r\n\r\n    previous() {\r\n        if (this.state.animating)\r\n            return\r\n        \r\n        let nextIndex = this.state.activeIndex === 0 ?\r\n                        this.props.items.length - 1 : this.state.activeIndex - 1;\r\n        this.setState({ activeIndex: nextIndex });\r\n        this.onCarouselChanged(nextIndex);\r\n    }\r\n\r\n    onCarouselChanged(index) {\r\n        if (this.props.kind === 'avatar') {\r\n            const selected = this.props.items[index];\r\n            this.props.onCarouselChanged(selected);\r\n        }\r\n    }\r\n}\r\n\r\nexport default SCarousel;","import SCarousel from './SCarousel';\r\nexport default SCarousel;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React from 'react';\r\n\r\nconst SContainer = (props) => {\r\n    let padding = 20;\r\n    if (props.padding !== undefined) padding = props.padding;\r\n     \r\n    return(\r\n        <div style={{\r\n            border: '1px solid #E0E0E0',\r\n            borderRadius: '3px',\r\n            boxShadow: '3px 3px 10px -3px #E0E0E0',\r\n            padding: `15px ${padding}px`,\r\n            width: '100%'\r\n            }}>\r\n            {props.children}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SContainer;","import SContainer from './SContainer';\r\nexport default SContainer;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nexport const options = {\r\n    eye: { \r\n        id: 1,\r\n        name: 'Ojos', \r\n        dbalias: 'eye' \r\n    },\r\n    hair: { \r\n        id: 2, \r\n        name: 'Cabello', \r\n        dbalias: 'hair'\r\n    },\r\n    torso: { \r\n        id: 3,\r\n        name: 'Torso', \r\n        dbalias: 'torso'\r\n    },\r\n};\r\n\r\nexport const eye = {\r\n    colors: {\r\n        kind: 'rounded',\r\n        name: 'colors',\r\n        options: {\r\n            blue: {\r\n                id: 1,\r\n                button: 'blue',\r\n                name: 'Azul'\r\n            },\r\n            brown: {\r\n                id: 2,\r\n                button: 'brown',\r\n                name: 'Café'\r\n            }\r\n        },\r\n        title: 'Color de ojos'\r\n    }\r\n};\r\n\r\nexport const hair = {\r\n    colors: {\r\n        kind: 'rounded',\r\n        name: 'colors',\r\n        options: {\r\n            black: {\r\n                id: 1,\r\n                button: 'black',\r\n                name: 'Negro'\r\n            },\r\n            blonde: {\r\n                id: 2,\r\n                button: 'blonde',\r\n                name: 'Rubio'\r\n            },\r\n            brown: {\r\n                id: 3,\r\n                button: 'brown',\r\n                name: 'Café'\r\n            }\r\n        },\r\n        title: 'Color de cabello'\r\n    }\r\n};\r\n\r\nexport const torso = {\r\n    colors: {\r\n        kind: 'rounded',\r\n        name: 'colors',\r\n        options: {\r\n            blue: {\r\n                id: 1,\r\n                button: 'blue',\r\n                name: 'Azul'\r\n            },\r\n            green: {\r\n                id: 2,\r\n                button: 'green',\r\n                name: 'Verde'\r\n            },\r\n            purple: {\r\n                id: 3,\r\n                button: 'purple',\r\n                name: 'Morado'\r\n            }\r\n        },\r\n        title: 'Color del torso'\r\n    }\r\n};","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './STACustomizer.module.css';\r\nimport { Button, Col, Row } from 'reactstrap';\r\n\r\nimport SContainer from '@components/shared/SContainer';\r\n\r\nimport { options, eye, hair, torso } from '@data/customizer';\r\n\r\nclass STACustomizer extends Component {\r\n    render() {\r\n        return(\r\n            <SContainer padding={0}>\r\n                <div className={`${styles.container} ${styles.header}`}>\r\n                    <Row noGutters>\r\n                        {this.buildOptions()}\r\n                    </Row>\r\n                </div>                \r\n                {this.buildSections()}\r\n            </SContainer>\r\n        );\r\n    }\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { options, eye, hair, torso, option: 'eye' };\r\n        this.onOptionClicked = this.onOptionClicked.bind(this);\r\n        this.onSectionOptionClicked = this.onSectionOptionClicked.bind(this);\r\n    }\r\n\r\n    /** Métodos extra */\r\n    /** Métodos de construcción de la UI */\r\n    buildOptions() {\r\n        const options = Object.values(this.state.options);\r\n        return options.map(option => {\r\n            let style = `ghost-btn ${styles.btn}`;\r\n            if (option.dbalias === this.state.option)\r\n                style = `${style} ${styles.selected}`;\r\n\r\n            return(\r\n                <Col xs='2' className={styles.col} key={option.id}>\r\n                    <Button\r\n                        className={style}\r\n                        name={option.dbalias}\r\n                        onClick={this.onOptionClicked}>\r\n                    </Button>\r\n                </Col>\r\n            );\r\n        });\r\n    }\r\n\r\n    buildSections() {\r\n        const { option } = this.state;\r\n        const sections = Object.values(this.state[option]);\r\n        return sections.map((section, i) => {\r\n            return( \r\n                <div className={styles.container} key={i}>\r\n                    <div className={styles.title}>\r\n                        {section.title}\r\n                    </div>\r\n                    <Row noGutters>\r\n                        {this.buildSectionsOptions(section)}\r\n                    </Row>\r\n                </div>\r\n            );\r\n        });\r\n    }\r\n\r\n    buildSectionsOptions(section) {\r\n        const { kind, name } = section;\r\n        const options = Object.values(section.options);\r\n        return options.map(option => {\r\n            let style = `ghost-btn ${styles.btn} ${styles[kind]}`;\r\n            if (option.selected) style = `${style} ${styles.selected}`;\r\n\r\n            return(\r\n                <Col xs='2' className={styles.col} key={option.id}>\r\n                    <Button\r\n                        className={style}\r\n                        name={`${name}-${option.button}-${option.name}`}\r\n                        onClick={this.onSectionOptionClicked}>\r\n                    </Button>\r\n                </Col>\r\n            );\r\n        });\r\n    }\r\n\r\n    /** Eventos */\r\n    onOptionClicked(e) {\r\n        this.setState({ option: e.target.name });\r\n    }\r\n\r\n    onSectionOptionClicked(e) {\r\n        const { name } = e.target;\r\n        /** Obtener el nombre de la sección y el nombre del botón */\r\n        const names = name.split('-');\r\n        const section = names[0];\r\n        const sectionOpt = names[1];\r\n        const optionName = names[2];\r\n\r\n        /** Marcar como seleccionado en el estado */\r\n        const { option } = this.state;\r\n        let options = this.state[option];\r\n        let soptions = Object.values(options[section].options);\r\n        soptions.forEach(soption => {\r\n            soption.selected = soption.button === sectionOpt ? true : false;\r\n        });\r\n\r\n        this.setState({ [option]: options });\r\n\r\n        /** Mandar a traer la imagen con las características seleccionadas */\r\n        this.props.onOptionSelected({ \r\n            option, section, selected: optionName \r\n        });\r\n    }\r\n}\r\n\r\nexport default STACustomizer;","import STACustomizer from './STACustomizer';\r\nexport default STACustomizer;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './STAvatarPanel.module.css';\r\nimport { Col, Row } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { \r\n    getAvatarVariation, \r\n    getAvatarVariations\r\n} from '@actions/avatar';\r\n\r\nimport SCarousel from '@components/shared/SCarousel';\r\nimport STACustomizer from './STACustomizer';\r\n\r\nclass STAvatarPanel extends Component {\r\n    render() {\r\n        let { variations } = this.props;\r\n        variations = variations ? Object.values(variations) : [];\r\n        \r\n        return(\r\n            <Row className={styles.container} noGutters>\r\n                <Col className={styles.carousel} sm='12' md='7'>\r\n                    {variations && <SCarousel \r\n                        items={variations}\r\n                        kind='avatar'\r\n                        onCarouselChanged={this.onCarouselChanged} />}\r\n                </Col>\r\n                <Col sm='12' md='5'>\r\n                    <STACustomizer\r\n                        onOptionSelected={this.onOptionSelected} />\r\n                </Col>\r\n            </Row>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { current: null, eye: null, hair: null, torso: null };\r\n        this.onCarouselChanged = this.onCarouselChanged.bind(this);\r\n        this.onOptionSelected = this.onOptionSelected.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.user) this.getVariations();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.props.user && !this.props.variations) \r\n            this.getVariations();\r\n\r\n        if (this.props.variations) {\r\n            const variations = Object.values(this.props.variations);\r\n            if (this.state.current !== variations[0])\r\n                this.setState({ current: variations[0] });\r\n        }\r\n    }\r\n\r\n    /** Métodos extra */\r\n    /** Obtener una variación determinada */\r\n    async getVariation() {\r\n        let state = Object.assign({}, this.state);\r\n        let current = Object.assign({}, state.current);\r\n        delete state.current;\r\n        /** Construir el data para el request */\r\n        const keys = Object.keys(state);\r\n        let data = { id_avatar: current.id_avatar };\r\n        keys.forEach(key => {\r\n            const value = this.state[key];\r\n            if (value) data[key] = value;\r\n        });\r\n        /** Borrar los valores que no se necesitan en current */\r\n        delete current.id;\r\n        delete current.img_path;\r\n        delete current.thumbnail_path;\r\n        data = { ...current, ...data };\r\n        /** Realizar el request para obtener la variación */\r\n        await this.props.getAvatarVariation(data);\r\n    }\r\n\r\n    /** Obtener una variación dependiendo del género */\r\n    async getVariations() {\r\n        const { Avatar_Variation, gender } = this.props.user;\r\n        await this.props.getAvatarVariations(gender, Avatar_Variation);\r\n    }\r\n\r\n    onCarouselChanged(selected) {\r\n        if (selected !== this.state.current)\r\n            this.setState({ current: selected });\r\n    }\r\n\r\n    onOptionSelected(data) {\r\n        /** Actualizar el valor de la opción seleccionada en el estado */\r\n        const { option, section, selected } = data;\r\n        let current = this.state[option];\r\n        if (current) \r\n            current[section] = selected;\r\n        else\r\n            current = { [section]: selected };\r\n        \r\n        this.setState({ [option]: current }, () => {\r\n            this.getVariation();\r\n        });\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.user.user,\r\n        variations: state.avatar.variations\r\n    };\r\n}\r\n\r\nconst mapActionsToProps = {\r\n    getAvatarVariation,\r\n    getAvatarVariations\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapActionsToProps\r\n)(STAvatarPanel);","import STAvatarPanel from './STAvatarPanel';\r\nexport default STAvatarPanel;","import STLayout from './STLayout';\r\nexport default STLayout;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React from 'react';\r\nimport styles from './STLayout.module.css';\r\nimport { Col, Row } from 'reactstrap';\r\n\r\nconst STLayout = (props) => {\r\n    /** Calcular el tamaño del layout dependiendo del page */\r\n    const xlSize = props.page === 'feedback' ? '10' : '9';\r\n    const mt = props.mt ? props.mt : 62;\r\n\r\n    return(\r\n        <div className={`flex ${styles.outerContainer}`}>\r\n            <Row \r\n                className={`justify-content-center ${styles.rowContainer}`} \r\n                noGutters>\r\n                <Col\r\n                    xs='12' \r\n                    sm='12' \r\n                    md='12' \r\n                    lg='12' \r\n                    xl={xlSize}>\r\n                    <div \r\n                        className={styles.container}\r\n                        style={{ '--mt': `${mt}px`, '--pt': `${props.pt}px` }}>\r\n                        { props.children }\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default STLayout;","import SUserHero from './SUserHero';\r\nexport default SUserHero;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SUserHero.module.css';\r\nimport { Row, Col } from 'reactstrap';\r\n\r\nconst serverURL = process.env.REACT_APP_SERVER_URL; \r\n\r\nclass SUserHero extends Component {\r\n    render() {\r\n        const { user } = this.props;\r\n        \r\n        return(\r\n            <div className={styles.container}>\r\n                <div className={styles.header}>\r\n\r\n                </div>\r\n                <div className={`flex ${styles.userContainer}`}>\r\n                    <Row \r\n                        className={`justify-content-center ${styles.row}`} \r\n                        noGutters>\r\n                        <Col className={`flex ${styles.col}`} xs='12' xl='9'>\r\n                            {\r\n                                user && user.profile_img ?\r\n                                <img\r\n                                    alt=''\r\n                                    className={styles.uimage}\r\n                                    src={`${serverURL}${user.profile_img}`} />\r\n                                :\r\n                                user && user.thumbnail_alias ?\r\n                                <div \r\n                                    className={`flex ${styles.alias}`}\r\n                                    style={{ backgroundColor: user.color }}>\r\n                                    {user.thumbnail_alias}\r\n                                </div>\r\n                                :\r\n                                null\r\n                            }\r\n                            <div className={styles.uname}>\r\n                                {user && \r\n                                <span>{user.name} {user.last_name}</span>}\r\n                            </div>\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SUserHero;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SProfilePage.module.css';\r\nimport { Button } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { setAvatarVariations } from '@actions/avatar';\r\n\r\nimport STAvatarPanel from '@components/therapist/STAvatarPanel';\r\nimport STLayout from '@components/layout/STLayout';\r\nimport SUserHero from '@components/shared/SUserHero';\r\n\r\nimport { THERAPIST } from '@data/roles';\r\n\r\nclass SProfilePage extends Component {\r\n    render() {\r\n        const { user } = this.props;\r\n        let role = null;\r\n        if (user) role = user.Role.name;\r\n\r\n        /** Estilos de los botones */\r\n        const base = `ghost-btn ${styles.btn}`;\r\n        const { option } = this.state;\r\n\r\n        const btnAvatar = option === 'avatar' ? `${base} ${styles.selected}` : base;\r\n        const btnInfo = option === 'info' ? `${base} ${styles.selected}` : base;\r\n\r\n        return(\r\n            <div className={styles.container}>\r\n                <SUserHero user={user} />\r\n                <STLayout mt={298}>\r\n                    <div className={styles.options}>\r\n                        {\r\n                            role === THERAPIST ?\r\n                            <span className={`flex ${styles.optContainer}`}>\r\n                                <Button\r\n                                    className={btnInfo}\r\n                                    name='info'\r\n                                    onClick={this.onOptionClicked}>\r\n                                    Información\r\n                                </Button>\r\n                                <Button\r\n                                    className={btnAvatar}\r\n                                    name='avatar'\r\n                                    onClick={this.onOptionClicked}>\r\n                                    Avatar\r\n                                </Button>\r\n                            </span>\r\n                            :\r\n                            null\r\n                        }\r\n                    </div>\r\n                    {\r\n                        this.state.option === 'avatar' ?\r\n                        <STAvatarPanel />\r\n                        :\r\n                        null\r\n                    }\r\n                </STLayout>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { option: 'avatar' };\r\n        this.onOptionClicked = this.onOptionClicked.bind(this);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.setAvatarVariations(null);\r\n    }\r\n\r\n    /** Métodos extra */\r\n    onOptionClicked(e) {\r\n        this.setState({ option: e.target.name });\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.user.user\r\n    };\r\n}\r\n\r\nconst mapActionsToProps = {\r\n    setAvatarVariations\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapActionsToProps\r\n)(SProfilePage);","import SProfilePage from './SProfilePage';\r\nexport default SProfilePage;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SPActivity.module.css';\r\nimport { Button, Spinner } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { createActivitySession, setActivity } from '@actions/activity';\r\nimport { setFullScreen, setModal, setNotification } from '@actions/ui';\r\nimport { getFormattedDate } from '@utils/date&time';\r\n\r\nclass SPActivity extends Component {\r\n    render() {\r\n        const { activity, id } = this.props;\r\n        if (this.state.session) {\r\n            const path = `/paciente/${id}/actividades/${activity.id}` +\r\n                          `/sesiones/${this.state.session.id}`;\r\n            return <Redirect to={path} push />\r\n        }\r\n\r\n        const date = activity.date_from.split('T')[0];\r\n\r\n        return(\r\n            <div className={`flex ${styles.container}`}>\r\n                <div className={styles.gameImage} />\r\n                <div className={styles.gameContainer}>\r\n                    <div className='flex'>\r\n                        <p className={styles.gameTitle}>\r\n                            { activity.Activity.name }\r\n                        </p>\r\n                        <p style={{ fontWeight: 600 }}>\r\n                            { this.getFormattedDate(date) }\r\n                        </p>\r\n                    </div>\r\n                    <p className={styles.gameDescription}>\r\n                        { activity.Activity.description }\r\n                    </p>\r\n\r\n                    <div className={`flex ${styles.btnContainer}`}>\r\n                        <Button \r\n                            className={`simple-btn ${styles.btn}`}\r\n                            onClick={this.onTutorialClicked}>\r\n                            Tutorial\r\n                        </Button>\r\n                        <Button \r\n                            className={`${styles.btn} pdf-btn`}\r\n                            onClick={this.onPlayClicked}>\r\n                            { \r\n                                this.state.loading ? \r\n                                <Spinner color='light' size='sm' />\r\n                                :\r\n                                <span>Jugar</span>\r\n                            }\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n          loading: false,\r\n          session: null, \r\n        };\r\n\r\n        this.onPlayClicked = this.onPlayClicked.bind(this);\r\n        this.onTutorialClicked = this.onTutorialClicked.bind(this);\r\n    }\r\n\r\n    /** Métodos extra */\r\n    getFormattedDate = (date) => {\r\n        return getFormattedDate(date);\r\n    }\r\n\r\n    async onPlayClicked() {\r\n        this.setState({ loading: true });\r\n        /** Crear una nueva sesión de juego */\r\n        const { activity } = this.props;\r\n        const response = await this.props.createActivitySession(activity.id);\r\n        const { data, error, message } = response;\r\n\r\n        this.setState({ loading: false });\r\n        if (error)\r\n            this.props.setNotification({ error, message, slide: true });\r\n        else {\r\n            this.setState({ session: data }, () => {\r\n                this.props.setActivity(activity);\r\n                this.props.setFullScreen(true);\r\n            });\r\n        }\r\n    }\r\n\r\n    onTutorialClicked() {\r\n        const { tutorial_path } = this.props.activity.Mechanic;\r\n        const modal = {\r\n            title: 'Video tutorial',\r\n            type: 'video',\r\n            videoUrl: tutorial_path\r\n        }\r\n        this.props.setModal(modal);\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapActionsToProps = {\r\n    createActivitySession,\r\n    setActivity,\r\n    setFullScreen,\r\n    setModal,\r\n    setNotification,\r\n};\r\n\r\nexport default connect(\r\n    null,\r\n    mapActionsToProps\r\n)(SPActivity);","import SPactivity from './SPActivity';\r\nexport default SPactivity;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintianer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SPLayout.module.css';\r\nimport { Col, Row } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\n\r\nclass SPLayout extends Component {\r\n    render() {\r\n        const { vOffset } = this.props.ui;\r\n        \r\n        return(\r\n            <div className={`flex ${styles.outerContainer}`}>\r\n                <Row className={styles.rowContainer} noGutters>\r\n                    <Col\r\n                        xs='12' \r\n                        sm='12' \r\n                        md={{ size: 7, offset: 5 }}\r\n                        style={{ '--vOffset': `${vOffset}px` }}>\r\n                        <div className={styles.container}>\r\n                            { this.props.children }\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        ui: state.ui,\r\n    };\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps\r\n)(SPLayout);","import SPLayout from './SPLayout';\r\nexport default SPLayout;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nexport const messages = {\r\n    activities: [\r\n        'Elige la opción jugar de una de las actividades ' +\r\n        'para comenzar a divertirnos.'\r\n    ],\r\n    collectable: [\r\n        'También puedes cambiar tus puntos por diferentes ' +\r\n        'aspectos. !Colecciónalos todos!'\r\n    ],\r\n    collections: [\r\n        '!Aquí puedes cambiar tus puntos por la colección ' +\r\n        'que más te guste!'        \r\n    ],\r\n    landing: [\r\n        '¡Bienvenido a SATReLO! Es hora de jugar. ' +\r\n        'Para iniciar ingresa tu nombre y clave.',\r\n        '¡Hola! Vamos a divertirnos juntos. Para ' +\r\n        'iniciar ingresa tu nombre y clave.',\r\n    ],\r\n};","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SPActivitiesPage.module.css';\r\nimport { connect } from 'react-redux';\r\nimport { setMessage } from '@actions/avatar';\r\nimport { getActivities, setActivities } from '@actions/activity';\r\n\r\nimport SEmpty from '@components/shared/SEmpty';\r\nimport SPActivity from '@components/patient/SPActivity';\r\nimport SPLayout from '@components/layout/SPLayout';\r\nimport SSpinner from '@components/shared/SSpinner';\r\n\r\nimport { messages } from '@data/messages';\r\nconst { activities } = messages;\r\n\r\nclass SPActivitiesPage extends Component {\r\n    render() {\r\n        const { pid } = this.props.match.params;\r\n        let { activities } = this.props;\r\n        activities = activities ? Object.values(activities) : [];\r\n\r\n        return(\r\n            <SPLayout>\r\n                <p className={styles.title}>\r\n                    Mis actividades\r\n                </p>\r\n                <div className={styles.listContainer}>\r\n                    {\r\n                        this.state.loading ?\r\n                        <SSpinner color='light' />\r\n                        :\r\n                        activities && activities.length > 0 ?\r\n                        activities.map((activity) => {\r\n                            return(\r\n                                <SPActivity\r\n                                    activity={activity}\r\n                                    id={pid} \r\n                                    key={activity.id} />\r\n                            );\r\n                        })\r\n                        :\r\n                        <SEmpty color='white'>\r\n                            Aún no tienes actividades asignadas...\r\n                        </SEmpty>\r\n                    }\r\n                </div>\r\n            </SPLayout>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { loading: false }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const { pid } = this.props.match.params;\r\n\r\n        this.setState({ loading: true });\r\n        await this.props.getActivities(pid);\r\n        this.setState({ loading: false });\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.props.user) {\r\n            /** Enviar mensaje al avatar */\r\n            let message = activities[Math.floor(Math.random() * activities.length)];\r\n            message = `!${this.props.user.name}! ${message}`;\r\n\r\n            if (message !== this.props.avatar.message)\r\n                this.props.setMessage(message);\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.setActivities(null);\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        activities: state.activity.activities,\r\n        avatar: state.avatar,\r\n        user: state.user.user,\r\n    };\r\n}\r\n\r\nconst mapActionsToProps = {\r\n    getActivities,\r\n    setActivities,\r\n    setMessage,\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapActionsToProps\r\n)(SPActivitiesPage);","import SPActivitiesPage from './SPActivitiesPage';\r\nexport default SPActivitiesPage;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SPCollectableInfoPage.module.css';\r\nimport { connect } from 'react-redux';\r\nimport { setMessage } from '@actions/avatar';\r\nimport { getCollectable, setCollectable } from '@actions/collection';\r\n\r\nimport SEmpty from '@components/shared/SEmpty';\r\nimport SCarousel from '@components/shared/SCarousel';\r\nimport SPLayout from '@components/layout/SPLayout';\r\nimport SSpinner from '@components/shared/SSpinner';\r\n\r\nimport { messages } from '@data/messages';\r\nconst { collectable } = messages;\r\n\r\nclass SPCollectableInfoPage extends Component {\r\n    render() {\r\n        const { collectable } = this.props;\r\n\r\n        return(\r\n            <SPLayout>\r\n                {\r\n                    this.state.loading ?\r\n                    <SSpinner color='light' />\r\n                    :\r\n                    collectable ?\r\n                    <div className={styles.container}>\r\n                        <p className={styles.title}>\r\n                            { collectable.name }\r\n                        </p>\r\n                        <SCarousel \r\n                            items={Object.values(collectable.Skins)}\r\n                            userId={this.state.userId} />\r\n                        <p className={styles.descriptionTitle}>\r\n                            Resumen\r\n                        </p>\r\n                        <p className={styles.description}>\r\n                            { this.state.currentSkin && \r\n                                this.state.currentSkin.summary }\r\n                        </p>\r\n                    </div>\r\n                    :\r\n                    <SEmpty color='white'>\r\n                        No se encontró información del coleccionable.\r\n                    </SEmpty>\r\n                }\r\n            </SPLayout>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n            currentSkin: null, loading: true, userId: null \r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        /** Enviar mensaje al avatar */\r\n        const message = collectable[Math.floor(Math.random() * collectable.length)];\r\n        this.props.setMessage(message);\r\n\r\n        this.setState({ userId: this.props.match.params.pid }, () => {\r\n            this.getCollectableInfo();\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.setCollectable(null);\r\n    }\r\n\r\n    /** Métodos extra */\r\n    async getCollectableInfo() {\r\n        this.setState({ loading: true });\r\n        let { id, cid } = this.props.match.params;\r\n\r\n        const response = await this.props.getCollectable(id, cid);\r\n        const { data, error } = response;\r\n        const skins = Object.values(data.Skins);\r\n        const skin = error ? null : skins[0];\r\n\r\n        this.setState({ currentSkin: skin, loading: false });\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        collectable: state.collection.collectable,\r\n    };\r\n}\r\n\r\nconst mapActionsToProps = {\r\n    getCollectable,\r\n    setCollectable,\r\n    setMessage,\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapActionsToProps\r\n)(SPCollectableInfoPage);","import SPCollectableInfoPage from './SPCollectableInfoPage';\r\nexport default SPCollectableInfoPage;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SPCollectable.module.css';\r\nimport { Button, Spinner } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { getPatientSkin, setPatientSkins } from '@actions/collection';\r\nimport { updateUser } from '@actions/user';\r\n\r\nclass SPCollectable extends Component {\r\n    render() {\r\n        const { userId } = this.props;\r\n        const { collectable } = this.props;\r\n        const { id, id_collection } = collectable;\r\n        const cid = id_collection;\r\n        \r\n        return(\r\n            <div className={styles.container}>\r\n                <Link \r\n                    className={`ghost-btn ${styles.btn}`}\r\n                    to={`/paciente/${userId}/colecciones/${cid}/coleccionable/${id}`}>\r\n                </Link>\r\n                <div className={styles.info}>\r\n                    <p className={styles.name}>\r\n                        { collectable.name }\r\n                    </p>\r\n                    <p className={styles.points}>\r\n                        Necesitas { collectable.price } puntos\r\n                    </p>\r\n                </div>\r\n                {\r\n                    collectable.Skins.owned ?\r\n                    <div className={styles.owned}>\r\n                        Adquirido\r\n                    </div>\r\n                    :\r\n                    <Button \r\n                        className={`primary-btn ${styles.btnBuy}`}\r\n                        onClick={this.onBuyClicked}>\r\n                        {\r\n                            this.state.loading ?\r\n                            <Spinner color='' size='sm' /> \r\n                            : <span>Comprar</span>\r\n                        }\r\n                    </Button>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { loading: false };\r\n        this.onBuyClicked = this.onBuyClicked.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.userId) this.checkUserSkin();\r\n    }\r\n\r\n    /** Métodos extra */\r\n    buildData(check) {\r\n        const { collectable } = this.props;\r\n        let data = { \r\n            collectableId: collectable.id,\r\n            collectionId: collectable.id_collection,\r\n            single: true\r\n        };\r\n        if (check) data.skinId = collectable.Skins.id;\r\n        return data;\r\n    }\r\n\r\n    async buySkin(skins) {\r\n        let data = this.buildData(false);\r\n        data.skins = skins;\r\n\r\n        this.setState({ loading: true });\r\n        await this.props.setPatientSkins(this.props.userId, data);\r\n\r\n        /** Actualizar el puntaje del usuario después de realizar la compra */\r\n        const { collectable, user } = this.props;\r\n        const newScore = user.score - collectable.price;\r\n        await this.props.updateUser({ score: newScore }, user.id);\r\n        this.setState({ loading: false });\r\n    }\r\n\r\n    async checkUserSkin() {\r\n        const data = this.buildData(true);\r\n        \r\n        this.setState({ loading: true });\r\n        await this.props.getPatientSkin(this.props.userId, data);\r\n        this.setState({ loading: false });\r\n    }\r\n\r\n    onBuyClicked() {\r\n        const { collectable, user } = this.props;\r\n        if (user.score >= collectable.price) {\r\n            const skin = this.props.collectable.Skins;\r\n            this.buySkin([skin]);\r\n        }\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapActionsToProps = {\r\n    getPatientSkin,\r\n    setPatientSkins,\r\n    updateUser,\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.user.user\r\n    };\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapActionsToProps\r\n)(SPCollectable);","import SPCollectable from './SPCollectable';\r\nexport default SPCollectable;","import SPCollection from './SPCollection';\r\nexport default SPCollection;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React from 'react';\r\nimport styles from './SPCollection.module.css';\r\nimport { Col, Row } from 'reactstrap';\r\n\r\nimport SPCollectable from './SPCollectable';\r\n\r\nconst SPCollection = (props) => {\r\n    const collectables = Object.values(props.Collectables);\r\n    \r\n    return(\r\n        <div className={styles.container}>\r\n            <p className={styles.title}>\r\n                Colección de {props.name}\r\n            </p>\r\n\r\n            <Row className={styles.rowContainer} noGutters>\r\n                {collectables && collectables.map((collectable) => {\r\n                    return(\r\n                        <Col \r\n                            className={styles.col}\r\n                            sm='12' \r\n                            md='4' \r\n                            key={collectable.id}>\r\n                            <SPCollectable\r\n                                collectable={collectable}\r\n                                userId={props.userId} />\r\n                        </Col>\r\n                    );\r\n                })}\r\n            </Row>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SPCollection;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SPCollectionsPage.module.css';\r\nimport { connect } from 'react-redux';\r\nimport { setMessage } from '@actions/avatar';\r\nimport { getCollections, setCollections } from '@actions/collection';\r\n\r\nimport SEmpty from '@components/shared/SEmpty';\r\nimport SPCollection from '@components/patient/SPCollection';\r\nimport SPLayout from '@components/layout/SPLayout';\r\nimport SSpinner from '@components/shared/SSpinner';\r\n\r\nimport { messages } from '@data/messages';\r\nconst { collections } = messages;\r\n\r\nclass SPCollectionsPage extends Component {\r\n    render() {\r\n        let { collections } = this.props;\r\n        collections = collections ? Object.values(collections) : [];\r\n\r\n        return(\r\n            <SPLayout>\r\n                <div className={styles.container}>\r\n                    <div className='flex'>\r\n                        <div className={styles.title}>Colecciones</div>\r\n                        <div className={`flex ${styles.score}`}>\r\n                            <div>Tienes {this.props.user && this.props.user.score}</div>\r\n                            <img\r\n                                alt=''\r\n                                className={styles.scoreIcon}\r\n                                src='/images/other/star.png' />\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        this.state.loading ?\r\n                        <SSpinner color='light' />\r\n                        :\r\n                        collections &&\r\n                        collections.length > 0 ?\r\n                        collections.map((collection) => {\r\n                            return(\r\n                                <SPCollection\r\n                                    {...collection}\r\n                                    key={collection.id}\r\n                                    userId={this.state.userId} />\r\n                            );\r\n                        })\r\n                        :\r\n                        <SEmpty color='white'>\r\n                            No se encontraron colecciones.\r\n                        </SEmpty>\r\n                    }\r\n                </div>\r\n            </SPLayout>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { loading: false, userId: null };\r\n    }\r\n\r\n    componentDidMount() {\r\n        /** Enviar mensaje al avatar */\r\n        const message = collections[Math.floor(Math.random() * collections.length)];\r\n        this.props.setMessage(message);\r\n        \r\n        this.setState({ userId: this.props.match.params.pid }, () => {\r\n            this.getCollectionsList();\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.setCollections(null);\r\n    }\r\n\r\n    /** Métodos extra */\r\n    async getCollectionsList() {\r\n        this.setState({ loading: true });\r\n        await this.props.getCollections();\r\n        this.setState({ loading: false });\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        collections: state.collection.collections,\r\n        user: state.user.user\r\n    };\r\n}\r\n\r\nconst mapActionsToProps = {\r\n    getCollections,\r\n    setCollections,\r\n    setMessage,\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapActionsToProps\r\n)(SPCollectionsPage);","import SPCollectionsPage from './SPCollectionsPage';\r\nexport default SPCollectionsPage;","import SPPassButton from './SPPassButton';\r\nexport default SPPassButton;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React from 'react';\r\nimport styles from './SPPassButton.module.css';\r\nimport { Button } from 'reactstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrash } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst SPPassButton = (props) => {\r\n    let btn = props.kind === 'delete' ? styles.btnInv : styles.btn;\r\n    if (props.kind === 'not')\r\n        btn = `${btn} ${styles.bgWhite}`;\r\n\r\n    return(\r\n        <Button \r\n            className={`ghost-btn ${btn}`}\r\n            onClick={() => {\r\n                if (props.kind === 'delete')\r\n                    props.onDeletePassClicked();\r\n                else if (props.kind === 'select')\r\n                    props.onPassButtonClicked({\r\n                        name: props.name,\r\n                        src: props.src\r\n                    });\r\n            }}\r\n            style={{ cursor: props.kind === 'not' ? 'default' : 'pointer'}}>\r\n            {\r\n                props.kind === 'delete' ?\r\n                <FontAwesomeIcon \r\n                    icon={faTrash}\r\n                    size='2x' \r\n                    style={{ color: 'black' }} />\r\n                :\r\n                !props.src || (props.src && props.src.trim() === '') ?\r\n                <div className={styles.icon} />\r\n                :\r\n                <img\r\n                    alt=''\r\n                    className={styles.icon} \r\n                    src={props.src} />\r\n            }\r\n        </Button>\r\n    );\r\n}\r\n\r\nexport default SPPassButton; ","import SPassword from './SPassword';\r\nexport default SPassword;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SPassword.module.css';\r\n\r\nimport SPPassButton from './SPPassButton';\r\n\r\nclass SPassword extends Component {\r\n    render() {\r\n        return(\r\n            <div className={styles.container}>\r\n                <div className={`flex ${styles.btnContainer}`}>\r\n                    {this.state.passwordOptions.map((po) => {\r\n                        return(\r\n                            <SPPassButton\r\n                                key={po.id}\r\n                                {...po}\r\n                                onPassButtonClicked={\r\n                                    this.onPasswordOptionClicked\r\n                                } />\r\n                        );\r\n                    })}\r\n                </div>\r\n                <div className={`flex ${styles.btnContainer}`}>\r\n                    {this.state.optionsSelected.map((os) => {\r\n                        return(\r\n                            <SPPassButton key={os.id} {...os} />\r\n                        );\r\n                    })}\r\n                    <SPPassButton \r\n                        kind='delete'\r\n                        onDeletePassClicked={this.onDeleteButtonClicked} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            passwordOptions: [\r\n                { id: 1, kind: 'select', name: 'árbol', src: '/images/pwd/tree.png' },\r\n                { id: 2, kind: 'select', name: 'corazón', src: '/images/pwd/heart.png' },\r\n                { id: 3, kind: 'select', name: 'flor', src: '/images/pwd/flower.png' },\r\n                { id: 4, kind: 'select', name: 'nube', src: '/images/pwd/cloud.png' },\r\n                { id: 5, kind: 'select', name: 'sol', src: '/images/pwd/sun.png' },\r\n            ],\r\n            optionsSelected: [\r\n                { id: 1, kind: 'not', name: '', src: '' },\r\n                { id: 2, kind: 'not', name: '', src: '' },\r\n                { id: 3, kind: 'not', name: '', src: '' },\r\n                { id: 4, kind: 'not', name: '', src: '' }\r\n            ]\r\n        };\r\n\r\n        this.onDeleteButtonClicked = this.onDeleteButtonClicked.bind(this);\r\n        this.onPasswordOptionClicked = this.onPasswordOptionClicked.bind(this);\r\n    }\r\n\r\n    /** Métodos extra */\r\n    onDeleteButtonClicked() {\r\n        let { optionsSelected } = this.state;\r\n        /** Limpiar las asociaciones */\r\n        optionsSelected.forEach(option => {\r\n            option.name = '';\r\n            option.src = '';\r\n        });\r\n        this.setState({ optionsSelected });\r\n    }\r\n\r\n    onPasswordOptionClicked(selected) {\r\n        let { optionsSelected } = this.state;\r\n        /** Asociar el nombre y el src seleccionado */\r\n        let added = false;\r\n        optionsSelected.forEach(option => {\r\n            if (!added && option.name.trim() === '') {\r\n                option.name = selected.name;\r\n                option.src = selected.src;\r\n                added = true;\r\n            }\r\n        });\r\n        this.setState({ optionsSelected }, () => {\r\n            /** Obtener las nombres de las opciones seleccionadas */\r\n            const words = this.state.optionsSelected.filter((option) => {\r\n                return option.name.trim() !== '';\r\n            }).map((option) => { \r\n                return option.name; \r\n            });\r\n            /** Enviar la lista de palabras hacia el componente padre */\r\n            this.props.setPassword(words);\r\n        });\r\n    }\r\n}\r\n\r\nexport default SPassword;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.1\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SPLogin.module.css';\r\nimport {\r\n    Button,\r\n    Form,\r\n    FormGroup,\r\n    Input,\r\n    Label,\r\n    Spinner\r\n} from 'reactstrap';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '@actions/auth';\r\n\r\nimport { PATIENT } from '@data/roles';\r\n\r\nimport SPassword from '@components/shared/SPassword';\r\n\r\nclass SPLogin extends Component {\r\n    render() {\r\n        /** Redireccionar a las actividades */\r\n        const { userId } = this.state;\r\n        if (userId)\r\n            return <Redirect to={`/paciente/${userId}/actividades`} push />\r\n\r\n        return(\r\n            <div className={styles.container}>\r\n                {this.state.error && <div className={styles.error}>\r\n                    Usuario o contraseña incorrectos. Inténtalo de nuevo.\r\n                </div>}\r\n                <Form>\r\n                    <FormGroup>\r\n                        <Label className={styles.label}>\r\n                            Escribe tu nombre de usuario\r\n                        </Label>\r\n                        <Input\r\n                            bsSize='lg'\r\n                            onChange={this.onInputChanged}\r\n                            placeholder='Por ejemplo, mvsierra' \r\n                            type='text' />\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label className={styles.label}>\r\n                            Marca tu clave\r\n                        </Label>\r\n                        <SPassword setPassword={this.setPassword} />\r\n                    </FormGroup>\r\n                    <Button\r\n                        className={`primary-btn ${styles.btn}`}\r\n                        onClick={this.onLoginClicked}>\r\n                        {\r\n                            this.state.loading ?\r\n                            <Spinner color='light' size='sm' /> \r\n                            : \r\n                            <span>Entrar</span>\r\n                        }\r\n                    </Button>\r\n                </Form>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            error: null,\r\n            loading: false,\r\n            password: null,\r\n            userId: null,\r\n            username: ''\r\n        };\r\n\r\n        this.onInputChanged = this.onInputChanged.bind(this);\r\n        this.onLogin = this.onLogin.bind(this);\r\n        this.onLoginClicked = this.onLoginClicked.bind(this);\r\n        this.setPassword = this.setPassword.bind(this);\r\n    }\r\n\r\n    /** Métodos extra */\r\n    onInputChanged(e) {\r\n        this.setState({ username: e.target.value });\r\n    }\r\n\r\n    async onLogin(username, password) {\r\n        this.setState({ loading: true });\r\n        const credentials = { username, password };\r\n        const response = await this.props.login(credentials, PATIENT);\r\n        const { error, userId } = response;\r\n\r\n        this.setState({ error, loading: false, userId });\r\n    }\r\n\r\n    onLoginClicked(e) {\r\n        e.preventDefault();\r\n        if (!this.state.loading) {\r\n            const { username, password } = this.state;\r\n            if (username.trim() !== '' && password) {\r\n                if (password.length === 4)\r\n                    this.onLogin(username, password.join());\r\n                else\r\n                    this.setState({ error: 'La clave debe tener 4 elementos'});\r\n            }\r\n            else\r\n                this.setState({\r\n                    error: 'El usuario y la clave son obligatorios'\r\n                });\r\n        }\r\n    }\r\n\r\n    setPassword(words) {\r\n        this.setState({ password: words });\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapActionsToProps = {\r\n    login\r\n}\r\n\r\nexport default connect(\r\n    null,\r\n    mapActionsToProps\r\n)(SPLogin);","import SPLogin from './SPLogin';\r\nexport default SPLogin;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setMessage } from '@actions/avatar';\r\nimport { \r\n    setBar,\r\n    setParallax, \r\n    showAvatar, \r\n    showMobileMenu \r\n} from '@actions/ui';\r\nimport { setUser } from '@actions/user';\r\n\r\nimport SPLayout from '@components/layout/SPLayout';\r\nimport SPLogin from '@components/patient/SPLogin';\r\n\r\nimport { messages } from '@data/messages';\r\nconst { landing } = messages;\r\n\r\n/** Página Landing del paciente */\r\nclass SPLandingPage extends Component {\r\n    render() {\r\n        const vOffset = this.props.ui.vOffset + 60;\r\n\r\n        return(\r\n            <SPLayout>\r\n                <div \r\n                    className='flex' \r\n                    style={{\r\n                        alignItems: 'center',\r\n                        height: `calc(100vh - ${vOffset}px)`,\r\n                        justifyContent: 'center' \r\n                    }}>\r\n                    <SPLogin />\r\n                </div>\r\n            </SPLayout>\r\n        );\r\n    }\r\n\r\n    componentDidMount() {\r\n        /** Enviar mensaje al avatar */\r\n        const message = landing[Math.floor(Math.random() * landing.length)];\r\n        this.props.setMessage(message);\r\n\r\n        this.props.setBar('patient');\r\n        this.props.setParallax(true);\r\n        this.props.showMobileMenu(false);\r\n        this.props.setUser(null);\r\n        this.props.showAvatar(true);\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        ui: state.ui\r\n    };\r\n}\r\n\r\nconst mapActionsToProps = {\r\n    setBar,\r\n    setMessage,\r\n    setParallax,\r\n    setUser,\r\n    showAvatar,\r\n    showMobileMenu,\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapActionsToProps\r\n)(SPLandingPage);","import SPLandingPage from './SPLandingPage';\r\nexport default SPLandingPage;","import SFullScreen from './SFullScreen';\r\nexport default SFullScreen;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\n\r\nclass SFullScreen extends Component {\r\n    render() {\r\n        return(\r\n            <div \r\n                onKeyDown={this.onKeyHandler}\r\n                ref={this.fullRef}\r\n                tabIndex={0}>\r\n                {this.props.children}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { fullScreen: false };\r\n        this.fullRef = React.createRef();\r\n        this.onClosed = this.onClosed.bind(this);\r\n        this.onKeyHandler = this.onKeyHandler.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.addEventListener('fullscreenchange', this.onClosed);\r\n        document.addEventListener('mozfullscreenchange', this.onClosed);\r\n        document.addEventListener('webkitfullscreenchange', this.onClosed);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.props.fullScreen !== this.state.fullScreen) {\r\n            if (this.props.fullScreen)\r\n                this.enterFullScreen();\r\n            else\r\n                this.exitFullScreen();\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener('fullscreenchange', this.onClosed);\r\n        document.removeEventListener('mozfullscreenchange', this.onClosed);\r\n        document.removeEventListener('webkitfullscreenchange', this.onClosed);\r\n    }\r\n\r\n    /** Métodos extra */\r\n    async enterFullScreen() {\r\n        if (this.fullRef.current.requestFullRequest) {\r\n            await this.fullRef.current.requestFullRequest();\r\n        }\r\n        else if (this.fullRef.current.mozRequestFullScreen) {\r\n            await this.fullRef.current.mozRequestFullScreen();\r\n        }\r\n        else if (this.fullRef.current.webkitRequestFullScreen) {\r\n            await this.fullRef.current.webkitRequestFullScreen();\r\n        }\r\n\r\n        this.setState({ fullScreen: true });\r\n        this.props.onChange(true);\r\n    }\r\n\r\n    async exitFullScreen() {\r\n        const isFull = document.fullscreenElement || \r\n                       document.mozFullScreenElement ||\r\n                       document.webkitFullScreenElement;\r\n        \r\n        if (isFull) {\r\n            if (document.exitFullscreen) {\r\n                await document.exitFullscreen();\r\n            }\r\n            else if (document.mozCancelFullScreen) {\r\n                await document.mozCancelFullScreen();\r\n            }\r\n            else if (document.webkitExitFullScreen) {\r\n                await document.webkitExitFullScreen();\r\n            }\r\n        }\r\n\r\n        this.setState({ fullScreen: false });\r\n        this.props.onChange(false);\r\n    }\r\n\r\n    onClosed() {\r\n        const full = document.fullscreenElement ||\r\n                     document.mozFullScreenElement ||\r\n                     document.webkitFullScreenElement;\r\n        if (!full && this.state.fullScreen)\r\n            this.props.onClosed();\r\n    }\r\n\r\n    onKeyHandler(event) {\r\n        if (event.keyCode === 8) event.preventDefault();\r\n    }\r\n}\r\n\r\nexport default SFullScreen;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SPPlayPage.module.css';\r\nimport { connect } from 'react-redux';\r\nimport SFullScreen from '@components/shared/SFullScreen';\r\nimport { getActivity, updateActivitySession } from '@actions/activity';\r\nimport { setFullScreen, setModal, showAvatar } from '@actions/ui';\r\n\r\nconst FILE_SERVER_URL = process.env.REACT_APP_FILE_SERVER;\r\nconst SERVER_URL = process.env.REACT_APP_SERVER_URL;\r\n\r\nclass SPPlayPage extends Component { \r\n    render() {        \r\n        const { activity, user } = this.props;\r\n        let gamePath = null;\r\n        if (activity && user) {\r\n            const { sid } = this.props.match.params;\r\n            const { build_path } = activity;\r\n            gamePath = `${FILE_SERVER_URL}/${build_path}/index.html` +\r\n                        `?portal=paciente` +\r\n                        `&session=${sid}` +\r\n                        `&score=${user.score}` +\r\n                        `&token=${this.props.auth.pacienteToken}` +\r\n                        `&file_server=${FILE_SERVER_URL}` + \r\n                        `&server=${SERVER_URL}`;\r\n        }\r\n\r\n        return(\r\n            <SFullScreen\r\n                fullScreen={this.props.ui.fullScreen}\r\n                onClosed={this.onClosed}\r\n                onChange={this.onChange}>\r\n                <div className={`flex ${styles.container}`}> \r\n                    <iframe \r\n                        height={window.outerHeight}\r\n                        src={gamePath}\r\n                        title='game'\r\n                        width={window.outerWidth}></iframe>\r\n                </div>\r\n            </SFullScreen>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.onClosed = this.onClosed.bind(this);\r\n        this.onChange = this.onChange.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (!this.props.ui.fullScreen) this.redirectBack();\r\n\r\n        this.hideAvatar();\r\n        if (this.props.activity === null) {\r\n            const { aid } = this.props.match.params\r\n            this.props.getActivity(aid);\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.hideAvatar();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.showAvatar(true);\r\n\r\n        /** Guardar fecha y hora de finalización de la sesión */\r\n        const { sid } = this.props.match.params;\r\n        const session = { date_end: new Date(), id: sid };\r\n        this.props.updateActivitySession(session);\r\n        \r\n        /** Abrir modal para enviar un comentario */\r\n        const modal = {\r\n          title: 'Comenta sobre el desempeño del paciente en el juego',\r\n          type: 'new_comment',\r\n          session: sid\r\n        };\r\n        this.props.setModal(modal);\r\n    }\r\n\r\n    /** Métodos extra */\r\n    hideAvatar() {\r\n        if (this.props.ui.showAvatar)\r\n            this.props.showAvatar(false);\r\n    }\r\n\r\n    onClosed() {\r\n        this.redirectBack();\r\n    }\r\n\r\n    onChange(fullScreen) {\r\n        if (!fullScreen) this.redirectBack();\r\n    }\r\n\r\n    redirectBack() {\r\n        this.props.history.goBack();\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapActionsToProps = {\r\n    getActivity,\r\n    setFullScreen,\r\n    setModal,\r\n    showAvatar,\r\n    updateActivitySession,\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        activity: state.activity.activity,\r\n        auth: state.auth,\r\n        ui: state.ui,\r\n        user: state.user.user,\r\n    };\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapActionsToProps\r\n)(SPPlayPage);","import SPPlayPage from './SPPlayPage';\r\nexport default SPPlayPage;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport axios from 'axios';\r\nimport { \r\n    REMOVE_PATIENT,\r\n    SET_PATIENT, \r\n    SET_PATIENTS, \r\n    SET_SELECTED_PATIENT\r\n} from './types';\r\n\r\nconst apiURL = process.env.REACT_APP_API_URL;\r\n\r\n/** Crear la asociación entre un terapeuta y un paciente */\r\nexport const createPatient = (therapistId, patientId) => async (dispatch) => {\r\n    const url = `${apiURL}/therapist/${therapistId}/patient`;\r\n\r\n    try {\r\n        const response = await axios.post(url, { data: { pid: patientId }});\r\n        const { data: { data, message, status }} = response;\r\n        const error = status !== 200;\r\n\r\n        if (status === 200) {\r\n            const association = data[patientId];\r\n            dispatch({ \r\n                type: SET_PATIENT,\r\n                payload: { association }\r\n            });\r\n        }\r\n        \r\n        return { error, message };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err };\r\n    }\r\n}\r\n\r\n/** Obtener la informaión de único paciente por medio de su id */\r\nexport const getPatient = (id) => async (dispatch) => {\r\n    const url = `${apiURL}/user/${id}`;\r\n\r\n    try {\r\n        const response = await axios.get(url);\r\n        const { data: { data, message, status}} = response;\r\n\r\n        const patient = status === 200 ? data : null;\r\n        const error = status !== 200;\r\n\r\n        dispatch({ \r\n            type: SET_SELECTED_PATIENT, \r\n            payload: { patient }\r\n        });\r\n\r\n        return { error, message };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err };\r\n    }\r\n}\r\n\r\n/** Obtener pacientes */\r\nexport const getPatients = (userId = null, query = null) => async (dispatch) => {\r\n    let url = userId ? \r\n                /** Pacientes de un usuario terapeuta */\r\n                `${apiURL}/therapist/${userId}/patient`\r\n                :\r\n                /** Todos los pacientes */\r\n                `${apiURL}/patient`; \r\n    \r\n    if (query)\r\n        url = `${url}?search=${query}`;\r\n\r\n    try {\r\n        const response = await axios.get(url);\r\n        const { data: { data, message, status }} = response;\r\n\r\n        const patients = status === 200 ? data : null;\r\n        const error = status !== 200;\r\n\r\n        dispatch({ \r\n            type: SET_PATIENTS, \r\n            payload: { patients }\r\n        });\r\n\r\n        return { error, message };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err };\r\n    }  \r\n}\r\n\r\n/** Remover la asociación entre un terapeuta y un paciente */\r\nexport const removePatient = (therapistId, patientId) => async (dispatch) => {\r\n    const url = `${apiURL}/therapist/${therapistId}/patient/${patientId}`;\r\n\r\n    try {\r\n        const response = await axios.delete(url);\r\n        const { data: { message, status }} = response;\r\n        const error = status !== 200;\r\n\r\n        if (status === 200) {\r\n            const association = {\r\n                _id_therapist: therapistId,\r\n                _id_patient: patientId,\r\n            }\r\n            dispatch({ \r\n                type: REMOVE_PATIENT, \r\n                payload: { _association: association }\r\n            });\r\n        }\r\n        \r\n        return { error, message };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err };\r\n    }\r\n}\r\n\r\nexport const setPatient = (patient) => (dispatch) => {\r\n    dispatch({ \r\n        type: SET_SELECTED_PATIENT, \r\n        payload: { patient }\r\n    });\r\n}\r\n\r\nexport const setPatients = (patients) => (dispatch) => {\r\n    dispatch({\r\n        type: SET_PATIENTS,\r\n        payload: { patients }\r\n    });\r\n}","/**\r\n * @author Martin Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './STActivityButtons.module.css';\r\nimport { Button } from 'reactstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCommentAlt, faTimesCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport { connect } from 'react-redux';\r\nimport  { removeActivity, updateActivity } from '@actions/activity';\r\nimport { setModal, setNotification } from '@actions/ui';\r\n\r\nconst serverURL = process.env.REACT_APP_SERVER_URL;\r\n\r\nclass STActivityButtons extends Component {\r\n    render() {\r\n        const { Activities_Sessions } = this.props.activity;\r\n        const sessions = Object.values(Activities_Sessions);\r\n\r\n        return(\r\n            <div className={`flex ${styles.container}`}>\r\n                <Button\r\n                    className={`pdf-btn ${styles.btn}`}\r\n                    onClick={this.onPDFClicked}\r\n                    size='sm'>\r\n                    PDF Ficha\r\n                </Button>\r\n                <div className='flex'>\r\n                    <Button \r\n                        className={`ghost-btn ${styles.comments} ${styles.mr}`}\r\n                        onClick={this.onCommentsClicked}\r\n                        size='sm'>\r\n                        <FontAwesomeIcon \r\n                            icon={faCommentAlt} size='2x' />\r\n                    </Button>\r\n                    <Button\r\n                        className={`simple-btn ${styles.btn} ${styles.ml}`}\r\n                        onClick={this.onTutorialClicked}\r\n                        size='sm'>\r\n                        Tutorial\r\n                    </Button>\r\n                    <Button\r\n                        className={`simple-btn ${styles.btn} ${styles.ml}`}\r\n                        onClick={this.onReassignClicked}\r\n                        size='sm'>\r\n                        Reasignar\r\n                    </Button>\r\n                    {sessions.length === 0 && <Button\r\n                        className={`ghost-btn ${styles.delete} ${styles.ml}`}\r\n                        onClick={this.onDeleteClicked}\r\n                        size='sm'>\r\n                        <FontAwesomeIcon \r\n                            icon={faTimesCircle} size='2x' />\r\n                    </Button>}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.onCommentsClicked = this.onCommentsClicked.bind(this);\r\n        this.onDeleteClicked = this.onDeleteClicked.bind(this);\r\n        this.onPDFClicked = this.onPDFClicked.bind(this);\r\n        this.onReassignClicked = this.onReassignClicked.bind(this);\r\n        this.onTutorialClicked = this.onTutorialClicked.bind(this);\r\n    }\r\n\r\n    /** Métodos extra */\r\n    onCommentsClicked() {\r\n        const modal = {\r\n            title: 'Comentarios',\r\n            type: 'comments',\r\n            data: this.props.activity.Activities_Sessions\r\n        };\r\n        this.props.setModal(modal);\r\n    }\r\n\r\n    async onDeleteClicked() {\r\n        const { id } = this.props.activity;\r\n        const response = await this.props.removeActivity(id);\r\n        const { error, message } = response;\r\n        this.props.setNotification({ error, message, slide: true });\r\n    }\r\n\r\n    onPDFClicked() {\r\n        const { pdf_path } = this.props.activity.Mechanic;\r\n        const file = `${serverURL}${pdf_path}`;\r\n        window.open(file);\r\n    }\r\n\r\n    async onReassignClicked() {\r\n        const { id } = this.props.activity;\r\n        const today = new Date();\r\n        let weekLater = new Date();\r\n        weekLater.setDate(weekLater.getDate() + 7);\r\n        const activityData = {\r\n            id,\r\n            date_from: today,\r\n            date_to: weekLater\r\n        };\r\n        const response = await this.props.updateActivity(activityData);\r\n        const { error, message } = response;\r\n        this.props.setNotification({ error, message, slide: true });\r\n    }\r\n\r\n    onTutorialClicked() {\r\n        const { tutorial_path } = this.props.activity.Mechanic;\r\n        let modal = { \r\n            title: 'Video tutorial', \r\n            type: 'video',\r\n            videoUrl: tutorial_path,\r\n        }\r\n        this.props.setModal(modal);\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapActionsToProps = {\r\n    removeActivity,\r\n    setModal,\r\n    setNotification,\r\n    updateActivity,\r\n};\r\n\r\nexport default connect(\r\n    null,\r\n    mapActionsToProps\r\n)(STActivityButtons);","import STActivityButtons from './STActivityButtons';\r\nexport default STActivityButtons;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React from 'react';\r\n\r\nconst structures = {\r\n    1: { letter: 'S', color: '#FF7043' },\r\n    2: { letter: 'AD', color: '#42A5F5' },\r\n    3: { letter: 'V', color: '#26A69A' }\r\n}\r\n\r\nconst SSyntacticCircle = (props) => {\r\n    const sid = props.id;\r\n    const structure = structures[sid];\r\n\r\n    let bgColor = 'darkgray';\r\n    if (structure.letter === props.letter)\r\n        bgColor = structure.color;\r\n\r\n    return(\r\n        <div style={{\r\n            alignItems: 'center',\r\n            backgroundColor: `${bgColor}`,\r\n            borderRadius: '50%',\r\n            color: 'white',\r\n            display: 'flex',\r\n            fontWeight: '600',\r\n            height: 37,\r\n            justifyContent: 'center',\r\n            width: 37\r\n        }}>\r\n            {props.letter}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SSyntacticCircle;","import STSyntacticCircle from './SSyntacticCircle';\r\nexport default STSyntacticCircle;","import STActivity from './STActivity';\r\nexport default STActivity;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './STActivity.module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { getFormattedDate } from '@utils/date&time';\r\n\r\nimport STActivityButtons from './STActivityButtons';\r\nimport STSynctaticCircle from './STSyntacticCircle';\r\n\r\nclass STActivity extends Component {\r\n    render() {\r\n        const aid = this.props.activity.id;\r\n        const date = this.props.activity.date_from.split('T')[0];\r\n        const sid = this.props.activity.Syntactic_Structure ? \r\n                    this.props.activity.Syntactic_Structure.id : null;\r\n\r\n        const { pid, tid } = this.props;\r\n\r\n        return(\r\n            <div className={styles.container}>\r\n                <div className={`flex ${styles.innerContainer}`}>\r\n                    <img\r\n                        alt=''\r\n                        className={styles.aimage}\r\n                        src='' />\r\n                    <div className={styles.rightContainer}>\r\n                        <div className={`flex ${styles.nameContainer}`}>\r\n                            <div className={styles.title}>\r\n                                { this.props.activity.Activity.name }\r\n                            </div>\r\n                            <div className={styles.date}>\r\n                                { this.getFormattedDate(date) }\r\n                            </div>\r\n                        </div>\r\n                        {sid && <div className={`flex ${styles.syntContainer}`}>\r\n                                <STSynctaticCircle letter='S' id={sid} />\r\n                                <STSynctaticCircle letter='AD' id={sid} />\r\n                                <STSynctaticCircle letter='V' id={sid} />\r\n                            </div>\r\n                        }\r\n                        <div className={styles.description}>\r\n                            { this.props.activity.Activity.description }\r\n                        </div>\r\n                        <Link \r\n                            to={\r\n                                `/terapeuta/${tid}/pacientes/${pid}/` + \r\n                                `actividades/${aid}/evolución`\r\n                            }\r\n                            className={`ghost-btn ${styles.btnEvolution}`}>\r\n                            Ver evolución\r\n                        </Link>\r\n                        <STActivityButtons activity={this.props.activity} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    /** Métodos extra */\r\n    getFormattedDate = (date) => {\r\n        return getFormattedDate(date);\r\n    }\r\n}\r\n\r\nexport default STActivity;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './STActivitiesPage.module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { getActivities, setActivities } from '@actions/activity';\r\nimport { getPatient, setPatient } from '@actions/patient';\r\n\r\nimport SEmpty from '@components/shared/SEmpty';\r\nimport STActivity from '@components/therapist/STActivity';\r\nimport STLayout from '@components/layout/STLayout';\r\nimport SSpinner from '@components/shared/SSpinner';\r\nimport SUserHero from '@components/shared/SUserHero';\r\n\r\nclass STActivitiesPage extends Component {\r\n    render() {\r\n        let { activities, patient, user } = this.props;\r\n        const id = user ? user.id : null;\r\n        const pid = patient ? patient.id : null;\r\n\r\n        activities = activities ? Object.values(activities) : [];\r\n        \r\n        /** Obtener ids del route path */\r\n        const { tid } = this.props.match.params;\r\n\r\n        return(\r\n            <div className={styles.container}>\r\n                <SUserHero user={patient} />\r\n                <STLayout pt={0} mt={298}>\r\n                    <div className={`flex ${styles.titleContainer}`}>\r\n                        <div className={styles.title}>\r\n                            Actividades asignadas\r\n                        </div>\r\n                        <div className={`flex ${styles.btnContainer}`}>\r\n                            <Link\r\n                                className={styles.link}\r\n                                to={\r\n                                    `/terapeuta/${tid}/pacientes/${pid}` +\r\n                                    `/actividades/histórico`\r\n                                }>\r\n                                <Button \r\n                                    className={`primary-btn left ${styles.btn}`}>\r\n                                    Histórico\r\n                                </Button>\r\n                            </Link>\r\n                            <Link\r\n                                className={styles.link}\r\n                                to={`/terapeuta/${id}/pacientes/${pid}/configuracion`}>\r\n                                <Button className={`secondary-btn ${styles.btn}`}>\r\n                                    Agregar actividad\r\n                                </Button>\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                    <div className={styles.listContainer}>\r\n                        {\r\n                            this.state.loading ?\r\n                            <SSpinner color='primary' />\r\n                            :\r\n                            activities && activities.length > 0 ?\r\n                            activities.map((activity) => {\r\n                                return(\r\n                                    <STActivity\r\n                                        activity={activity} \r\n                                        key={activity.id}\r\n                                        pid={pid}\r\n                                        tid={tid} />\r\n                                );\r\n                            })\r\n                            :\r\n                            <SEmpty>\r\n                                Este paciente aún no tiene actividades asignadas.\r\n                                Recuerda que puedes asignarle una actividad\r\n                                seleccionando la opción Agregar actividad.\r\n                            </SEmpty>\r\n                        }\r\n                    </div>\r\n                </STLayout>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { loading: false };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const { pid } = this.props.match.params;\r\n        /** Obtener las actividades del paciente */\r\n        this.setState({ loading: true });\r\n        await this.props.getActivities(pid);        \r\n        this.setState({ loading: false });\r\n        \r\n        /** Obtener la información del paciente */\r\n        await this.props.getPatient(pid);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.setActivities(null);\r\n        this.props.setPatient(null);\r\n    }\r\n}\r\n\r\n/** Funciones para el store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        activities: state.activity.activities,\r\n        patient: state.patient.patient,\r\n        user: state.user.user,\r\n    };\r\n}\r\n\r\nconst mapActionsToProps = {\r\n    getActivities,\r\n    getPatient,\r\n    setActivities,\r\n    setPatient\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapActionsToProps\r\n)(STActivitiesPage);","import STActivitiesPage from './STActivitiesPage';\r\nexport default STActivitiesPage;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React from 'react';\r\nimport styles from './STOption.module.css';\r\nimport { Button } from 'reactstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCheckCircle } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst STOption = (props) => {\r\n    const selected = props.option.selected ? styles.selected : '';\r\n\r\n    return(\r\n        <Button \r\n            className={`ghost-btn ${styles.container}`}\r\n            onClick={() => {\r\n                onOptionClicked(props);\r\n            }}>\r\n            <div className={`flex ${styles.inner} ${selected}`}>\r\n                <div className={styles.name}>\r\n                    { props.option.name }\r\n                </div>\r\n                <FontAwesomeIcon\r\n                    icon={faCheckCircle}\r\n                    size='2x' />\r\n            </div>\r\n        </Button>\r\n    );\r\n}\r\n\r\n/** Métodos extra */\r\nconst onOptionClicked = (props) => {\r\n    props.onOptionSelected(props.option);\r\n}\r\n\r\nexport default STOption;","import STOption from './STOption';\r\nexport default STOption;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React from 'react';\r\nimport styles from './STField.module.css';\r\nimport { Col, Row } from 'reactstrap';\r\n\r\nimport SSpinner from '@components/shared/SSpinner';\r\nimport STOption from './STOption';\r\n\r\nconst STField = (props) => {\r\n    let { options } = props;\r\n    options = options ? Object.values(options) : [];\r\n\r\n    return(\r\n        <div className={styles.container}>\r\n            <div className={styles.title}>\r\n                { props.title }\r\n            </div>\r\n            <div className={styles.subtitle}>\r\n                { props.subtitle }\r\n            </div>\r\n            {\r\n                props.loading ?\r\n                <SSpinner color='primary' />\r\n                :\r\n                options && options.length > 0 ?\r\n                <Row className={styles.optionRow} noGutters>\r\n                    {options.map(option => {\r\n                        return(\r\n                            <Col\r\n                                className={styles.optionCol}\r\n                                key={option.id} \r\n                                sm={{ size: 12 }}\r\n                                md={{ size: 4 }}>\r\n                                <STOption\r\n                                    onOptionSelected={(option) => {\r\n                                        onOptionSelected(props, option);\r\n                                    }} \r\n                                    option={option} />\r\n                            </Col>\r\n                        );\r\n                    })}\r\n                </Row> \r\n                : null\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\n/** Métodos extra */\r\nconst onOptionSelected = (props, option) => {\r\n    props.onOptionSelected(option);\r\n}\r\n\r\nexport default STField;","import STField from './STField';\r\nexport default STField;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n    getDynamicOptions,\r\n    resetDynamicOptions,\r\n    setDynamicSelectedOptions\r\n} from '@actions/dynamic';\r\nimport {\r\n    showCreateActivityButton\r\n} from '@actions/ui';\r\n\r\nimport STField from '@components/therapist/STField';\r\n\r\nclass STDynamicField extends Component {\r\n    render() {\r\n        return(\r\n            <STField \r\n                {...this.props} \r\n                onOptionSelected={this.onOptionSelected} />\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.onOptionSelected = this.onOptionSelected.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        /** Obtener las opciones si es el primer field */\r\n        if (this.props.first)\r\n            this.getOptions({ fieldId: this.props.id });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        /** Limpiar configuraciones y selecciones */\r\n        const fields = [\r\n            'mechanic',\r\n            'situations',\r\n            'times',\r\n            'reader'\r\n        ];\r\n        fields.forEach(field => {\r\n            this.props.resetDynamicOptions({ fieldId: field });\r\n        });\r\n        \r\n        this.props.showCreateActivityButton(false);\r\n    }\r\n\r\n    /** Métodos extra */\r\n    buildDynamic(option) {\r\n        /** Resetear las opciones relacionadas */\r\n        const { reset } = this.props;\r\n        if (reset)\r\n            reset.forEach(r => {\r\n                this.props.resetDynamicOptions({ fieldId: r });\r\n            });\r\n        \r\n        /** Esconder el botón encargado de mandar a crear la actividad */\r\n        this.props.showCreateActivityButton(false);\r\n\r\n        /** Setear la opción seleccionada */\r\n        this.props.setDynamicSelectedOptions({\r\n            fieldId: this.props.id,\r\n            optionId: option.id\r\n        });\r\n\r\n        /** Obtener las opciones del siguiente field */\r\n        if (this.props.next) {\r\n            let data = { fieldId: this.props.next };\r\n            /** \r\n             * Verificar si el siguiente field requiere los ids\r\n             * de las opciones elegidas anteriormente\r\n             */\r\n            const field = this.props.dynamic[this.props.next];\r\n            if (field.required) {\r\n                const requiredIds = this.getRequiredIds(field.required);\r\n                data.required = requiredIds;\r\n            }\r\n\r\n            this.getOptions(data);\r\n        }\r\n        else\r\n            this.props.showCreateActivityButton(true);\r\n    }\r\n\r\n    async getOptions(data) {\r\n        await this.props.getDynamicOptions(data);\r\n    }\r\n\r\n    /** Obtener los ids de los fields requeridos */\r\n    getRequiredIds(required) {\r\n        let rIds = {};\r\n        required.forEach(r => {\r\n            const rField = this.props.dynamic[r];\r\n            const options = Object.values(rField.options);\r\n            options.forEach(option => {\r\n                if (option.selected)\r\n                    rIds[`${rField.id}Id`] = option.id;\r\n            });\r\n        });\r\n\r\n        return rIds;\r\n    }\r\n\r\n    onOptionSelected(option) {\r\n        this.buildDynamic(option);\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        dynamic: state.dynamic\r\n    };\r\n}\r\n\r\nconst mapActionsToProps = {\r\n    getDynamicOptions,\r\n    resetDynamicOptions,\r\n    setDynamicSelectedOptions,\r\n    showCreateActivityButton,\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapActionsToProps\r\n)(STDynamicField);","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport axios from 'axios';\r\nimport {\r\n    RESET_DYNAMIC_OPTIONS,\r\n    SET_DYNAMIC_OPTIONS,\r\n    SET_DYNAMIC_SELECTED_OPTIONS,\r\n} from './types';\r\n\r\nconst apiURL = process.env.REACT_APP_API_URL;\r\n\r\n/** Obtener las opciones para un field en particular */\r\nexport const getDynamicOptions = (fieldData) => async (dispatch) => {\r\n    const { fieldId } = fieldData;\r\n\r\n    if (fieldId === 'mechanic' || fieldId === 'situations') {\r\n        let url = `${apiURL}`;\r\n        if (fieldId === 'mechanic') {\r\n            url = `${url}/dynamic/mechanics`;\r\n        }\r\n        else {\r\n            const { mechanicId } = fieldData.required;\r\n            url = `${url}/dynamic/mechanics/${mechanicId}/situations`;\r\n        }\r\n\r\n        try {\r\n            const response = await axios.get(url);\r\n            const { data: { data, message, status }} = response;\r\n\r\n            const options = status === 200 ? data : null;\r\n            const error = status !== 200;\r\n\r\n            dispatch({\r\n                type: SET_DYNAMIC_OPTIONS,\r\n                payload: { fieldId, options }\r\n            });\r\n\r\n            return { error, message };                            \r\n        }\r\n        catch (err) {\r\n            return { error: true, message: err };\r\n        }\r\n    }\r\n    else { \r\n        let options;\r\n        if (fieldId === 'times') {\r\n            options = {\r\n                1: { id: 1, name: 'Presente' },\r\n                /*2: { id: 2, name: 'Pasado' },\r\n                3: { id: 3, name: 'Futuro' }*/\r\n            };\r\n        }\r\n        else if (fieldId === 'reader') {\r\n            options = {\r\n                1: { id: 1, name: 'Si' },\r\n                2: { id: 2, name: 'No' }\r\n            };\r\n        }\r\n\r\n        dispatch({\r\n            type: SET_DYNAMIC_OPTIONS,\r\n            payload: { fieldId, options }\r\n        });\r\n    }\r\n}\r\n\r\n/** Resetear las opciones seleccionadas */\r\nexport const resetDynamicOptions = (fieldData) => (dispatch) => {\r\n    dispatch({ \r\n        type: RESET_DYNAMIC_OPTIONS, \r\n        payload: fieldData \r\n    });\r\n}\r\n\r\n/** Setear las opciones seleccionadas */\r\nexport const setDynamicSelectedOptions = (fieldData) => (dispatch) => {\r\n    dispatch({ \r\n        type: SET_DYNAMIC_SELECTED_OPTIONS, \r\n        payload: fieldData \r\n    });\r\n}","import STDynamicField from './STDynamicField';\r\nexport default STDynamicField;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport STDynamicField from './STDynamicField';\r\n\r\nclass STDynamic extends Component {\r\n    render() {\r\n        return(\r\n            <div>\r\n                <STDynamicField {...this.props.dynamic.mechanic} />\r\n                <STDynamicField {...this.props.dynamic.situations} />\r\n                <STDynamicField {...this.props.dynamic.times} />\r\n                <STDynamicField {...this.props.dynamic.reader} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        dynamic: state.dynamic\r\n    };\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps\r\n)(STDynamic);","import STDynamic from './STDynamic';\r\nexport default STDynamic;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport axios from 'axios';\r\nimport {\r\n    ADD_STATIC_SELECTED_OPTION,\r\n    RESET_STATIC_OPTIONS,\r\n    SET_STATIC_OPTIONS,\r\n    SET_STATIC_SELECTED_OPTIONS \r\n} from './types';\r\n\r\nconst apiURL = process.env.REACT_APP_API_URL;\r\n\r\n/** Agregar una opción seleccionada (solo para multichoice) */\r\nexport const addStaticSelectedOption = (fieldData) => (dispatch) => {\r\n    dispatch({\r\n        type: ADD_STATIC_SELECTED_OPTION,\r\n        payload: fieldData\r\n    });\r\n}\r\n\r\n/** Obtener la información de las siguientes opciones */\r\nexport const getStaticOptions = (fieldData) => async (dispatch) => {\r\n    const { fieldId } = fieldData;\r\n\r\n    let url = null;\r\n    if (fieldId === 'category')\r\n        url = `${apiURL}/static/categories`\r\n\r\n    else if (fieldId === 'subcategory') {\r\n        const { categoryId } = fieldData.required;\r\n        url = `${apiURL}/static/categories/${categoryId}/subcategories`;\r\n    }\r\n\r\n    else if (fieldId === 'sintactic')\r\n        url = `${apiURL}/static/structures`;\r\n        \r\n    else if (fieldId === 'vocabulary' || fieldId === 'mechanic') {\r\n        const { subcategoryId, sintacticId } = fieldData.required;\r\n        const sid = subcategoryId;\r\n        const stid = sintacticId;\r\n        url = `${apiURL}/static/subcategories/${sid}/structures/${stid}`;\r\n\r\n        if (fieldId === 'vocabulary')\r\n            url = `${url}/vocabularies`;\r\n        else\r\n            url = `${url}/mechanics`;\r\n    }\r\n    \r\n    if (url) {\r\n        /** Realizar el request */\r\n        try {\r\n            const response = await axios.get(url);\r\n            const { data: { data, message, status }} = response;\r\n\r\n            const options = status === 200 ? data : null;\r\n            const error = status !== 200;\r\n\r\n            dispatch({\r\n                type: SET_STATIC_OPTIONS,\r\n                payload: { fieldId, options }\r\n            });\r\n\r\n            return { error, message };\r\n        }\r\n        catch (err) {\r\n            return { error: true, message: err };\r\n        }\r\n    }\r\n}\r\n\r\n/** Resetear las opciones */\r\nexport const resetStaticOptions = (fieldData) => (dispatch) => {\r\n    dispatch({ \r\n        type: RESET_STATIC_OPTIONS, \r\n        payload: fieldData \r\n    });\r\n}\r\n\r\n/** Marcar como opción seleccionada */\r\nexport const setStaticSelectedOptions = (optionData) => (dispatch) => {\r\n    dispatch({ \r\n        type: SET_STATIC_SELECTED_OPTIONS, \r\n        payload: optionData \r\n    });\r\n}","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n    addStaticSelectedOption,\r\n    getStaticOptions,\r\n    resetStaticOptions, \r\n    setStaticSelectedOptions\r\n} from '@actions/static';\r\nimport {\r\n    showCreateActivityButton\r\n} from '@actions/ui';\r\n\r\nimport STField from '@components/therapist/STField';\r\n\r\nclass STStaticField extends Component {\r\n    render() {\r\n        return(\r\n            <STField \r\n                {...this.props}\r\n                onOptionSelected={this.onOptionSelected} />\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.onOptionSelected = this.onOptionSelected.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        /** Obtener las opciones si es el primer field */\r\n        if (this.props.first)\r\n            this.getOptions({ fieldId: this.props.id });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        /** Limpiar todas las opciones y selecciones configuradas */\r\n        const fields = [ \r\n            'category', \r\n            'subcategory', \r\n            'sintactic', \r\n            'vocabulary',\r\n            'mechanic' \r\n        ];\r\n        fields.forEach(field => {\r\n            this.props.resetStaticOptions({ fieldId: field });\r\n        });\r\n        \r\n        this.props.showCreateActivityButton(false);\r\n    }\r\n\r\n    /** Métodos extra */\r\n    buildStatic(option) {\r\n        /** Resetear las opciones relacionadas */\r\n        const { reset } = this.props;\r\n        if (reset)\r\n            reset.forEach(r => {\r\n                this.props.resetStaticOptions({ fieldId: r });\r\n            });\r\n        \r\n        /** Esconder el botón encargado de mandar a crear la actividad */\r\n        this.props.showCreateActivityButton(false);\r\n\r\n        let getNextOptions = true;\r\n        if (this.props.multichoice) {\r\n            /** Adicionar opciones seleccionadas */\r\n            this.props.addStaticSelectedOption({\r\n                fieldId: this.props.id,\r\n                optionId: option.id\r\n            });\r\n\r\n            getNextOptions = this.checkMinimun();\r\n        }\r\n        else {\r\n            /** Setear opciones como seleccionadas */\r\n            this.props.setStaticSelectedOptions({ \r\n                fieldId: this.props.id, \r\n                optionId: option.id \r\n            });\r\n        }\r\n\r\n        /** Pedir la información del siguiente field */\r\n        if (getNextOptions) {\r\n            if (this.props.next) {\r\n                let data = { fieldId: this.props.next };\r\n                /** \r\n                 * Verificar si el próximo field requiere ids\r\n                 * de las opciones elegidas\r\n                 */\r\n                const field = this.props.static[this.props.next];\r\n                if (field.required) {\r\n                    const requiredIds = this.getRequiredIds(field.required);\r\n                    data.required = requiredIds;\r\n                }\r\n                \r\n                this.getOptions(data);\r\n            }\r\n            else\r\n                this.props.showCreateActivityButton(true);\r\n        }\r\n    }\r\n\r\n    /** Chequear si se cumple el mínimo de selecciones necesarias */\r\n    checkMinimun() {\r\n        let { options } = this.props;\r\n        options = Object.values(options);\r\n        let selected = 0;\r\n        options.forEach(option => {\r\n            if (option.selected) selected += 1;\r\n        });\r\n\r\n        return selected >= this.props.minimum;\r\n    }\r\n\r\n    async getOptions(data) {\r\n        await this.props.getStaticOptions(data);\r\n    }\r\n\r\n    /** Obtener los ids de los fields requeridos */\r\n    getRequiredIds(required) {\r\n        let rIds = {};\r\n        required.forEach(r => {\r\n            const rField = this.props.static[r];\r\n            const options = Object.values(rField.options);\r\n            options.forEach(option => {\r\n                if (option.selected)\r\n                    rIds[`${rField.id}Id`] = option.id;\r\n            });\r\n        });\r\n\r\n        return rIds;\r\n    }\r\n\r\n    onOptionSelected(option) {\r\n        this.buildStatic(option);\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        static: state.static\r\n    };\r\n}\r\n\r\nconst mapActionsToProps = {\r\n    addStaticSelectedOption,\r\n    getStaticOptions,\r\n    resetStaticOptions,\r\n    setStaticSelectedOptions,\r\n    showCreateActivityButton,\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapActionsToProps\r\n)(STStaticField);","import STStaticField from './STStaticField';\r\nexport default STStaticField;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport STStaticField from './STStaticField';\r\n\r\nclass STStatic extends Component {\r\n    render() {\r\n        return(\r\n            <div>\r\n                <STStaticField {...this.props.static.category} />\r\n                <STStaticField {...this.props.static.subcategory} />\r\n                <STStaticField {...this.props.static.sintactic} />\r\n                <STStaticField {...this.props.static.vocabulary} />\r\n                <STStaticField {...this.props.static.mechanic} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        static: state.static,\r\n    };\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps\r\n)(STStatic);","import STStatic from './STStatic';\r\nexport default STStatic;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './STConfigurationPage.module.css';\r\nimport { Button, Spinner } from 'reactstrap';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { createActivity } from '@actions/activity';\r\nimport {\r\n    buildConfiguration,\r\n    resetConfiguration\r\n} from '@actions/configuration';\r\nimport { getPatient } from '@actions/patient';\r\nimport { setNotification } from '@actions/ui';\r\n\r\nimport STDynamic from '@components/therapist/STDynamic';\r\nimport STLayout from '@components/layout/STLayout';\r\nimport STStatic from '@components/therapist/STStatic';\r\n\r\nclass STConfigurationPage extends Component {\r\n    render() {\r\n        if (this.state.redirect) {\r\n            const { tid, pid } = this.props.match.params;\r\n            const url = `/terapeuta/${tid}/pacientes/${pid}/actividades`;\r\n            return <Redirect to={url} push />\r\n        }\r\n\r\n        /** Definir las clases para los botones */\r\n        const buttonStatic = `primary-btn-outline left ${styles.btn} \r\n                                ${this.state.option === 'static' ?\r\n                                styles.btnSelected : ''}`;\r\n\r\n        const buttonDynamic = `primary-btn-outline ${styles.btn} \r\n                                ${this.state.option === 'dynamic' ? \r\n                                styles.btnSelected : ''}`;\r\n\r\n        return(\r\n            <STLayout pt={50}>\r\n                <div className={styles.title}>\r\n                    Configurar una nueva actividad\r\n                </div>\r\n                <div className={`flex ${styles.btnContainer}`}>\r\n                    <Button\r\n                        className={buttonStatic}\r\n                        color='primary'\r\n                        name='static'\r\n                        onClick={this.onOptionClicked}\r\n                        outline>\r\n                        Descripción estática\r\n                    </Button>\r\n                    <Button\r\n                        className={buttonDynamic}\r\n                        color='primary'\r\n                        name='dynamic'\r\n                        onClick={this.onOptionClicked}\r\n                        outline>\r\n                        Descripción dinámica\r\n                    </Button>\r\n                </div>\r\n                <div className={styles.container}>\r\n                    {\r\n                        this.state.option === 'static' ?\r\n                        <STStatic />\r\n                        :\r\n                        <STDynamic />\r\n                    }\r\n                </div>\r\n                {\r\n                    this.props.ui.showCreateActivityButton ?\r\n                    <div className={styles.createContainer}>\r\n                        <Button \r\n                            className={`secondary-btn ${styles.create}`}\r\n                            onClick={this.onCreateActivityClicked}>\r\n                            {\r\n                                this.state.loading ?\r\n                                <Spinner color='dark' size='sm' />\r\n                                :\r\n                                <span>Crear actividad</span>\r\n                            }\r\n                        </Button>\r\n                    </div> : null\r\n                }\r\n            </STLayout>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n          loading: false, \r\n          option: 'static',\r\n          patient: null, \r\n          redirect: false \r\n        };\r\n        this.onCreateActivityClicked = this.onCreateActivityClicked.bind(this);\r\n        this.onOptionClicked = this.onOptionClicked.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        if (this.props.patient === null) {\r\n            const { pid } = this.props.match.params;\r\n            await this.props.getPatient(pid);\r\n        }\r\n        this.setState({ patient: this.props.patient });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.resetConfiguration();\r\n    }\r\n\r\n    /** Métodos */\r\n    async prepareAndCreateActivity() {\r\n        this.setState({ loading: true });\r\n\r\n        const fields = this.state.option === 'static' ?\r\n                       this.props.static : this.props.dynamic;\r\n\r\n        /** Resetear cualquier configuración previa */\r\n        this.props.resetConfiguration();\r\n        /** Construir la configuración */\r\n        const configuration = this.props.buildConfiguration(\r\n            { fields }, this.state.patient\r\n        );\r\n\r\n        /** Crear la actividad */\r\n        const response = await this.props.createActivity(configuration);\r\n        const { error, message } = response;\r\n\r\n        this.setState({ loading: false, redirect: true });        \r\n        this.props.setNotification({ error, message, slide: true });\r\n    }\r\n\r\n    onCreateActivityClicked() {\r\n        if (!this.state.loading)\r\n            this.prepareAndCreateActivity();\r\n    }\r\n\r\n    onOptionClicked(e) {\r\n        this.setState({ option: e.target.name });\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        dynamic: state.dynamic,\r\n        patient: state.patient.patient,\r\n        static: state.static,\r\n        ui: state.ui\r\n    };\r\n}\r\n\r\nconst mapActionsToProps = {\r\n    buildConfiguration,\r\n    createActivity,\r\n    getPatient,\r\n    resetConfiguration,\r\n    setNotification,\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapActionsToProps\r\n)(STConfigurationPage);","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport {\r\n    RESET_CONFIGURATION,\r\n    SET_CONFIGURATION\r\n} from './types';\r\n\r\nexport const buildConfiguration = (fieldsData, patient) => (dispatch) => {\r\n    const fields = fieldsData.fields;\r\n    const keys = Object.keys(fields);\r\n\r\n    let configuration = {};\r\n    /** Construir la configuración con las opciones seleccionadas */\r\n    keys.forEach(key => {\r\n        const field = fields[key];\r\n        let options = field.options;\r\n        options = Object.values(options);\r\n\r\n        options.forEach(option => {\r\n            /** Verificar que la opción se haya seleccionado */\r\n            if (option.selected) {\r\n                /** Verificar si el field admite múltiples selecciones */\r\n                if (field.multichoice) {\r\n                    /** Verificar si el field ya existe en la configuración */\r\n                    if (configuration[key])\r\n                        /** Si ya existe entonces se anexa la opción */\r\n                        configuration[key].push(option)\r\n                    else\r\n                        /** Si no existe entonces se crea un nuevo array\r\n                         * teniendo como primer elemento la opción\r\n                         */\r\n                        configuration[key] = [option];\r\n                }\r\n                else\r\n                    configuration[key] = option;\r\n            }\r\n        });\r\n    });\r\n\r\n    /** Anexar a la configuración la información del paciente */\r\n    configuration.patient = patient;\r\n\r\n    dispatch({ \r\n        type: SET_CONFIGURATION, \r\n        payload: { configuration }\r\n    });\r\n    \r\n    return configuration;\r\n}\r\n\r\nexport const resetConfiguration = () => (dispatch) => {\r\n    dispatch({ \r\n        type: RESET_CONFIGURATION \r\n    });\r\n}","import STConfigurationPage from './STConfigurationPage';\r\nexport default STConfigurationPage;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport axios from 'axios';\r\nimport { \r\n    SET_FEEDBACK_DATA,\r\n    SET_FEEDBACK_DATE \r\n} from './types';\r\n\r\nconst apiURL = process.env.REACT_APP_API_URL;\r\n\r\n/** Obtener niveles */\r\nexport const getLevels = (_data, historical = false) => async (dispatch) => {\r\n    let url = apiURL;\r\n    if (historical) {\r\n        const { pid, startDate, endDate, mid } = _data;\r\n        url = `${url}/feedback/historical/${pid}/${mid}/levels` +\r\n                `?start=${startDate}&end=${endDate}`;\r\n    }\r\n    else {\r\n        const { id } = _data;\r\n        url = `${url}/feedback/${id}/levels`;\r\n    }\r\n\r\n    try {\r\n        const response = await axios.get(url);\r\n        const { data: { data, message, status }} = response;\r\n        \r\n        const feedData = status === 200 ? data : null;\r\n        const error = status !== 200;\r\n        \r\n        dispatch({ \r\n            type: SET_FEEDBACK_DATA, \r\n            payload: { feedData }\r\n        });\r\n\r\n        return { error, message };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err };\r\n    }\r\n}\r\n\r\n/** Obtener matches */\r\nexport const getMatches = (_data, historical = false) => async (dispatch) => {\r\n    let url = apiURL;\r\n    if (historical) { \r\n        const { pid, startDate, endDate, mid } = _data;\r\n        url = `${url}/feedback/historical/${pid}/${mid}/matches` +\r\n                `?start=${startDate}&end=${endDate}`;\r\n    }\r\n    else {\r\n        const { id } = _data;\r\n        url = `${url}/feedback/${id}/matches`;\r\n    }\r\n\r\n    try {\r\n        const response = await axios.get(url);\r\n        const { data: { data, message, status }} = response;\r\n\r\n        const feedData = status === 200 ? data : null;\r\n        const error = status !== 200;\r\n\r\n        dispatch({ \r\n            type: SET_FEEDBACK_DATA, \r\n            payload: { feedData }\r\n        });\r\n\r\n        return { error, message };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err };\r\n    }\r\n}\r\n\r\n/** Obtener phrases */\r\nexport const getPhrases = (_data, historical = false) => async (dispatch) => {\r\n    let url = apiURL;    \r\n    if (historical) {\r\n        const { pid, startDate, endDate, mid } = _data;\r\n        url = `${url}/feedback/historical/${pid}/${mid}/phrases` +\r\n                `?start=${startDate}&end=${endDate}`;\r\n    }\r\n    else {\r\n        const { id } = _data;\r\n        url = `${url}/feedback/${id}/phrases`;\r\n    }    \r\n\r\n    try {\r\n        const response = await axios.get(url);\r\n        const { data: { data, message, status }} = response;\r\n\r\n        const feedData = status === 200 ? data : null;\r\n        const error = status !== 200;\r\n        \r\n        dispatch({ \r\n            type: SET_FEEDBACK_DATA, \r\n            payload: { feedData }\r\n        });\r\n\r\n        return { error, message };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err };\r\n    }\r\n}\r\n\r\nexport const getSecuences = (_data, historical = false) => async (dispatch) => {\r\n    let url = apiURL;\r\n    if (historical) {\r\n        const { pid, startDate, endDate, mid } = _data;\r\n        url = `${url}/feedback/historical/${pid}/${mid}/secuences` +\r\n                `?start=${startDate}&end=${endDate}`;\r\n    }\r\n    else {\r\n        const { id } = _data;\r\n        url = `${url}/feedback/${id}/secuences`;\r\n    }\r\n\r\n    try {\r\n        const response = await axios.get(url);\r\n        const { data: { data, message, status }} = response;\r\n\r\n        const feedData = status === 200 ? data : null;\r\n        const error = status !== 200;\r\n\r\n        dispatch({\r\n            type: SET_FEEDBACK_DATA,\r\n            payload: { feedData }\r\n        });\r\n\r\n        return { error, message };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err };\r\n    }\r\n}\r\n\r\n/** Obtener sesiones para histórico de tiempos */\r\nexport const getSessions = (_data) => async (dispatch) => {\r\n    const { pid, startDate, endDate, mid } = _data;\r\n    const url = `${apiURL}/feedback/historical/${pid}/${mid}/sessions` +\r\n                `?start=${startDate}&end=${endDate}`;\r\n\r\n    try {\r\n        const response = await axios.get(url);\r\n        const { data: { data, message, status }} = response;\r\n        \r\n        const feedData = status === 200 ? data : null;\r\n        const error = status !== 200;\r\n        \r\n        dispatch({ \r\n            type: SET_FEEDBACK_DATA, \r\n            payload: { feedData }\r\n        });\r\n\r\n        return { error, message };\r\n    }\r\n    catch (err) {\r\n        return { error: true, message: err };        \r\n    };\r\n}\r\n\r\nexport const setFeedData = (feedData) => (dispatch) => {\r\n    dispatch({ \r\n        type: SET_FEEDBACK_DATA, \r\n        payload: { feedData }\r\n    });\r\n}\r\n\r\nexport const setFeedDate = (feedDate) => (dispatch) => {\r\n    dispatch({ \r\n        type: SET_FEEDBACK_DATE, \r\n        payload: { feedDate }\r\n    });\r\n}","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SDatePicker.module.css';\r\nimport { connect } from 'react-redux';\r\nimport { setFeedDate } from '@actions/feedback';\r\nimport DatePicker, { registerLocale } from 'react-datepicker';\r\nimport es from 'date-fns/locale/es';\r\nregisterLocale('es', es);\r\n\r\nclass SDatePicker extends Component {\r\n    render() {\r\n        const { form } = this.props;\r\n        let showMonthYear = true;\r\n        let showYearDropdown = false;\r\n        let style = styles.input;\r\n        let dateFormat = \"MMMM 'de' yyyy\";\r\n        if (form) {\r\n            showMonthYear = false;\r\n            showYearDropdown = true;\r\n            style = styles.completeInput;\r\n            dateFormat = \"dd/MM/yyyy\";\r\n        }\r\n\r\n        return(\r\n            <div>\r\n                <DatePicker\r\n                    className={style}\r\n                    dateFormat={dateFormat}\r\n                    locale='es'\r\n                    onChange={this.onDateChanged}\r\n                    popperPlacement='top-end'\r\n                    ref={this.pickerRef}\r\n                    selected={this.state.date}\r\n                    showMonthYearPicker={showMonthYear}\r\n                    showFullMonthYearPicker\r\n                    showYearDropdown={showYearDropdown}\r\n                    scrollableYearDropdown\r\n                    withPortal />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { date: null };\r\n        this.pickerRef = React.createRef();\r\n        this.onDateChanged = this.onDateChanged.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        /** Deshabilitar el teclado */\r\n        if (this.pickerRef && this.pickerRef.current.input)\r\n            this.pickerRef.current.input.readOnly = true;\r\n        \r\n        const { date, feedDate, form } = this.props;\r\n        this.setState({ date: form ? date : feedDate });\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.date !== prevProps.date)\r\n            this.setState({ date: this.props.date });\r\n    }\r\n\r\n    /** Métodos extra */\r\n    onDateChanged(date) {\r\n        this.setState({ date });\r\n        const { form, name } = this.props;\r\n        if (form)\r\n            this.props.onChange({ target: { value: date, name }});\r\n        else\r\n            this.props.setFeedDate(date);\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        feedDate: state.feedback.feedDate\r\n    };\r\n}\r\n\r\nconst mapActionsToProps = {\r\n    setFeedDate\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapActionsToProps\r\n)(SDatePicker);","import SDatePicker from './SDatePicker';\r\nexport default SDatePicker;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport { getDatesDifference } from './date&time';\r\n\r\nconst structuresData = {\r\n    Pronombre: { color: 'rgba(248, 196, 113, 0.8)', title: 'Pronombre'},\r\n    Sustantivo: { color: 'rgba(240, 178, 122, 0.8)', title: 'Sustantivo' },\r\n    Adjetivo: { color: 'rgba(127, 179, 213, 0.8)', title: 'Adjetivo' },\r\n    Verbo: { color: 'rgba(115, 198, 182, 0.8)', title: 'Verbo' },\r\n    Artículo: { color: 'rgba(241, 148, 138, 0.8)', title: 'Artículo' },\r\n    Conjunción: { color: 'rgba(247, 220, 111, 0.8)', title: 'Conjunción' },\r\n    Preposición: { color: 'rgba(39, 174, 96, 0.8)', title: 'Preposición' },\r\n};\r\n\r\n/** Funciones públicas */\r\n\r\n/** Construir data para stackbar de palabras */\r\nexport const buildWordHitsData = (data, kind, color) => {\r\n    /** Obtener sólo los registros pertenecientes al tipo correcto */\r\n    const feeds = Object.values(data);\r\n    let records = [];\r\n    feeds.forEach(feed => {\r\n        if (feed.kind === kind) \r\n            records.push(feed);\r\n    });\r\n\r\n    /** Construir los labels a partir de las palabras */\r\n    let labels = [];\r\n    records.forEach(record => {\r\n        if (!labels.includes(record.word)) \r\n            labels.push(record.word);\r\n    });\r\n\r\n    /** Construir porcentajes de aciertos y desaciertos por cada palabra */\r\n    let hits = [];\r\n    let misses = [];\r\n    labels.forEach((label, i) => {\r\n        let wordTotal = 0;\r\n        let hitTotal = 0;\r\n        records.forEach(record => {\r\n            if (record.word === label) {\r\n                /** Contar el número de aciertos */\r\n                if (record.checked) hitTotal += 1;\r\n                wordTotal += 1;\r\n            }            \r\n        });\r\n\r\n        /** Cálculo de porcentajes */\r\n        const hitsPercentage = Math.floor((hitTotal * 100) / wordTotal);\r\n        const missesPercentage = 100 - hitsPercentage;\r\n\r\n        /** Agregar los porcentajes a sus respectivos arrays */\r\n        hits.push(hitsPercentage);\r\n        misses.push(missesPercentage);\r\n        labels[i] = `${label}(${wordTotal})`;\r\n    });\r\n\r\n    /** retornar chartData */\r\n    return {\r\n        labels,\r\n        datasets: [{\r\n            label: 'Aciertos',\r\n            data: hits,\r\n            backgroundColor: color\r\n        }, {\r\n            label: 'Desaciertos',\r\n            data: misses,\r\n            backgroundColor: 'rgba(229, 231, 233, 0.7)'\r\n        }]\r\n    };\r\n}\r\n\r\n/** Construir data para linebar de palabras */\r\nexport const buildMatchErrorsData = (data, word) => {\r\n    /** Obtener los registros del tipo correcto */\r\n    const matches = Object.values(data);\r\n    let records = [];\r\n    matches.forEach(match => {\r\n        if (match.variable === word)\r\n            records.push(match);\r\n    });\r\n\r\n    /** Construir data */\r\n    let labels = []; /** Apariciones de la variable */\r\n    let occurrence = 1;\r\n    let attempts = [];\r\n    let errors = 0;\r\n    records.forEach(record => {\r\n        /** Verificar si el registro actual fue un match correcto */\r\n        if (record.is_good) {\r\n            /** Si es correcto (orden del siguiente código):\r\n              * a. Guardar una ocurrencia.\r\n              * b. Guardar los errores por intento.\r\n              * c. Sumar la ocurrencia para la siguiente verificación.\r\n              * d. Resetear los errores.\r\n              */\r\n            labels.push(occurrence);\r\n            attempts.push(errors);\r\n\r\n            occurrence += 1;\r\n            if (errors > 0) errors = 0;\r\n        }\r\n        else\r\n            /** Contar el error para la misma ocurrencia */\r\n            errors += 1;\r\n    });\r\n\r\n    /** Retornar chartData */\r\n    return {\r\n        labels,\r\n        datasets: [{\r\n            label: 'Curva de errores',\r\n            data: attempts,\r\n            backgroundColor: 'rgba(241, 148, 138, 0.5)',\r\n            borderColor: 'rgba(241, 148, 138, 1.0)'\r\n        }]\r\n    };\r\n}\r\n\r\n/** */\r\nexport const buildPhrasesSummary = (groupedPhrases) => {\r\n    /** Contar el porcetaje de frases 100% correctas */\r\n    let hits = 0;\r\n    groupedPhrases.forEach(phrase => {\r\n        if (phrase.percentage === 100)\r\n            hits += 1;\r\n    });\r\n\r\n    /** Calcular porcentajes */\r\n    const totalPhrases = groupedPhrases.length;\r\n    const hitsPercentage = Math.floor((hits * 100) / totalPhrases);\r\n    const errorPencetage = 100 - hitsPercentage;\r\n\r\n    /** Retornar chartData */\r\n    return {\r\n        chartData: {\r\n            labels: [ 'Correctas', 'Incorrectas' ],\r\n            datasets: [{\r\n                label: '',\r\n                data: [ hitsPercentage, errorPencetage ],\r\n                backgroundColor: [\r\n                    '#73C6B6',\r\n                    '#E5E7E9'\r\n                ]\r\n            }]\r\n        },\r\n        hits,\r\n        total: totalPhrases\r\n    };\r\n}\r\n\r\n/** Construir los datos de los tiempos a partir de las sesiones */\r\nexport const buildTimes = (data) => {\r\n    const sessions = Object.values(data);\r\n\r\n    let labels = [];\r\n    let minutes = [];\r\n    sessions.forEach(session => {\r\n        /** Obtener la diferencia de tiempos en minutos */\r\n        const diff = getDatesDifference(session.date_start, session.date_end);\r\n\r\n        minutes.push(Math.round(diff.minutes));\r\n        labels.push(`ID ${session.id}`);\r\n    });\r\n\r\n    /** Retornar chartData */\r\n    return {\r\n        labels,\r\n        datasets: [{\r\n            label: 'Curva de tiempo',\r\n            data: minutes,\r\n            backgroundColor: 'rgba(241, 148, 138, 0.5)',\r\n            borderColor: 'rgba(241, 148, 138, 1.0)'\r\n        }]\r\n    };\r\n}\r\n\r\n/** Obtener estructuras trabajadas */\r\nexport const getStructures = (phrasesData) => {\r\n    const phrases = Object.values(phrasesData);\r\n\r\n    /** Construir el objeto de estructuras */\r\n    let structures = {};\r\n    phrases.forEach(phrase => {\r\n        /** Incluir el tipo de estructura siempre y cuando no\r\n          * esté presente en el array\r\n          */\r\n        const keys = Object.keys(structures);\r\n        const { kind } = phrase;\r\n        if (!keys.includes(kind))\r\n            structures[kind] = structuresData[kind];\r\n    });\r\n\r\n    /** Retornar como un array */\r\n    return Object.values(structures);\r\n}\r\n\r\n/** Obtener el vocabulario trabajado */\r\nexport const getWords = (matchesData) => {\r\n    const matches = Object.values(matchesData);\r\n\r\n    /** Construir el array de palabras */\r\n    let words = [];\r\n    matches.forEach(match => {\r\n        if (!words.includes(match.variable))\r\n            words.push(match.variable);\r\n    });\r\n\r\n    return words;\r\n}\r\n\r\n/** Agrupar las frases */\r\nexport const groupPhrases = (phrasesData) => {\r\n    const phrases = Object.values(phrasesData);\r\n\r\n    /** Agrupar frases con su porcentage de palabras correctas */\r\n    let grouped = [];\r\n    let lastPhrase = phrases.shift();\r\n    let words = [ lastPhrase ];\r\n    let hits = lastPhrase.checked ? 1 : 0;\r\n    phrases.forEach((phrase, i) => {\r\n        if (phrase.id_phrase === lastPhrase.id_phrase) {\r\n            words.push(phrase);\r\n            /** Contabilizar correctas */\r\n            if (phrase.checked) hits += 1;\r\n            /** Si el phrase es el último, agregar registro al \r\n              * array de frases agrupadas\r\n              */\r\n            if (i === (phrases.length - 1)) {\r\n                const record = buildRecord(words, hits);\r\n                grouped.push(record);\r\n            }\r\n        }\r\n        else if (phrase.id_phrase !== lastPhrase.id_phrase) {\r\n            /** Agregar nuevo registro al array de frases agrupadas */\r\n            const record = buildRecord(words, hits);\r\n            grouped.push(record);\r\n\r\n            /** Resetear valores */\r\n            lastPhrase = phrase;\r\n            words = [ lastPhrase ];\r\n            hits = lastPhrase.checked ? 1 : 0;\r\n        }\r\n    });\r\n\r\n    return grouped;\r\n}\r\n\r\n/** Funciones privadas */\r\n\r\n/** Construir un registro */\r\nconst buildRecord = (words, hits) => {\r\n    /** Calcular el porcentaje de palabras correctas */\r\n    const totalWords = words.length;\r\n    const percentage = Math.floor((hits * 100) / totalWords);\r\n    /** Ordenar el array de words */\r\n    words.sort((a, b) => {\r\n        return a.order_phrase > b.order_phrase ? 1 : -1;\r\n    });\r\n\r\n    return { percentage, words };\r\n}","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nconst chartOptions = {\r\n    doughnut: () => {\r\n        return {\r\n            legend: {\r\n                labels: {\r\n                    boxWidth: 10,\r\n                    usePointStyle: true\r\n                }\r\n            },\r\n            tooltips: {\r\n                enabled: true,\r\n                mode: 'single',\r\n                callbacks: {\r\n                    label: (tooltipItem, data) => {\r\n                        const label = data.labels[tooltipItem.index];\r\n                        const value = data.datasets[0].data[tooltipItem.index];\r\n                        return `${value}% de ${label.toLowerCase()}`;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    line: (metric) => {\r\n        return {\r\n            legend: {\r\n                align: 'end',\r\n                labels: {\r\n                    boxWidth: 10,\r\n                    usePointStyle: true\r\n                }\r\n            },\r\n            scales: {\r\n                xAxes: [{\r\n                    scaleLabel: {\r\n                        display: true,\r\n                        labelString: metric === 'match' ? \r\n                                    'Apariciones del vocabulario' : 'Sesiones'\r\n                    }\r\n                }],\r\n                yAxes: [{\r\n                    scaleLabel: {\r\n                        display: true,\r\n                        labelString: metric === 'match' ? \r\n                                    'Número de errores' : 'Minutos'\r\n                    },\r\n                    ticks: {\r\n                        beginAtZero: true,\r\n                        steps: 10,\r\n                        stepSize: metric === 'match' ? 1 : 10,\r\n                        max: metric === 'match' ? 10 : 60\r\n                    }\r\n                }]\r\n            },\r\n            tooltips: {\r\n                enabled: true,\r\n                mode: 'single',\r\n                callbacks: {\r\n                    label: (tooltipItem, data) => {\r\n                        let label = tooltipItem.yLabel;\r\n                        label = label + `${metric === 'match' ?\r\n                                ' error(es)' : ' minuto(s)'}`;\r\n                                    \r\n                        return label;\r\n\r\n                    },\r\n                    title: (tooltipItems, data) => {\r\n                        if (metric === 'match') {\r\n                            const label = tooltipItems[0].yLabel;\r\n                            return `${label} error(es) de ${label + 1} intento(s)`\r\n                        }\r\n                        else {\r\n                            const label = tooltipItems[0].xLabel;\r\n                            return `Sesión ${label}`;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    stackBar: () => {\r\n        return {\r\n            legend: {\r\n                align: 'end',\r\n                labels: {\r\n                    boxWidth: 10,\r\n                    usePointStyle: true\r\n                }\r\n            },\r\n            scales: {\r\n                xAxes: [{\r\n                    scaleLabel: {\r\n                        display: true,\r\n                        labelString: 'Palabras asociadas'\r\n                    },\r\n                    stacked: true\r\n                }],\r\n                yAxes: [{\r\n                    scaleLabel: {\r\n                        display: true,\r\n                        labelString: '% de aciertos/desaciertos'\r\n                    },\r\n                    ticks: {\r\n                        beginAtZero: true,\r\n                        steps: 10,\r\n                        stepSize: 10,\r\n                        max: 100\r\n                    },\r\n                    stacked: true\r\n                }]\r\n            },\r\n            tooltips: {\r\n                enabled: true,\r\n                mode: 'single',\r\n                callbacks: {\r\n                    label: (tooltipItem, data) => {\r\n                        let yLabel = data.datasets[tooltipItem.datasetIndex].label;\r\n                        return tooltipItem.yLabel + '% de ' +\r\n                                yLabel.toLowerCase();\r\n                                \r\n                    },\r\n                    title: (tooltipItems, data) => {\r\n                        const split = tooltipItems[0].xLabel.split('(');\r\n                        const word = split[0];\r\n                        const right = split[1];\r\n                        const total = parseInt(right.split(')')[0], 10);\r\n                        const part = Math.round((tooltipItems[0].yLabel) * total / 100);\r\n\r\n                        return `${word}(${part} de ${total})`;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default chartOptions;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './Charts.module.css';\r\nimport { Col } from 'reactstrap';\r\nimport { Doughnut } from 'react-chartjs-2';\r\nimport { buildPhrasesSummary } from '@utils/feedback';\r\n\r\nimport SContainer from '@components/shared/SContainer';\r\n\r\nimport charts from '@data/charts';\r\nconst { doughnut } = charts;\r\n\r\nclass STDoughnut extends Component {\r\n    render() {\r\n        return(\r\n            <Col \r\n                sm={this.props.sm}\r\n                md={this.props.md} \r\n                className={styles.container}>\r\n                <SContainer>\r\n                    <p className={styles.title}>\r\n                        {this.props.title}\r\n                    </p>\r\n\r\n                    <Doughnut \r\n                        data={this.state.chartData}\r\n                        options={this.state.options}\r\n                        height={this.props.height} />\r\n\r\n                    <div className={styles.percentage}>\r\n                        {this.state.percentage}%\r\n                    </div>\r\n                    <p className={styles.description}>\r\n                        {this.state.description}\r\n                    </p>\r\n                </SContainer>\r\n            </Col>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            chartData: {},\r\n            description: '',\r\n            options: doughnut(),\r\n            percentage: 0\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { data } = this.props;\r\n        const { chartData, hits, total } = buildPhrasesSummary(data);\r\n        /** Obtener porcentaje de correctas */\r\n        const { datasets } = chartData;\r\n        const percentage = datasets[0].data[0];\r\n\r\n        const description = `El paciente pronunció correctamente ${hits} ` +\r\n                            `de un total de ${total} frases`;\r\n\r\n        this.setState({ \r\n            chartData,\r\n            description,\r\n            percentage,\r\n        });\r\n    }\r\n}\r\n\r\nexport default STDoughnut;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './Charts.module.css';\r\nimport { Col } from 'reactstrap';\r\nimport { getDatesDifference } from '@utils/date&time';\r\n\r\nimport SContainer from '@components/shared/SContainer';\r\n\r\nclass STLevel extends Component {\r\n    render() {\r\n        const { data } = this.props;\r\n        return(\r\n            <Col\r\n                sm={this.props.sm}\r\n                md={this.props.md}\r\n                lg={this.props.lg} \r\n                className={styles.container}>\r\n                <SContainer>\r\n                    <div className='flex'>\r\n                        <div style={{ width: '100%' }}>\r\n                            <div className='flex'>\r\n                                <div className={styles.title}>\r\n                                    Nivel {data.level}\r\n                                </div>\r\n                                <div className={styles.title}>\r\n                                    Sesión {data.id_session}\r\n                                </div>\r\n                            </div>\r\n                            <div className={styles.score}>{data.score}</div>\r\n                            <div className={styles.subtitle}>Puntos ganados</div>\r\n                            <div className={`${styles.score} ${styles.mt20}`}>\r\n                                {this.setLevelTime()}\r\n                            </div>\r\n                            <div className={styles.subtitle}>\r\n                                Minutos para terminar nivel\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </SContainer>\r\n            </Col>\r\n        );\r\n    }\r\n\r\n    /** Métodos extra */\r\n    setLevelTime() {\r\n        const { date_start, date_end } = this.props.data;\r\n        const diff = getDatesDifference(date_start, date_end).minutes;\r\n        return Math.round(diff);\r\n    }\r\n}\r\n\r\nexport default STLevel;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './Charts.module.css';\r\nimport { Col } from 'reactstrap';\r\nimport { Line } from 'react-chartjs-2';\r\nimport { \r\n    buildMatchErrorsData, \r\n    buildTimes \r\n} from '@utils/feedback';\r\n\r\nimport SContainer from '@components/shared/SContainer';\r\n\r\nimport charts from '@data/charts';\r\nconst { line } = charts;\r\n\r\nclass STLine extends Component {\r\n    render() {\r\n        return(\r\n            <Col \r\n                sm={this.props.sm} \r\n                md={this.props.md} \r\n                className={styles.container}>\r\n                <SContainer>\r\n                    <p className={styles.title}>\r\n                        {\r\n                            this.props.metric === 'match' ?\r\n                            <span>{this.props.title}</span>\r\n                            :\r\n                            <span>Tiempos en minutos</span>\r\n                        }\r\n                    </p>\r\n\r\n                    <Line\r\n                        data={this.state.chartData}\r\n                        options={this.state.options}\r\n                        height={this.props.height} />\r\n                </SContainer>\r\n            </Col>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            chartData: {},\r\n            options: line(this.props.metric)\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { data, metric, title } = this.props;\r\n        if (data) {\r\n            const chartData = metric === 'match' ? \r\n                                buildMatchErrorsData(data, title)\r\n                                :\r\n                                buildTimes(data);\r\n            this.setState({ chartData });\r\n        }\r\n    }\r\n}\r\n\r\nexport default STLine;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './Charts.module.css';\r\nimport { Col } from 'reactstrap';\r\n\r\nimport SContainer from '@components/shared/SContainer';\r\n\r\nclass STPhrases extends Component {\r\n    render() {\r\n        return(\r\n            <Col sm='12' md='7' className={styles.container}>\r\n                <SContainer>\r\n                    <p className={styles.title}>\r\n                        Palabras correctas por frases\r\n                    </p>\r\n\r\n                    {this.state.phrases.map((phrase, i) => {\r\n                        return (\r\n                            <div className='flex' key={i}>\r\n                                <div className={`flex ${styles.wordsContainer}`}>\r\n                                    {phrase.words.map((word, j) => {\r\n                                        return(\r\n                                            <div\r\n                                                className={styles.word} \r\n                                                key={j}\r\n                                                style={{\r\n                                                    color: word.checked ?\r\n                                                    'black': '#F1948A'\r\n                                                }}>\r\n                                                {word.word}\r\n                                            </div>\r\n                                        );\r\n                                    })}\r\n                                </div>\r\n                                <div className={styles.phrasePercentage}>\r\n                                    {phrase.percentage}%\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </SContainer>\r\n            </Col>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            phrases: []\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ phrases: this.props.data });\r\n    }\r\n}\r\n\r\nexport default STPhrases;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './Charts.module.css';\r\nimport { Col } from 'reactstrap';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport { buildWordHitsData } from '@utils/feedback';\r\n\r\nimport SContainer from '@components/shared/SContainer';\r\n\r\nimport charts from '@data/charts';\r\nconst { stackBar } = charts;\r\n\r\nclass STStackBar extends Component {\r\n    render() {\r\n        return(\r\n            <Col \r\n                sm={this.props.sm} \r\n                md={this.props.md} \r\n                lg={this.props.lg} \r\n                className={styles.container}>\r\n                <SContainer>\r\n                    <p className={styles.title}>\r\n                        {this.props.title}\r\n                    </p>\r\n                    <Bar\r\n                        data={this.state.chartData}\r\n                        options={this.state.options} \r\n                        height={this.props.height} />\r\n                </SContainer>                \r\n            </Col>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            chartData: {},\r\n            options: stackBar()\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { color, data, title } = this.props;\r\n        if (data) {\r\n            const chartData = buildWordHitsData(data, title, color);\r\n            this.setState({ chartData });\r\n        }\r\n    }\r\n}\r\n\r\nexport default STStackBar;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @mintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './Feedback.module.css';\r\nimport { Col, Row } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { getWords } from '@utils/feedback';\r\n\r\nimport { STLine } from '@components/therapist/charts';\r\n\r\nclass STInGame extends Component {\r\n    render() {\r\n        return(\r\n            <Row noGutters>\r\n                <Col sm='12'>\r\n                    <div className={styles.subtitle}>\r\n                        Emparejamiento de vocabulario\r\n                    </div>\r\n                </Col>\r\n                {this.state.words.map((word, i) => {\r\n                    return <STLine\r\n                                sm='12'\r\n                                md='4'\r\n                                data={this.state.matchesData}\r\n                                height={230}\r\n                                key={i}\r\n                                metric='match'\r\n                                title={word} />\r\n                })}\r\n            </Row>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { matchesData: null, words: [] };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { feedData } = this.props;\r\n        const matchesData = feedData.Matches_Feeds;\r\n        if (matchesData) {\r\n            const words = getWords(matchesData);\r\n            this.setState({ matchesData, words });\r\n        }\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        feedData: state.feedback.feedData,\r\n        session: state.activity.session\r\n    };\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps\r\n)(STInGame);","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './Feedback.module.css';\r\nimport { Col, Row } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\n\r\nimport STLevel from '@components/therapist/charts/STLevel';\r\n\r\nclass STLevels extends Component {\r\n    render() {\r\n        return(\r\n            <Row noGutters>\r\n                <Col xs='12'>\r\n                    <div className={styles.subtitle}>\r\n                        Niveles en la sesión\r\n                    </div>\r\n                </Col>\r\n                {this.state.levels.map(level => {\r\n                    return(\r\n                        <STLevel \r\n                            sm='12'\r\n                            md='6'\r\n                            lg='4'\r\n                            data={level} \r\n                            key={level.id} />\r\n                    );\r\n                })}\r\n            </Row>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { levels: [] };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setLevels();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.setLevels();\r\n    }\r\n\r\n    /** Métodos extra */\r\n    setLevels() {\r\n        const { Levels_Feeds } = this.props.feedData;\r\n        const { levels } = this.state;\r\n        if (Levels_Feeds && levels.length === 0) {\r\n            const levels = Object.values(Levels_Feeds);\r\n            this.setState({ levels });\r\n        }\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        feedData: state.feedback.feedData\r\n    };\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps\r\n)(STLevels);","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './Feedback.module.css';\r\nimport { Col, Row } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { STLine } from '@components/therapist/charts';\r\n\r\nclass STTimes extends Component {\r\n    render() {\r\n        const { sessionsData } = this.state;\r\n        return(\r\n            <Row noGutters>\r\n                <Col sm='12'>\r\n                    <div className={styles.subtitle}>\r\n                        Tiempos por sesiones de la actividad\r\n                    </div>\r\n                </Col>\r\n                {sessionsData &&\r\n                <STLine\r\n                    sm='12'\r\n                    md='6'\r\n                    data={sessionsData}\r\n                    height={200}\r\n                    metric='time' />}\r\n            </Row>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { sessionsData: null };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { feedData } = this.props;\r\n        const sessionsData = feedData.Sessions_Feeds;\r\n        if (sessionsData)\r\n            this.setState({ sessionsData });\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        feedData: state.feedback.feedData\r\n    };\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps\r\n)(STTimes);","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './Feedback.module.css';\r\nimport { Col, Row } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { getStructures, groupPhrases } from '@utils/feedback';\r\n\r\nimport { \r\n    STDoughnut,\r\n    STPhrases,\r\n    STStackBar \r\n} from '@components/therapist/charts';\r\n\r\nclass STVocalization extends Component {\r\n    render() {\r\n        const { groupedPhrases } = this.state;        \r\n        return(\r\n            <Row noGutters>\r\n                <Col sm='12'>\r\n                    <div className={styles.subtitle}>\r\n                        Frases trabajadas en la actividad\r\n                    </div>\r\n                </Col>\r\n                {groupedPhrases && <STDoughnut \r\n                    sm='12'\r\n                    md='5'\r\n                    data={groupedPhrases}\r\n                    height={160}\r\n                    title='Resumen de las frases' />}\r\n                {this.props.feedback === 'evolution' && groupedPhrases &&\r\n                    <STPhrases data={groupedPhrases} />}\r\n\r\n                <Col sm='12'>\r\n                    <div className={styles.subtitle}>\r\n                        Discriminación por estructura sintáctica\r\n                    </div>\r\n                </Col>\r\n                {this.state.structures.map((structure, i) => {\r\n                    return (\r\n                        <STStackBar\r\n                            sm='12'\r\n                            md='6'\r\n                            lg='4'\r\n                            color={structure.color}\r\n                            data={this.state.phrasesData}\r\n                            height={230}\r\n                            key={i} \r\n                            title={structure.title} />\r\n                    );\r\n                })}\r\n            </Row>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            groupedPhrases: null, \r\n            phrasesData: null, \r\n            structures: [] \r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { feedData } = this.props;\r\n        const phrasesData = feedData.Phrases_Feeds;\r\n        if (phrasesData) {\r\n            const groupedPhrases = groupPhrases(phrasesData);\r\n            const structures = getStructures(phrasesData);\r\n            this.setState({ \r\n                groupedPhrases,\r\n                phrasesData, \r\n                structures \r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        feedData: state.feedback.feedData\r\n    };\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps\r\n)(STVocalization);","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nexport const mechanics = {\r\n    1: { \r\n        id: 1, \r\n        name: 'Dominó', \r\n        alias: 'Do', \r\n        semantic_description: 1 \r\n    },\r\n    2: {\r\n        id: 2,\r\n        name: 'Ordenando',\r\n        alias: 'Or',\r\n        semantic_description: 1\r\n    },\r\n    3: {\r\n        id: 3,\r\n        name: 'Secuencia',\r\n        alias: 'Se',\r\n        semantic_description: 2\r\n    }\r\n}","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './STFeedOptions.module.css';\r\nimport { Button } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { mechanics } from '@data/mechanics';\r\n\r\nclass STFeedOptions extends Component {\r\n    render() {\r\n        const { option } = this.state;\r\n        const base = `secondary-btn-outline ${styles.btn}`;\r\n        /** Definición de los estilos de los botones */\r\n        let btnVocal = option === 'vocalization' ? \r\n                         `${base} ${styles.selected}` : base;\r\n\r\n        let btnMecha = option === 'inGame' ? \r\n                         `${base} ${styles.selected}` : base;\r\n\r\n        let btnLevel = option === 'levels' ? \r\n                         `${base} ${styles.selected}` : base;\r\n\r\n        let btnTimes = option === 'times' ? \r\n                         `${base} ${styles.selected}` : base;\r\n\r\n        /** Deshabilitar botones de acuerdo a la descripción semántica */\r\n        if (this.state.description === 2) {\r\n            btnVocal = `${btnVocal} ${styles.disabled}`;\r\n            btnMecha = `${btnMecha} ${styles.disabled}`;\r\n        }\r\n        \r\n        const { feedback } = this.props;\r\n        let contWidth = 400;\r\n        let btnWidth = 32.5;\r\n        if (feedback === 'historical') {\r\n            contWidth = 500;\r\n            btnWidth = 24.5;\r\n        }\r\n\r\n        return(\r\n            <div \r\n                className={`flex ${styles.btnContainer}`}\r\n                style={{ '--contWidth': `${contWidth}px` }}>\r\n                <Button\r\n                    className={btnVocal}\r\n                    name='vocalization'\r\n                    onClick={this.onOptionClicked}\r\n                    style={{ '--btnWidth': `${btnWidth}%` }}>\r\n                    {\r\n                        this.props.windowWidth < 767 &&\r\n                        feedback === 'historical' ?\r\n                        <span className={styles.span}>\r\n                            Vocaliza...\r\n                        </span>\r\n                        :\r\n                        <span className={styles.span}>\r\n                            Vocalización\r\n                        </span>\r\n                    }\r\n                </Button>\r\n                <Button\r\n                    className={btnMecha}\r\n                    name='inGame'\r\n                    onClick={this.onOptionClicked}\r\n                    style={{ '--btnWidth': `${btnWidth}%` }}>\r\n                    Juego\r\n                </Button>\r\n                <Button\r\n                    className={btnLevel}\r\n                    name='levels'\r\n                    onClick={this.onOptionClicked}\r\n                    style={{ '--btnWidth': `${btnWidth}%` }}>\r\n                    Niveles\r\n                </Button>\r\n                {feedback === 'historical' && <Button\r\n                    className={btnTimes}\r\n                    name='times'\r\n                    onClick={this.onOptionClicked}\r\n                    style={{ '--btnWidth': `${btnWidth}%` }}>\r\n                    Tiempos\r\n                </Button>}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { description: 1, option: 'vocalization' }\r\n        this.onOptionClicked = this.onOptionClicked.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setStateValues();\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.mechanic !== this.props.mechanic)\r\n            this.setStateValues();\r\n    }\r\n\r\n    /** Métodos extra */\r\n    onOptionClicked(e) {\r\n        const { name } = e.target;\r\n        const { description } = this.state;\r\n        this.setState({ option: name });\r\n        this.props.onOptionClicked({ description, option: name });\r\n    }\r\n\r\n    setStateValues() {\r\n        const { feedback } = this.props;\r\n        let description = 1;\r\n        if (feedback === 'historical')\r\n            description = mechanics[this.props.mechanic].semantic_description;\r\n        else\r\n            description = this.props.activity.Mechanic.semantic_description;\r\n\r\n        const option = description === 1 ? 'vocalization' : 'levels';\r\n        this.setState({ description, option });\r\n        this.props.onOptionClicked({ description, option });\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        activity: state.activity.activity,\r\n        windowWidth: state.ui.windowWidth\r\n    };\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps\r\n)(STFeedOptions);","import STFeedOptions from './STFeedOptions';\r\nexport default STFeedOptions;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './STSession.module.css';\r\nimport { Button, Col } from 'reactstrap';\r\nimport { \r\n    getDatesDifference,\r\n    getFormattedDate\r\n } from '@utils/date&time';\r\nimport { connect } from 'react-redux';\r\n\r\nclass STSession extends Component {\r\n    render() {\r\n        /** Configuración del estilo del contenedor */\r\n        const { index, session, sessionSelected } = this.props;\r\n        let container = styles.container;\r\n        let innerContainer = styles.innerContainer;\r\n\r\n        /** Aplicar estilo al primer elemento y último elemento */\r\n        if (index === 0) container = `${container} ${styles.first}`;\r\n        else if (index === 2) container = `${container} ${styles.last}`;\r\n\r\n        if (sessionSelected && session.id === sessionSelected.id)\r\n            innerContainer = `${innerContainer} ${styles.selected}`;\r\n\r\n        return(\r\n            <Col xs='12' sm='6' md='4' className={container}>                \r\n                <Button \r\n                    className={`ghost-btn ${styles.btn}`}\r\n                    onClick={this.onClicked}>\r\n                    <div className={innerContainer}>\r\n                        <div className={`flex ${styles.title}`}>\r\n                            <span>Sesión</span>\r\n                            <span>ID: {session.id}</span>\r\n                        </div>\r\n                        <div className={styles.date}>\r\n                            Registro del {this.getFormattedDate(session.date_start)}\r\n                        </div>\r\n                        <div className={styles.time}>\r\n                            {this.getDifference(\r\n                                session.date_start, \r\n                                session.date_end)} minutos\r\n                        </div>\r\n                    </div>\r\n                </Button>                \r\n            </Col>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.onClicked = this.onClicked.bind(this);\r\n    }\r\n\r\n    /** Métodos extras */\r\n    /** Obtener la diferencia de tiempos en minutos */\r\n    getDifference(date_start, date_end) {\r\n        const diff = getDatesDifference(date_start, date_end);\r\n        return Math.round(diff.minutes);\r\n    }\r\n\r\n    getFormattedDate(date) {\r\n        return getFormattedDate(date);\r\n    }\r\n\r\n    onClicked() {\r\n        this.props.onClicked(this.props.session);\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        sessionSelected: state.activity.session\r\n    };\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps\r\n)(STSession);","import STSession from './STSession';\r\nexport default STSession;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis \r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './STSessions.module.css';\r\nimport { Row } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { setSession } from '@actions/activity';\r\n\r\nimport STSession from './STSession';\r\n\r\nclass STSessions extends Component {\r\n    render() {\r\n        return(\r\n            <Row className={styles.container} noGutters>\r\n                {\r\n                    this.props.sessions.map((session, i) => {\r\n                        return <STSession \r\n                                    index={i}\r\n                                    key={session.id}\r\n                                    onClicked={this.onSessionClicked}\r\n                                    session={session} />\r\n                    })\r\n                }                \r\n            </Row>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.onSessionClicked = this.onSessionClicked.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        const session = this.props.sessions[0];\r\n        this.setSession(session);\r\n    }\r\n\r\n    /** Métodos extra */\r\n    onSessionClicked(session) {\r\n        this.setSession(session);\r\n    }\r\n\r\n    setSession(session) {\r\n        this.props.setSession(session);\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapActionsToProps = {\r\n    setSession\r\n};\r\n\r\nexport default connect(\r\n    null,\r\n    mapActionsToProps\r\n)(STSessions);","import STSessions from './STSessions';\r\nexport default STSessions;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './STEvolution.module.css';\r\nimport { connect } from 'react-redux';\r\nimport { getLevels, getMatches, getPhrases, getSecuences } from '@actions/feedback';\r\n\r\nimport { \r\n    STInGame,\r\n    STLevels,\r\n    STVocalization \r\n} from '@components/therapist/feedback';\r\nimport SEmpty from '@components/shared/SEmpty';\r\nimport SSpinner from '@components/shared/SSpinner';\r\nimport STFeedOptions from '@components/therapist/feedback/STFeedOptions';\r\nimport STSessions from './STSessions';\r\n\r\nclass STEvolution extends Component {\r\n    render() {        \r\n        const sessions = Object.values(this.props.sessions);\r\n        \r\n        return(\r\n            <div className={styles.container}>\r\n                <STSessions sessions={sessions} />\r\n                <STFeedOptions\r\n                    feedback='evolution'\r\n                    onOptionClicked={this.onOptionClicked} />\r\n                {\r\n                    this.props.feedData === null ?\r\n                    <SEmpty>\r\n                        No existen registros que permitan construir las\r\n                        estadísticas solicitadas.\r\n                    </SEmpty>\r\n                    :\r\n                    this.state.loading ?\r\n                    <SSpinner color='primary' />\r\n                    :                    \r\n                    this.state.option === 'vocalization' ?\r\n                    <STVocalization feedback='evolution' />\r\n                    :\r\n                    this.state.option === 'inGame' ?\r\n                    <STInGame />\r\n                    :\r\n                    <STLevels />\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { loading: false, option: 'vocalization' };        \r\n        this.onOptionClicked = this.onOptionClicked.bind(this);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.session !== this.props.session)\r\n            this.getFeedback();\r\n    }\r\n\r\n    /** Métodos extra */\r\n    async getFeedback() {\r\n        const { session } = this.props;\r\n        if (session) {\r\n            const { id } = session;\r\n            const { option } = this.state;\r\n            \r\n            this.setState({ loading: true });\r\n            if (option === 'vocalization')\r\n                await this.props.getPhrases({ id });\r\n            else if (option === 'inGame')\r\n                await this.props.getMatches({ id });\r\n            else if (option === 'levels') {\r\n                const { activity: { Mechanic: { semantic_description }}} = this.props;\r\n                if (semantic_description === 1)\r\n                    await this.props.getLevels({ id });\r\n                else\r\n                    await this.props.getSecuences({ id });\r\n            }\r\n            \r\n            this.setState({ loading: false });\r\n        }\r\n    }\r\n\r\n    onOptionClicked(data) {\r\n        this.setState({ option: data.option }, () => this.getFeedback());\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        activity: state.activity.activity,\r\n        feedData: state.feedback.feedData,\r\n        sessions: state.activity.sessions,\r\n        session: state.activity.session\r\n    };\r\n}\r\n\r\nconst mapActionsToProps = {\r\n    getLevels,\r\n    getMatches,\r\n    getPhrases,\r\n    getSecuences,\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapActionsToProps\r\n)(STEvolution);","import STEvolution from './STEvolution';\r\nexport default STEvolution;","import STMechanics from './STMechanics';\r\nexport default STMechanics;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './STMechanics.module.css';\r\nimport { Button, UncontrolledTooltip } from 'reactstrap';\r\n\r\nimport { mechanics } from '@data/mechanics';\r\n\r\nclass STMechanics extends Component {\r\n    render() {\r\n        return(\r\n            <div className={`flex ${styles.container}`}>\r\n                {this.state.mechanics.map(mechanic => {\r\n                    let base = styles.btn;\r\n                    if (mechanic.id === this.state.selected)\r\n                        base = `${base} ${styles.selected}`;\r\n\r\n                    return (\r\n                        <div key={mechanic.id}>\r\n                            <Button\r\n                                className={`ghost-btn ${base}`}\r\n                                id={`utooltip${mechanic.name}`}\r\n                                name={mechanic.id}\r\n                                onClick={this.onMechanicClicked}>\r\n                                {mechanic.alias}\r\n                            </Button>\r\n                            <UncontrolledTooltip\r\n                                placement='right'\r\n                                target={`utooltip${mechanic.name}`}>\r\n                                {mechanic.name}\r\n                            </UncontrolledTooltip>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n            mechanics: Object.values(mechanics),\r\n            selected: 1\r\n        };\r\n        this.onMechanicClicked = this.onMechanicClicked.bind(this);\r\n    }\r\n\r\n    /** Métodos extra */\r\n    onMechanicClicked(e) {\r\n        let { name } = e.target;\r\n        name = parseInt(name, 10);\r\n        this.setState({ selected: name });\r\n        this.props.onMechanicClicked(name);\r\n    }\r\n}\r\n\r\nexport default STMechanics;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './STHistorical.module.css';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n    getLevels, \r\n    getMatches, \r\n    getPhrases,\r\n    getSecuences,\r\n    getSessions \r\n} from '@actions/feedback';\r\nimport { getDateBoundaries } from '@utils/date&time';\r\n\r\nimport { \r\n    STInGame,\r\n    STLevels,\r\n    STTimes,\r\n    STVocalization \r\n} from '@components/therapist/feedback';\r\nimport SEmpty from '@components/shared/SEmpty';\r\nimport SSpinner from '@components/shared/SSpinner';\r\nimport STFeedOptions from '@components/therapist/feedback/STFeedOptions';\r\nimport STMechanics from './STMechanics';\r\n\r\nclass STHistorical extends Component {\r\n    render() {\r\n        return(\r\n            <div className={styles.container}>\r\n                <STMechanics onMechanicClicked={this.onMechanicClicked} />\r\n                <STFeedOptions\r\n                    feedback='historical'\r\n                    mechanic={this.state.mid}\r\n                    onOptionClicked={this.onOptionClicked} />\r\n                {\r\n                    this.state.loading ?\r\n                    <SSpinner color='primary' />\r\n                    :\r\n                    this.props.feedData === null ?\r\n                    <SEmpty>\r\n                        No existen registros que permitan construir las\r\n                        estadísticas solicitadas.\r\n                    </SEmpty>\r\n                    :\r\n                    this.state.option === 'vocalization' ?\r\n                    <STVocalization feedback='historical' />\r\n                    :\r\n                    this.state.option === 'inGame' ?\r\n                    <STInGame />\r\n                    :\r\n                    this.state.option === 'levels' ?\r\n                    <STLevels />\r\n                    :\r\n                    <STTimes />                        \r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n            description: 1,\r\n            loading: false, \r\n            mid: 1,\r\n            option: 'vocalization' \r\n        };\r\n        this.onOptionClicked = this.onOptionClicked.bind(this);\r\n        this.onMechanicClicked = this.onMechanicClicked.bind(this);\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const { date } = this.props;\r\n        const { mid } = this.state;\r\n        if (date !== prevProps.date || mid !== prevState.mid)\r\n            this.getFeedback();\r\n    }\r\n\r\n    /** Métodos extras */\r\n    async getFeedback() {\r\n        const { date, pid } = this.props;\r\n        const { description, mid, option } = this.state;\r\n        /** Calcular las fechas límites */\r\n        const { startDate, endDate } = getDateBoundaries(date.toISOString());\r\n        const data = { pid, startDate, endDate, mid };\r\n\r\n        this.setState({ loading: true });\r\n        if (option === 'vocalization')\r\n            await this.props.getPhrases(data, true);\r\n        else if (option === 'inGame')\r\n            await this.props.getMatches(data, true);\r\n        else if (option === 'levels') {\r\n            if (description === 1)\r\n                await this.props.getLevels(data, true);\r\n            else\r\n                await this.props.getSecuences(data, true);\r\n        }\r\n        else if (option === 'times')\r\n            await this.props.getSessions(data, true);\r\n        \r\n        this.setState({ loading: false });\r\n    }\r\n\r\n    onOptionClicked(data) {\r\n        this.setState({ description: data.description, option: data.option }, \r\n            () => this.getFeedback());\r\n    }\r\n\r\n    onMechanicClicked(mechanic) {\r\n        this.setState({ mid: mechanic });\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        feedData: state.feedback.feedData,\r\n        date: state.feedback.feedDate\r\n    };\r\n}\r\n\r\nconst mapActionsToProps = {\r\n    getLevels,\r\n    getMatches,\r\n    getPhrases,\r\n    getSecuences,\r\n    getSessions\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapActionsToProps\r\n)(STHistorical);","import STHistorical from './STHistorical';\r\nexport default STHistorical;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './STFeedbackPage.module.css';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n    getActivity,\r\n    setActivity,\r\n    setSessions,\r\n    setSession\r\n} from '@actions/activity';\r\nimport { setFeedData } from '@actions/feedback';\r\n\r\nimport SDatePicker from '@components/shared/SDatePicker';\r\nimport SSpinner from '@components/shared/SSpinner';\r\nimport STEvolution from '@components/therapist/STEvolution';\r\nimport STHistorical from '@components/therapist/STHistorical';\r\nimport STLayout from '@components/layout/STLayout';\r\n\r\nclass STFeedbackPage extends Component {\r\n    render() {\r\n        const { kind, loading } = this.state;\r\n        const title = kind === 'evolución' ?\r\n                        'Evolución por sesiones' : 'Histórico por mes'\r\n        \r\n        const { pid } = this.props.match.params;\r\n        \r\n        return(\r\n            <STLayout page='feedback' pt={50}>\r\n                <div className={`flex ${styles.container}`}>\r\n                    <div className={styles.title}>\r\n                        {title}\r\n                    </div>\r\n                    {kind === 'histórico' && <SDatePicker />}\r\n                </div>\r\n                {\r\n                    loading ?\r\n                    <SSpinner color='primary' />\r\n                    :\r\n                    this.props.sessions && kind === 'evolución' ?\r\n                    <STEvolution />\r\n                    :\r\n                    kind === 'histórico' ?\r\n                    <STHistorical pid={pid} />\r\n                    :\r\n                    null\r\n                }\r\n            </STLayout>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { kind: 'evolución', loading: false };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { aid, kind } = this.props.match.params;\r\n        if (kind === 'evolución') \r\n            this.getActivity(aid);\r\n        \r\n        this.setState({ kind });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.setActivity(null);\r\n        this.props.setFeedData(null);\r\n        this.props.setSessions(null);\r\n        this.props.setSession(null);       \r\n    }\r\n\r\n    /** Métodos extra */\r\n    async getActivity(aid) {\r\n        this.setState({ loading: true });\r\n        await this.props.getActivity(aid);\r\n        this.setFirstSessions();\r\n        this.setState({ loading: false });\r\n    }\r\n\r\n    /** Setear las tres primeras sesiones de la actividad */\r\n    setFirstSessions() {\r\n        const { activity } = this.props;\r\n        let sessions = [];\r\n        if (activity) {\r\n            sessions = Object.values(activity.Activities_Sessions);\r\n            sessions = Object.assign({}, ...sessions.slice(0, 3).map(session => {\r\n                return { [session.id]: session };\r\n            }));\r\n        }\r\n        this.props.setSessions(sessions);\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        activity: state.activity.activity,\r\n        sessions: state.activity.sessions\r\n    };\r\n}\r\n\r\nconst mapActionsToProps = {\r\n    getActivity,\r\n    setActivity,\r\n    setFeedData,\r\n    setSessions,\r\n    setSession\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapActionsToProps\r\n)(STFeedbackPage);","import STFeedbackPage from './STFeedbackPage';\r\nexport default STFeedbackPage;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './STLogin.module.css';\r\nimport { \r\n    Button, \r\n    Form, \r\n    FormGroup, \r\n    Input, \r\n    Label,\r\n    Spinner\r\n} from 'reactstrap';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '@actions/auth';\r\n\r\nimport { THERAPIST } from '@data/roles';\r\n\r\n/** Login para el terapeuta */\r\nclass STLogin extends Component {\r\n    render() {\r\n        /** Redireccionar a los pacientes */\r\n        const { userId } = this.state;\r\n        if (userId)\r\n            return <Redirect to={`/terapeuta/${userId}/pacientes`} push />\r\n\r\n        return(\r\n            <div className={styles.container}>\r\n                <div className={styles.title}>Ingreso</div>\r\n                {this.state.error && <div className={styles.error}>\r\n                    Usuario o contraseña incorrectos. Inténtalo de nuevo.\r\n                </div>}\r\n                <Form>\r\n                    <FormGroup>\r\n                        <Label className={styles.label}>Nombre de usuario</Label>\r\n                        <Input \r\n                            name='username'\r\n                            onChange={this.onInputChanged}\r\n                            type='text' />\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Label className={styles.label}>Contraseña</Label>\r\n                        <Input\r\n                            name='password'\r\n                            onChange={this.onInputChanged} \r\n                            type='password' />\r\n                    </FormGroup>\r\n                    <Button\r\n                        className={`secondary-btn ${styles.btn}`}\r\n                        onClick={this.onLoginClicked}>\r\n                        {\r\n                            this.state.loading ?\r\n                            <Spinner color='dark' size='sm' />\r\n                            :\r\n                            <span>Entrar</span>\r\n                        }\r\n                    </Button>\r\n                </Form>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n            error: null, \r\n            loading: false,\r\n            password: '', \r\n            userId: null,\r\n            username: '',\r\n        };\r\n\r\n        this.onInputChanged = this.onInputChanged.bind(this);\r\n        this.onLogin = this.onLogin.bind(this);\r\n        this.onLoginClicked = this.onLoginClicked.bind(this);\r\n    }\r\n\r\n    /** Métodos */\r\n    onInputChanged(e) {\r\n        const { name, value } = e.target;\r\n        this.setState({ [name]: value });\r\n    }\r\n\r\n    async onLogin(username, password) {\r\n        this.setState({ loading: true });\r\n        const credentials = { username, password };\r\n        const response = await this.props.login(credentials, THERAPIST);\r\n        const { error, userId } = response;\r\n\r\n        this.setState({ error, loading: false, userId });\r\n    }\r\n\r\n    onLoginClicked(e) {\r\n        e.preventDefault();\r\n        if (!this.state.loading) {\r\n            const { username, password } = this.state;\r\n            if (username.trim() !== '' && password.trim() !== '')\r\n                this.onLogin(username, password);\r\n            else\r\n                this.setState({ \r\n                    error: 'El usuario y la contraseña son obligatorios' \r\n                });\r\n        }\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapActionsToProps = {\r\n    login\r\n};\r\n\r\nexport default connect(\r\n    null,\r\n    mapActionsToProps\r\n)(STLogin);","import STLogin from './STLogin';\r\nexport default STLogin;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport { Col, Row } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { \r\n    setBar, \r\n    setParallax,\r\n    showAvatar, \r\n    showMobileMenu \r\n} from '@actions/ui';\r\nimport { setUser } from '@actions/user';\r\n\r\nimport STLogin from '@components/therapist/STLogin';\r\n\r\n/** Página Landing del terapeuta */\r\nclass STLandingPage extends Component {\r\n    render() {\r\n        const { vOffset } = this.props.ui;\r\n\r\n        return(\r\n            <Row noGutters>\r\n                <Col sm='12' md='6'>\r\n                </Col>\r\n                <Col sm='12' md='6'>\r\n                    <div \r\n                        className='flex' \r\n                        style={{\r\n                            alignItems: 'flex-start', \r\n                            justifyContent: 'center',\r\n                            height: `calc(100vh - ${vOffset}px)`\r\n                        }}>\r\n                        <STLogin />\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n        );\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.setBar('standard');\r\n        this.props.setParallax(false);\r\n        this.props.showMobileMenu(false);\r\n        this.props.setUser(null);\r\n        this.props.showAvatar(false);\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        ui: state.ui\r\n    };\r\n}\r\n\r\nconst mapActionsToProps = {\r\n    setBar,\r\n    setParallax,\r\n    setUser,\r\n    showAvatar,\r\n    showMobileMenu,\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapActionsToProps\r\n)(STLandingPage);","import STLandingPage from './STLandingPage';\r\nexport default STLandingPage;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SSearch.module.css';\r\nimport { Input } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faSearch } from '@fortawesome/free-solid-svg-icons';\r\nimport { getPatients } from '@actions/patient';\r\nimport { getUsers } from '@actions/user';\r\n\r\nclass SSearch extends Component {\r\n    render() {\r\n        let searchContainer = styles.searchContainer;\r\n        if (this.props.patients)\r\n            searchContainer = `${searchContainer} ${styles.marginTop}`;\r\n\r\n        return(\r\n            <div className={`flex ${searchContainer}`}>\r\n                <FontAwesomeIcon \r\n                    className={styles.searchIcon}\r\n                    icon={faSearch} />\r\n                <Input \r\n                    className={styles.search}\r\n                    type='text'\r\n                    placeholder='Busca por nombre o identificación'\r\n                    onChange={this.onChange} />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.onChange = this.onChange.bind(this);\r\n    }\r\n\r\n    /** Métodos extra */\r\n    async onChange({ target: { value }}) {\r\n        const { patients } = this.props;\r\n        if (patients) {\r\n            const userId = patients === 'my' ? this.props.userId : null;\r\n            await this.props.getPatients(userId, value);\r\n        }\r\n        else\r\n            await this.props.getUsers(value);\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapActionsToProps = {\r\n    getPatients,\r\n    getUsers\r\n};\r\n\r\nexport default connect(\r\n    null,\r\n    mapActionsToProps\r\n)(SSearch);","import SSearch from './SSearch';\r\nexport default SSearch;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './STPatient.module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { createPatient, removePatient } from '@actions/patient';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCheckCircle } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst serverURL = process.env.REACT_APP_SERVER_URL;\r\n\r\nclass STPatient extends Component {\r\n    render() {\r\n        const { userId, patient } = this.props;\r\n        const { id } = patient;\r\n\r\n        return(\r\n            <div className={styles.container}>\r\n                <Link\r\n                    className={`ghost-btn ${styles.link}`}\r\n                    to={`/terapeuta/${userId}/pacientes/${id}/actividades`}>\r\n                    <div className={`flex ${styles.height} ${styles.padding}`}>\r\n                        <div className='flex'>\r\n                            {\r\n                                patient.profile_img ?\r\n                                <img\r\n                                    alt=''\r\n                                    className={styles.uimage}\r\n                                    src={`${serverURL}${patient.profile_img}`} />\r\n                                :\r\n                                <div\r\n                                    className={`flex ${styles.uimage} ${styles.thumb}`}\r\n                                    style={{ backgroundColor: patient.color}}>\r\n                                    { patient.thumbnail_alias }\r\n                                </div>\r\n                            }\r\n                            <div className={styles.padding}>\r\n                                <div className={styles.uname}>\r\n                                    { patient.name }&nbsp; \r\n                                    { patient.last_name }\r\n                                </div>\r\n                                <div className={styles.uinfo}>\r\n                                    Paciente desde 2019\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <Button \r\n                            className={`ghost-btn ${this.state.check}`}\r\n                            onClick={this.onAssignPatientClicked}>\r\n                            <FontAwesomeIcon \r\n                                icon={faCheckCircle} \r\n                                size='2x' />\r\n                        </Button>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { check: styles.btn };\r\n        this.onAssignPatientClicked = this.onAssignPatientClicked.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setCheck();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.setCheck();\r\n    }\r\n\r\n    /** Métodos */\r\n    checkTherapist(userId, patient) {\r\n        /** \r\n         * Verificar si el terapeuta asignado es el mismo terapeuta\r\n         * logueado \r\n         */\r\n        if (patient.Therapists) {\r\n            if (patient.Therapists[userId])\r\n                return true;\r\n        }\r\n        else if (patient.Therapists_Patients) {\r\n            if (userId === patient.Therapists_Patients.id_therapist)\r\n                return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    async onAssignPatientClicked(e) {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        const { userId, patient } = this.props;\r\n        if (this.checkTherapist(userId, patient))\r\n            await this.props.removePatient(userId, patient.id);\r\n        else\r\n            await this.props.createPatient(userId, patient.id);\r\n    }\r\n\r\n    setCheck() {\r\n        const { userId, patient } = this.props;\r\n        const check = this.checkTherapist(userId, patient) ?\r\n                      styles.btnActive : styles.btn;\r\n\r\n        if (check !== this.state.check)\r\n            this.setState({ check });\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapActionsToProps = {\r\n    createPatient,\r\n    removePatient,\r\n}\r\n\r\nexport default connect(\r\n    null,\r\n    mapActionsToProps\r\n)(STPatient);","import STPatient from './STPatient';\r\nexport default STPatient;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './STPatientsPage.module.css';\r\nimport { Button } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { getPatients, setPatients } from '@actions/patient';\r\n\r\nimport SEmpty from '@components/shared/SEmpty';\r\nimport SSearch from '@components/shared/SSearch';\r\nimport SSpinner from '@components/shared/SSpinner';\r\nimport STLayout from '@components/layout/STLayout';\r\nimport STPatient from '@components/therapist/STPatient';\r\n\r\nclass STPatientsPage extends Component {\r\n    render() {\r\n        /** Definir las clases para los botones */\r\n        const buttonMy = `primary-btn-outline left ${styles.btn} \r\n                            ${this.state.option === 'my' ? \r\n                            styles.btnSelected : ''}`;\r\n\r\n        const buttonAll = `primary-btn-outline ${styles.btn} \r\n                            ${this.state.option === 'all' ?\r\n                            styles.btnSelected : ''}`;\r\n\r\n        let { patients } = this.props;\r\n        patients = patients ? Object.values(this.props.patients) : [];\r\n\r\n        return(\r\n            <STLayout pt={50}>\r\n                <div className={styles.title}>Pacientes</div>\r\n                <div className={`flex ${styles.searchContainer}`}>\r\n                    <div className={`flex ${styles.btnContainer}`}>\r\n                        <Button\r\n                            className={buttonMy}\r\n                            name='my'\r\n                            onClick={this.onOptionSelected}\r\n                            outline>\r\n                            Mis pacientes\r\n                        </Button>\r\n                        <Button\r\n                            className={buttonAll}\r\n                            name='all'\r\n                            onClick={this.onOptionSelected}\r\n                            outline>\r\n                            Todos los pacientes\r\n                        </Button>\r\n                    </div>\r\n                    <SSearch \r\n                        patients={this.state.option}\r\n                        userId={this.state.userId} />\r\n                </div>\r\n                <div className={styles.listContainer}>\r\n                    {\r\n                        this.state.loading ?\r\n                        <SSpinner color='primary' />\r\n                        :\r\n                        patients && patients.length > 0 ?\r\n                        patients.map(patient => {\r\n                            return(\r\n                                <STPatient\r\n                                    key={patient.id} \r\n                                    patient={patient}\r\n                                    userId={this.state.userId} />\r\n                            );\r\n                        })\r\n                        : \r\n                        <SEmpty>\r\n                            No se encontraron pacientes. Recuerda que puedes\r\n                            asignarte pacientes en la opción Todos los pacientes.\r\n                        </SEmpty>\r\n                    }\r\n                </div>\r\n            </STLayout>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { loading: false, option: 'my', userId: null };\r\n        this.onOptionSelected = this.onOptionSelected.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.setState({ userId: this.props.match.params.tid }, () => {\r\n            this.getPatientsList(this.state.userId);\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.setPatients(null);\r\n    }\r\n\r\n    /** Métodos */\r\n    async getPatientsList(userId) {\r\n        this.setState({ loading: true });\r\n        await this.props.getPatients(userId);\r\n\r\n        this.setState({ loading: false });\r\n    }\r\n\r\n    onOptionSelected(e) {\r\n        this.setState({ option: e.target.name }, () => {\r\n            let userId = this.state.option === 'my' ? this.state.userId : null;\r\n            this.getPatientsList(userId);\r\n        });\r\n    }\r\n}\r\n\r\n/** Funciones para el store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        patients: state.patient.patients,\r\n    };\r\n}\r\n\r\nconst mapActionsToProps = {\r\n    getPatients,\r\n    setPatients\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapActionsToProps\r\n)(STPatientsPage);","import STPatientsPage from './STPatientsPage';\r\nexport default STPatientsPage;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SAUser.module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faEdit } from '@fortawesome/free-solid-svg-icons';\r\nimport { connect } from 'react-redux';\r\nimport { setToUpdate } from '@actions/user';\r\n\r\nconst serverURL = process.env.REACT_APP_SERVER_URL;\r\n\r\nclass SAUser extends Component {\r\n    render() {\r\n        const { userId, user } = this.props;\r\n        return(\r\n            <div className={`flex ${styles.container}`}>\r\n                <div className={`flex`}>\r\n                    {\r\n                        user.profile_img ?\r\n                        <img\r\n                            alt=''\r\n                            className={styles.uimage}\r\n                            src={`${serverURL}${user.profile_img}`} />\r\n                        :\r\n                        <div\r\n                            className={`flex ${styles.uimage} ${styles.thumb}`}\r\n                            style={{ backgroundColor: user.color }}>\r\n                            { user.thumbnail_alias }\r\n                        </div>\r\n                    }\r\n                    <div className={styles.infoContainer}>\r\n                        <div className={styles.name}>\r\n                            { user.name } {user.last_name}\r\n                        </div>\r\n                        <div className={styles.identification}>\r\n                            ID { user.id }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <Link\r\n                    className={`ghost-btn ${styles.btnEdit}`}\r\n                    onClick={this.onLinkClicked}\r\n                    to={`/terapeuta/${userId}/editar/${user.id}`}>\r\n                    <FontAwesomeIcon icon={faEdit} size='lg' />\r\n                </Link>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.onLinkClicked = this.onLinkClicked.bind(this);\r\n    }\r\n\r\n    /** Métodos extra */\r\n    onLinkClicked() {\r\n        this.props.setToUpdate(this.props.user);\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapActionsToProps = {\r\n    setToUpdate\r\n};\r\n\r\nexport default connect(\r\n    null,\r\n    mapActionsToProps\r\n)(SAUser);","import SAUser from './SAUser';\r\nexport default SAUser;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SAUsersPage.module.css';\r\nimport { Button } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { getUsers, setUsers } from '@actions/user';\r\n\r\nimport SAUser from '@components/admin/SAUser';\r\nimport SEmpty from '@components/shared/SEmpty';\r\nimport SSearch from '@components/shared/SSearch';\r\nimport SSpinner from '@components/shared/SSpinner';\r\nimport STLayout from '@components/layout/STLayout';\r\n\r\nclass SAUsersPage extends Component {\r\n    render() {\r\n        const { tid } = this.props.match.params;\r\n        let { users } = this.props;\r\n        users = users ? Object.values(users) : [];\r\n\r\n        return(\r\n            <STLayout pt={50}>\r\n                <div className={styles.title}>Todos los usuarios</div>\r\n                <div className={`flex ${styles.toolsContainer}`}>\r\n                    <SSearch />\r\n                    <Link to={`/terapeuta/${tid}/nuevo`}>\r\n                        <Button \r\n                            className={`secondary-btn ${styles.btnCreate}`}>\r\n                            Nuevo\r\n                        </Button>\r\n                    </Link>\r\n                </div>\r\n                <div className={styles.listContainer}>\r\n                    {\r\n                        this.state.loading ?\r\n                        <SSpinner color='primary' />\r\n                        :\r\n                        users.length > 0 ?\r\n                        users.map(user => {\r\n                            return <SAUser \r\n                                admin={true}\r\n                                key={user.id} \r\n                                user={user}\r\n                                userId={tid} />\r\n                        })\r\n                        :\r\n                        <SEmpty>\r\n                            No se han encontrado usuarios en el sistema.\r\n                            Recuerda que como administrador puedes crear \r\n                            usuarios nuevos\r\n                        </SEmpty>\r\n                    }\r\n                </div>\r\n            </STLayout>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { loading: false }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getAllUsers();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.setUsers(null);\r\n    }\r\n\r\n    /** Métodos extra */\r\n    async getAllUsers() {\r\n        this.setState({ loading: true });\r\n        await this.props.getUsers();\r\n        \r\n        this.setState({ loading: false });\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: state.user.users\r\n    };\r\n}\r\n\r\nconst mapActionsToProps = {\r\n    getUsers,\r\n    setUsers\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapActionsToProps\r\n)(SAUsersPage);","import SAUsersPage from './SAUsersPage';\r\nexport default SAUsersPage;","import SAImageLoader from './SAImageLoader';\r\nexport default SAImageLoader;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SAImageLoader.module.css';\r\nimport { FormGroup, Input, Label } from 'reactstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faImage } from '@fortawesome/free-solid-svg-icons';\r\n\r\nclass SAImageLoader extends Component {\r\n    render() {\r\n        return(\r\n            <div className={styles.container}>\r\n                <div className={`flex ${styles.innerContainer}`}>\r\n                    <div className={`flex ${styles.iconContainer}`}>\r\n                        { !this.state.encodedImage && <FontAwesomeIcon \r\n                            className={styles.icon}\r\n                            icon={faImage}\r\n                            size='3x' /> }\r\n                        <canvas\r\n                          style={{ display: this.state.encodedImage ? 'block' : 'none' }} \r\n                          ref={this.canvasRef} />\r\n                        <img \r\n                            alt=''\r\n                            className={styles.hiddenImage} \r\n                            ref={this.imageRef}\r\n                            src='' />\r\n                    </div>\r\n                </div>\r\n                <p className={styles.text}>\r\n                    Si lo deseas puedes agregar una imagen de perfil\r\n                </p>\r\n                <FormGroup>\r\n                    <Input\r\n                        className={styles.hidden}\r\n                        onChange={this.onFileChanged} \r\n                        type='file' \r\n                        id='profilePicture' />\r\n                    <Label\r\n                        className={`secondary-btn ${styles.btnFile}`} \r\n                        for='profilePicture'>\r\n                        Agregar Imagen\r\n                    </Label>\r\n                </FormGroup>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = { encodedImage: null };\r\n      this.canvasRef = React.createRef();\r\n      this.imageRef = React.createRef();\r\n\r\n      this.onFileChanged = this.onFileChanged.bind(this);\r\n      this.onFileReaderLoaded = this.onFileReaderLoaded.bind(this);\r\n      this.onImageLoaded = this.onImageLoaded.bind(this);\r\n    }\r\n\r\n    /** Métodos extra */\r\n    \r\n    /** Método que detecta cuando hay un cambio en el input de tipo file */\r\n    onFileChanged(e) {\r\n      const file = e.target.files[0];    \r\n      if (!file) return;\r\n\r\n      const fileReader = new FileReader();\r\n      fileReader.readAsDataURL(file);\r\n      fileReader.onload = this.onFileReaderLoaded;\r\n    }\r\n\r\n    /** Método encargado de detectar la carga de un archivo en el FileReader */\r\n    onFileReaderLoaded(e) {\r\n      this.imageRef.current.src = e.target.result;\r\n      this.imageRef.current.onload = this.onImageLoaded;\r\n    }\r\n\r\n    /** Método encargado de detectar la carga de la imagen en el tag img */\r\n    onImageLoaded(e) {\r\n      const MAX_WIDTH = 180;\r\n      const MAX_HEIGHT = 180;\r\n\r\n      /** Calcular el valor de la escala para respetar el aspect ratio */\r\n      const scale = e.target.width > e.target.height && e.target.width > MAX_WIDTH ? MAX_WIDTH / e.target.width :\r\n                    e.target.height > MAX_HEIGHT ? MAX_HEIGHT / e.target.height : \r\n                    1;\r\n\r\n      /** Asignar el tamaño del canvas */\r\n      this.canvasRef.current.width = e.target.width * scale;\r\n      this.canvasRef.current.height = e.target.height * scale;\r\n\r\n      /** Obtener el contexto 2d del canvas, dibujar la imagen y obtener imagen codificada */\r\n      const context = this.canvasRef.current.getContext('2d');\r\n      context.drawImage(e.target, 0, 0, this.canvasRef.current.width, this.canvasRef.current.height);\r\n      const encodedImage = context.canvas.toDataURL(e.target, 'image/png');\r\n\r\n      this.setState({ encodedImage }, () => { \r\n        this.canvasRef.current.toBlob((blob) => {\r\n          this.props.onImageLoaded(blob);\r\n        }); \r\n      });\r\n    }\r\n}\r\n\r\nexport default SAImageLoader;","import SCheckField from './SCheckField';\r\nexport default SCheckField;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React from 'react';\r\nimport { FormGroup, Input, Label } from 'reactstrap';\r\n\r\nconst SCheckField = (props) => {\r\n    return(\r\n        <FormGroup check>\r\n            <Input \r\n                type='checkbox'\r\n                name={props.name}\r\n                checked={props.checked}\r\n                onChange={(e) => { props.onChange(e); }} />\r\n            <Label>{props.children}</Label>\r\n        </FormGroup>\r\n    );\r\n}\r\n\r\nexport default SCheckField;","import SDateField from './SDateField';\r\nexport default SDateField;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React from 'react';\r\nimport { FormGroup, Label } from 'reactstrap';\r\n\r\nimport SDatePicker from '@components/shared/SDatePicker';\r\n\r\nconst SDateField = (props) => {\r\n    return(\r\n        <FormGroup>\r\n            <Label>{props.children}</Label>\r\n            <SDatePicker\r\n                date={props.date}\r\n                form={true}\r\n                name={props.name}\r\n                onChange={(e) => { props.onChange(e); }} />\r\n        </FormGroup>\r\n    );\r\n}\r\n\r\nexport default SDateField;","import SInputField from './SInputField';\r\nexport default SInputField;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React from 'react';\r\nimport { FormFeedback, FormGroup, FormText, Input, Label } from 'reactstrap';\r\n\r\nconst SInputField = (props) => {\r\n    const type = props.name === 'email' ? 'email' : 'text';\r\n    \r\n    return(\r\n        <FormGroup>\r\n            <Label>{props.children}</Label>\r\n            {props.form === 'admin' && props.name === 'password' && \r\n            <FormText>\r\n                Recuerda que la contraseña para el paciente debe \r\n                contener cuatro palabras del conjunto árbol, corazón,\r\n                flor, nube y sol, separadas por coma y sin espacios. Ej.: \r\n                árbol,flor,nube,sol.\r\n            </FormText>}\r\n            <Input\r\n                disabled={props.disabled}\r\n                type={type}\r\n                name={props.name}\r\n                onChange={(e) => { props.onChange(e); }}\r\n                value={props.value}\r\n                invalid={props.error !== null} />\r\n            {props.error && <FormFeedback>{props.error}</FormFeedback>}\r\n        </FormGroup>\r\n    );\r\n}\r\n\r\nexport default SInputField;","import SSelectField from './SSelectField';\r\nexport default SSelectField;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React from 'react';\r\nimport { FormGroup, Input, Label } from 'reactstrap';\r\n\r\nconst SSelectField = (props) => {\r\n    return(\r\n        <FormGroup>\r\n            <Label>{props.children}</Label>\r\n            <Input\r\n                type='select'\r\n                name={props.name}\r\n                onChange={(e) => { props.onChange(e); }}\r\n                value={props.value}>\r\n                {props.options.map((opt, i) => {\r\n                    return <option key={i} value={opt.value}>\r\n                        {opt.title}\r\n                    </option>\r\n                })}\r\n            </Input>\r\n        </FormGroup>\r\n    );\r\n}\r\n\r\nexport default SSelectField;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nexport const genders = [\r\n    { title: 'Femenino', value: 'F' },\r\n    { title: 'Masculino', value: 'M' }\r\n];\r\n\r\nexport const users = [\r\n    { title: 'Paciente', value: 1 },\r\n    { title: 'Terapeuta', value: 2 }\r\n];","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n * \r\n * @description Archivo encargado de realizar acciones relaionadas al usuario\r\n */\r\n\r\nexport const buildRandomColor = () => {\r\n    const hex = '0123456789ABCDEF'\r\n    let color = '#';\r\n    for (let i = 0; i < 6; i++)\r\n        color += hex[Math.floor(Math.random() * 16)];\r\n\r\n    return color;\r\n}\r\n\r\nexport const buildUserAlias = (name, last_name) => {\r\n    const firstLetter = name.charAt(0);\r\n    const secondLetter = last_name.charAt(0);\r\n    return (firstLetter + secondLetter).toUpperCase();\r\n}\r\n\r\nexport const checkUserFields = (state, update) => {\r\n    let user = Object.assign({}, state);\r\n\r\n    let hasErrors = false;\r\n    /** Verificar que los campos no estén vacíos */\r\n    if (user.name.value.trim() === '') {\r\n        user.name.error = 'Este campo es obligatorio.';\r\n        hasErrors = true;\r\n    }\r\n    \r\n    if (user.last_name.value.trim() === '') {\r\n        user.last_name.error = 'Este campo es obligatorio.';\r\n        hasErrors = true;\r\n    }\r\n\r\n    if (user.email.value.trim() === '') {\r\n        user.email.error = 'Este campo es obligatorio.';\r\n        hasErrors = true;\r\n    }\r\n\r\n    if (user.id.value.trim() === '') {\r\n        user.id.error = 'Este campo es obligatorio.';\r\n        hasErrors = true;\r\n    }\r\n\r\n    if (user.username.value.trim() === '') {\r\n        user.username.error = 'Este campo es obligatorio.';\r\n        hasErrors = true;\r\n    }\r\n    \r\n    let checkPassword = true;\r\n    if (!update && user.password.value.trim() === '') {\r\n        user.password.error = 'Este campo es obligatorio.';\r\n        hasErrors = true;\r\n        checkPassword= false;\r\n    }\r\n    \r\n    /** Verificar que el campo email sea un email correcto */\r\n    const emailRegex = /[a-zA-Z0-9.+_-]+@[a-z]+\\.[a-z]+/;\r\n    if (!emailRegex.test(user.email.value.trim())) {\r\n        user.email.error = 'Debes ingresar un email válido.';\r\n        hasErrors = true;\r\n    }\r\n\r\n    /** Verificar el campo contraseña para el paciente */\r\n    if (checkPassword) {\r\n        if (user.password.value.trim() !== '' && user.id_role.value === 1) {\r\n            /** Verificar que la contraseña sólo contenga comas */\r\n            const pwdRegex = /[ `!@#$%^g*()_+\\-=[\\]{};':\"\\\\|.<>/?~]/;\r\n            if (pwdRegex.test(user.password.value.trim())) {\r\n                user.password.error = 'La contraseña del paciente no puede ' +\r\n                                      'tener ningún caracter especial exceptuando ' +\r\n                                      'la coma (,).';\r\n                hasErrors = true; \r\n            }\r\n            else {\r\n                /** Verificar que la contraseña tenga 4 palabras */\r\n                const words = user.password.value.trim().split(',');\r\n                if (words.length !== 4) {\r\n                    user.password.error = 'La contraseña del paciente debe tener ' +\r\n                                          '4 palabras separadas por coma (,).';\r\n                    hasErrors = true;\r\n                }\r\n                else {\r\n                    /** Verificar que las palabras pertenezcan al conjunto */\r\n                    const wordsSet = ['árbol', 'corazón', 'flor', 'nube', 'sol'];\r\n                    let notInSet = false;\r\n                    words.forEach(word => {\r\n                        if (!wordsSet.includes(word)) notInSet = true;\r\n                    });\r\n\r\n                    if (notInSet) {\r\n                        user.password.error = 'La contraseña del paciente debe ' + \r\n                                              'tener palabras pertenecientes ' + \r\n                                              'al conjunto descrito.';\r\n                        hasErrors = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return { hasErrors, user };\r\n}","import SAUserForm from './SAUserForm';\r\nexport default SAUserForm;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport { Col, Form, Row } from 'reactstrap';\r\n\r\nimport SCheckField from '@components/shared/form/SCheckField';\r\nimport SDateField from '@components/shared/form/SDateField';\r\nimport SInputField from '@components/shared/form/SInputField';\r\nimport SSelectField from '@components/shared/form/SSelectField';\r\nimport SSubmitField from '@components/shared/form/SSubmitField';\r\n\r\nimport { genders, users } from '@data/form';\r\nimport { checkUserFields } from '@utils/user';\r\n\r\nclass SAUserForm extends Component {\r\n    render() {\r\n        const disabled = this.props.update ? true : false;\r\n        return(\r\n            <Form>\r\n                <Row form>\r\n                    <Col md={6}>\r\n                        <SInputField \r\n                            error={this.state.name.error}\r\n                            name='name'\r\n                            onChange={this.onChange}\r\n                            value={this.state.name.value}>\r\n                            Nombre *\r\n                        </SInputField>\r\n                    </Col>\r\n                    <Col md={6}>\r\n                        <SInputField \r\n                            error={this.state.last_name.error}\r\n                            name='last_name'\r\n                            onChange={this.onChange}\r\n                            value={this.state.last_name.value}>\r\n                            Apellido *\r\n                        </SInputField>\r\n                    </Col>\r\n                </Row>\r\n                <SInputField \r\n                    error={this.state.email.error} \r\n                    name='email' \r\n                    onChange={this.onChange}\r\n                    value={this.state.email.value}>\r\n                    Email *\r\n                </SInputField>\r\n                <Row form>\r\n                    <Col md={6}>\r\n                        <SInputField\r\n                            disabled={disabled} \r\n                            error={this.state.id.error}\r\n                            name='id'\r\n                            onChange={this.onChange}\r\n                            value={this.state.id.value}>\r\n                            Identificación *\r\n                        </SInputField>\r\n                    </Col>\r\n                    <Col md={6}>\r\n                        <SDateField\r\n                            date={this.state.birthday_date.value}\r\n                            name='birthday_date'\r\n                            onChange={this.onChange}>\r\n                            Fecha de nacimiento *\r\n                        </SDateField>\r\n                    </Col>\r\n                </Row>\r\n                <SSelectField\r\n                    name='gender'\r\n                    onChange={this.onChange}\r\n                    options={genders}\r\n                    value={this.state.gender.value}>\r\n                    Género *\r\n                </SSelectField>\r\n                <Row form>\r\n                    <Col md={6}>\r\n                        <SInputField \r\n                            error={this.state.username.error}\r\n                            name='username'\r\n                            onChange={this.onChange}\r\n                            value={this.state.username.value}>\r\n                            Nombre de usuario *\r\n                        </SInputField>\r\n                    </Col>\r\n                    <Col md={6}>\r\n                        <SSelectField\r\n                            name='id_role'\r\n                            onChange={this.onChange}\r\n                            options={users}\r\n                            value={this.state.id_role.value}>\r\n                            Tipo de usuario *\r\n                        </SSelectField>\r\n                    </Col>\r\n                </Row>\r\n                <SInputField\r\n                    error={this.state.password.error}\r\n                    form='admin'\r\n                    name='password'\r\n                    onChange={this.onChange}\r\n                    value={this.state.password.value}>\r\n                    Contraseña *\r\n                </SInputField>\r\n                <SCheckField \r\n                    name='active'\r\n                    checked={this.state.active.value}\r\n                    onChange={this.onChange}>\r\n                    ¿Este usuario está activo?\r\n                </SCheckField>\r\n                {this.state.id_role.value === 2 && <SCheckField \r\n                    name='is_admin'\r\n                    checked={this.state.is_admin.value}\r\n                    onChange={this.onChange} >\r\n                    ¿Este usuario es administrador?\r\n                </SCheckField>}\r\n                <SSubmitField\r\n                    className='secondary-btn mt-4 w-100'\r\n                    loading={this.props.loading}\r\n                    onClick={this.onSaveClicked}>\r\n                    Guardar\r\n                </SSubmitField>\r\n            </Form>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            active: { value: true },\r\n            birthday_date: { value: new Date() },\r\n            email: { value: '', error: null },\r\n            gender: { value: 'F' },\r\n            id: { value: '', error: null },\r\n            is_admin: { value: false },\r\n            last_name: { value: '', error: null },\r\n            name: { value: '', error: null },\r\n            password: { value: '', error: null },\r\n            username: { value: '', error: null },\r\n            id_role: { value: 1 },\r\n        };\r\n        this.onChange = this.onChange.bind(this);\r\n        this.onSaveClicked = this.onSaveClicked.bind(this);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.user && this.props.user !== prevProps.user)\r\n            this.setState({...this.props.user});\r\n    }\r\n\r\n    /** Métodos extra */\r\n    buildUserData() {\r\n        const keys = Object.keys(this.state);\r\n        let userData = {};\r\n        keys.forEach(key => {\r\n            let { value } = this.state[key];\r\n            if (key === 'name' || key === 'last_name' || key === 'email' ||\r\n                key === 'id' || key === 'username' || key === 'password')\r\n                value = value.trim();\r\n\r\n            userData[key] = value;\r\n        });\r\n\r\n        return userData;\r\n    }\r\n\r\n    onChange(e) {\r\n        let { name, value } = e.target;\r\n        if (name === 'active' || name === 'is_admin')\r\n            value = !this.state[name].value;\r\n        else if (name === 'id_role') \r\n            value = parseInt(value, 10);\r\n\r\n        /** Asignar el valor y resetear el error */\r\n        let field = this.state[name];\r\n        field.value = value;\r\n        if (field.error) field.error = null;\r\n        \r\n        this.setState({ [name]: field });\r\n    }\r\n\r\n    onSaveClicked(e) {\r\n        e.preventDefault();\r\n        if (!this.props.loading) {\r\n            const { update } = this.props;\r\n            const check = checkUserFields(this.state, update);\r\n            if (!check.hasErrors) {\r\n                const userData = this.buildUserData();\r\n                this.props.onSave(userData);\r\n            }\r\n            else\r\n                this.setState({...check.user});\r\n        }\r\n    }\r\n}\r\n\r\nexport default SAUserForm;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport styles from './SAUpdateUserPage.module.css';\r\nimport { Col, Row } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { \r\n    getUser,\r\n    updateUser,\r\n    setToUpdate \r\n} from '@actions/user';\r\nimport { register } from '@actions/auth';\r\nimport { uploadProfileImage } from '@actions/plugin';\r\nimport { setNotification } from '@actions/ui';\r\n\r\nimport SAImageLoader from '@components/admin/SAImageLoader';\r\nimport SAUserForm from '@components/admin/SAUserForm';\r\nimport STLayout from '@components/layout/STLayout';\r\n\r\nimport { buildRandomColor, buildUserAlias } from '@utils/user';\r\n\r\nclass SAUpdateUserPage extends Component {\r\n    render() {\r\n        const { uid } = this.props.match.params;\r\n        const title = uid ? 'Editar usuario' : 'Crear usuario';\r\n        const { update, user } = this.state;\r\n        \r\n        return(\r\n            <STLayout pt={50}>\r\n                <div className={styles.title}>{title}</div>\r\n                <div className={styles.container}>\r\n                    <div className={styles.formContainer}>\r\n                        <Row>\r\n                            <Col md={4}>\r\n                                <SAImageLoader onImageLoaded={this.onImageLoaded} />\r\n                            </Col>\r\n                            <Col md={8}>\r\n                                <p className={styles.userData}>\r\n                                    Datos del usuario\r\n                                </p>\r\n                                <SAUserForm \r\n                                    loading={this.state.loading}\r\n                                    onSave={this.onSave}\r\n                                    update={update}\r\n                                    user={user} />\r\n                            </Col>\r\n                        </Row>\r\n                    </div>\r\n                </div>\r\n            </STLayout>\r\n        );\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { image: null, loading: false, update: false, user: null };\r\n        this.onImageLoaded = this.onImageLoaded.bind(this);\r\n        this.onSave = this.onSave.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { uid } = this.props.match.params;\r\n        if (this.props.toUpdate)\r\n            this.prepareUserForUpdate();\r\n        else if (uid)\r\n            this.getUserToUpdate(uid);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.props.toUpdate && !this.state.user)\r\n            this.prepareUserForUpdate();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.setToUpdate(null);\r\n    }\r\n\r\n    /** Métodos extra */\r\n    getUserToUpdate(id) {\r\n        this.props.getUser(id, true);\r\n    }\r\n\r\n    prepareUserForUpdate() {\r\n        const { toUpdate } = this.props;\r\n        const user = {\r\n            id: { value: toUpdate.id, error: null },\r\n            active: { value: toUpdate.active },\r\n            birthday_date: { value: new Date(toUpdate.birthday_date) },\r\n            email: { value: toUpdate.email, error: null },\r\n            gender: { value: toUpdate.gender },\r\n            is_admin: { value: toUpdate.is_admin },\r\n            last_name: { value: toUpdate.last_name, error: null },\r\n            name: { value: toUpdate.name, error: null },\r\n            username: { value: toUpdate.username, error: null },\r\n            id_role: { value: toUpdate.Role.id },\r\n        };\r\n        this.setState({ update: true, user });\r\n    }        \r\n\r\n    /** Eventos */\r\n    onImageLoaded(image) {\r\n      this.setState({ image });\r\n    }\r\n\r\n    async onSave(formData) {\r\n        let userData = Object.assign({}, formData);\r\n        if (userData.password.trim() === '') delete userData.password;\r\n\r\n        /** Completar algunos campos */\r\n        const alias = buildUserAlias(userData.name, userData.last_name);\r\n        userData['thumbnail_alias'] = alias;\r\n            \r\n        const { update } = this.state;\r\n        if (!update) { /** Crear usuario */\r\n            userData['color'] = buildRandomColor();\r\n            if (userData.id_role === 2)\r\n                userData['id_avatar_variation'] = 1;\r\n        }\r\n\r\n        this.setState({ loading: true });\r\n        /** Si se seleccionó una imagen, guardarla en el backend y obtener el path */\r\n        if (this.state.image) {\r\n          const blob = this.state.image;\r\n          const name = `${formData.username}.png`;\r\n          const res = await this.props.uploadProfileImage(blob, name);\r\n          if (!res.error) {\r\n            const { path } = res.data;\r\n            userData['profile_img'] = path;\r\n          }\r\n        }\r\n\r\n        const { tid } = this.props.match.params;        \r\n        const response = update ? \r\n                         await this.props.updateUser(userData, tid) \r\n                         :\r\n                         await this.props.register(userData);\r\n            \r\n        const { error, message } = response;\r\n        \r\n        this.setState({ loading: false });\r\n        this.props.setNotification({ error, message, slide: true });\r\n        this.props.history.goBack();\r\n    }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        toUpdate: state.user.toUpdate\r\n    };\r\n}\r\n\r\nconst mapActionsToProps = {\r\n    getUser,\r\n    register,\r\n    updateUser,\r\n    uploadProfileImage,\r\n    setNotification,\r\n    setToUpdate\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapActionsToProps\r\n)(SAUpdateUserPage);","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport axios from 'axios';\r\n\r\nconst apiURL = process.env.REACT_APP_API_URL;\r\n\r\n/** Subir una imagen */\r\nexport const uploadProfileImage = (image, name) => async () => {\r\n  const url = `${apiURL}/plugin/upload-profile-image`;\r\n\r\n  try {\r\n    const form = new FormData();\r\n    form.append('file', image, name);\r\n\r\n    const response = await axios.post(url, form, {\r\n      headers: { \"Content-Type\": 'multipart/form-data;' }\r\n    });\r\n    const { data: { data, message, status }} = response;\r\n    const error = status !== 200;\r\n\r\n    return { data, error, message };\r\n  }\r\n  catch (err) {\r\n    return { error: true, message: err };\r\n  }\r\n}","import SAUpdateUserPage from './SAUpdateUserPage';\r\nexport default SAUpdateUserPage;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport React, { Component } from 'react';\r\nimport './App.css';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { Container } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { \r\n  showMobileMenu, \r\n  setFullScreen, \r\n  setNotification,\r\n  setWindowWidth, \r\n  setVOffset \r\n} from '@actions/ui';\r\nimport { ping, setConnectedId } from '@actions/connection';\r\nimport Speaker from '@utils/Speaker';\r\nimport Messenger from '@utils/Messenger';\r\nimport ServerStatus from '@utils/ServerStatus';\r\n\r\n/** Import de componentes */\r\nimport SAvatar from '@components/shared/SAvatar';\r\nimport SBubbleNotification from '@components/shared/SBubbleNotification';\r\nimport SHeaderBar from '@components/shared/SHeaderBar';\r\nimport SMobileAvatar from '@components/mobile/SMobileAvatar';\r\nimport SMobileMenu from '@components/mobile/SMobileMenu';\r\nimport SModal from '@components/shared/SModal';\r\nimport SProtectedRoute from '@components/SProtectedRoute';\r\n\r\n/** Importar pages */\r\nimport SLandingPage from '@pages/shared/SLandingPage';\r\nimport SProfilePage from '@pages/shared/SProfilePage';\r\nimport SPActivitiesPage from '@pages/patient/SPActivitiesPage';\r\nimport SPCollectableInfoPage from '@pages/patient/SPCollectableInfoPage';\r\nimport SPCollectionsPage from '@pages/patient/SPCollectionsPage';\r\nimport SPLandingPage from '@pages/patient/SPLandingPage';\r\nimport SPPlayPage from '@pages/patient/SPPlayPage';\r\nimport STActivitiesPage from '@pages/therapist/STActivitiesPage';\r\nimport STConfigurationPage from '@pages/therapist/STConfigurationPage';\r\nimport STFeedbackPage from '@pages/therapist/STFeedbackPage';\r\nimport STLandingPage from '@pages/therapist/STLandingPage';\r\nimport STPatientsPage from '@pages/therapist/STPatientsPage';\r\nimport SAUsersPage from '@pages/admin/SAUsersPage';\r\nimport SAUpdateUserPage from '@pages/admin/SAUpdateUserPage';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        {this.props.ui.parallax && <div className='App-parallax-bg'></div>}\r\n        <SHeaderBar />\r\n        {\r\n          /** Bloque para mostrar el avatar */\r\n          this.props.ui.showAvatar ?\r\n            this.props.ui.windowWidth >= 768 ?\r\n            <div \r\n              className='flex avatar-container'\r\n              style={{'--vOffset': `${this.props.ui.vOffset}px`}}>\r\n              <SAvatar />\r\n            </div>\r\n            : <SMobileAvatar />\r\n          : null\r\n        }\r\n        { this.props.ui.modal && <SModal /> }\r\n        { /** Bloque para mostrar el menú móvil */\r\n          this.props.ui.showMobileMenu && <SMobileMenu /> }\r\n        \r\n        { /** Bloque para mostrar las notificaciones */ \r\n          this.props.ui.notification &&\r\n          <SBubbleNotification /> }\r\n        \r\n        {/** Rutas */}\r\n        <Container \r\n          className='App-container' \r\n          fluid \r\n          style={{'--vOffset': `${this.props.ui.vOffset}px`}}>\r\n          <Switch>\r\n            <Route exact path='/' component={SLandingPage} />\r\n\r\n            {/** Rutas para paciente */}\r\n            <Route\r\n              exact \r\n              path='/paciente' \r\n              component={SPLandingPage} />\r\n            <SProtectedRoute \r\n              exact\r\n              path='/paciente/:pid/actividades'\r\n              component={SPActivitiesPage} />\r\n            <SProtectedRoute\r\n              exact\r\n              path='/paciente/:pid/colecciones'\r\n              component={SPCollectionsPage} />\r\n            <SProtectedRoute\r\n              exact\r\n              path='/paciente/:pid/colecciones/:id/coleccionable/:cid'\r\n              component={SPCollectableInfoPage} />\r\n            <SProtectedRoute \r\n              exact\r\n              path='/paciente/:pid/actividades/:aid/sesiones/:sid'\r\n              component={SPPlayPage} />\r\n\r\n            {/** Rutas para terapeuta */}\r\n            <SProtectedRoute \r\n              exact\r\n              path='/terapeuta/:tid/perfil'\r\n              component={SProfilePage} />\r\n            <SProtectedRoute\r\n              exact \r\n              path='/terapeuta/:tid/pacientes/:pid/actividades'\r\n              component={STActivitiesPage} />\r\n            <SProtectedRoute \r\n              exact\r\n              path='/terapeuta/:tid/pacientes/:pid/configuracion' \r\n              component={STConfigurationPage} />\r\n            <SProtectedRoute \r\n              exact\r\n              path='/terapeuta/:tid/pacientes/:pid/actividades/:aid/:kind'\r\n              component={STFeedbackPage} />\r\n            <SProtectedRoute \r\n              exact\r\n              path='/terapeuta/:tid/pacientes/:pid/actividades/:kind'\r\n              component={STFeedbackPage} />\r\n            <Route\r\n              exact \r\n              path='/terapeuta' \r\n              component={STLandingPage} />\r\n            <SProtectedRoute\r\n              exact \r\n              path='/terapeuta/:tid/pacientes' \r\n              component={STPatientsPage} />\r\n            \r\n            {/** Rutas relacionadas al administrador */}\r\n            <SProtectedRoute \r\n              exact\r\n              path='/terapeuta/:tid/admin'\r\n              component={SAUsersPage} />\r\n            <SProtectedRoute \r\n              exact\r\n              path='/terapeuta/:tid/nuevo'\r\n              component={SAUpdateUserPage} />\r\n            <SProtectedRoute\r\n              exact\r\n              path='/terapeuta/:tid/editar/:uid'\r\n              component={SAUpdateUserPage} />\r\n          </Switch>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.calculateVOffset = this.calculateVOffset.bind(this);\r\n    this.setWindowSize = this.setWindowSize.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('resize', this.setWindowSize);\r\n    this.calculateVOffset(window.innerWidth);\r\n    Speaker.init('es-MX');\r\n    this.status = new ServerStatus(this);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) { \r\n      this.calculateVOffset(window.innerWidth);\r\n\r\n      const { connectSocket, checkServerStatus } = this.props.connection;\r\n      if (connectSocket !== prevProps.connection.connectSocket)\r\n        Messenger.handleConnection(this.props.connection, this);\r\n      \r\n      if (checkServerStatus !== prevProps.connection.checkServerStatus)\r\n        this.checkServerStatus(checkServerStatus);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.setWindowSize);\r\n  }\r\n\r\n  /** Métodos extra */\r\n  calculateVOffset(windowWidth) {\r\n    const vOffset = this.props.ui.showAvatar && windowWidth < 768 ? 182 : 62;\r\n    if (!this.props.ui.vOffset || vOffset !== this.props.ui.vOffset) \r\n      this.props.setVOffset(vOffset);\r\n  }\r\n\r\n  checkServerStatus(check) {\r\n    this.status.checkServerStatus(check, false, Messenger);\r\n  }\r\n\r\n  setWindowSize() {\r\n    const windowWidth = window.innerWidth;\r\n    this.props.setWindowWidth(windowWidth);\r\n    if (windowWidth >= 768) this.props.showMobileMenu(false);\r\n    this.calculateVOffset(windowWidth);\r\n  }\r\n}\r\n\r\n/** Elementos del store */\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    connection: state.connection,\r\n    ui: state.ui,\r\n  };\r\n}\r\n\r\nconst mapActionsToProps = {\r\n  ping,\r\n  setConnectedId,\r\n  showMobileMenu,\r\n  setFullScreen,\r\n  setNotification,\r\n  setVOffset,\r\n  setWindowWidth,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(App);","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport { \r\n    REMOVE_ACTIVITY,\r\n    SET_ACTIVITIES,\r\n    SET_ACTIVITY, \r\n    SET_SELECTED_SESSION,\r\n    SET_SESSIONS,\r\n    UPDATE_ACTIVITY,\r\n} from '../actions/types';\r\n\r\nlet initialState = {\r\n    activities: null,\r\n    activity: null,\r\n    sessions: null,\r\n    session: null\r\n};\r\n\r\nconst activityReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case REMOVE_ACTIVITY:\r\n            const activityId = action.payload.id;\r\n            let activitiesForRemoval = state.activities;            \r\n            delete activitiesForRemoval[activityId];\r\n\r\n            /** Si el objto de actividades no tiene información, igualarlo a valor nulo */\r\n            if (Object.values(activitiesForRemoval).length === 0) activitiesForRemoval = null;\r\n\r\n            return { ...state, activities: activitiesForRemoval };\r\n\r\n        case SET_ACTIVITIES:\r\n            return {\r\n                ...state,\r\n                activities: action.payload.activities\r\n            };\r\n\r\n        case SET_ACTIVITY:\r\n            return {\r\n                ...state,\r\n                activity: action.payload.activity\r\n            };\r\n        \r\n        case SET_SESSIONS:\r\n            return {\r\n                ...state,\r\n                sessions: action.payload.sessions\r\n            };\r\n        \r\n        case SET_SELECTED_SESSION: {\r\n            return {\r\n                ...state,\r\n                session: action.payload.session\r\n            };\r\n        }\r\n\r\n        case UPDATE_ACTIVITY:\r\n            const updatedActivity = action.payload.activity;\r\n            const id = updatedActivity.id;\r\n            let activitiesForUpdate = state.activities;\r\n\r\n            activitiesForUpdate[id] = updatedActivity;\r\n\r\n            return { ...state, activities: activitiesForUpdate };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default activityReducer;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.1\r\n */\r\n\r\nimport {\r\n    SET_PATIENT_TOKEN,\r\n    SET_THERAPIST_TOKEN\r\n} from '../actions/types';\r\n\r\nimport { PATIENT, THERAPIST } from '@data/roles';\r\n\r\nconst PATIENT_TOKEN = `${PATIENT}Token`;\r\nconst THERAPIST_TOKEN = `${THERAPIST}Token`;\r\n\r\nlet initialState = {\r\n    [PATIENT_TOKEN]: localStorage.getItem(PATIENT_TOKEN) || null,\r\n    [THERAPIST_TOKEN]: localStorage.getItem(THERAPIST_TOKEN) || null\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case SET_PATIENT_TOKEN:\r\n            return {\r\n                ...state,\r\n                [PATIENT_TOKEN]: action.payload.token\r\n            };\r\n\r\n        case SET_THERAPIST_TOKEN:\r\n            return {\r\n                ...state,\r\n                [THERAPIST_TOKEN]: action.payload.token\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default authReducer;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport { \r\n    SET_AVATAR_MESSAGE,\r\n    SET_AVATAR_VARIATION,\r\n    SET_AVATAR_VARIATIONS \r\n} from '../actions/types';\r\n\r\nlet initialState = {\r\n    message: null,\r\n    variations: null,\r\n}\r\n\r\nconst avatarReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_AVATAR_MESSAGE:\r\n            return {\r\n                ...state,\r\n                message: action.payload.message\r\n            };\r\n\r\n        case SET_AVATAR_VARIATION:\r\n            const { variation } = action.payload;\r\n            let variations  = Object.values(state.variations);\r\n            /** Recorrer las variaciones */\r\n            let index = 0;\r\n            variations.forEach((v, i) => {\r\n                if (variation.id === v.id && variation.id_avatar === v.id_avatar)\r\n                    index = i;\r\n            });\r\n            /** Reemplazar la variación */\r\n            variations[index] = variation;\r\n\r\n            variations = Object.assign({}, ...variations.map(v => {\r\n                return { [v.id]: v };\r\n            }));\r\n\r\n            return { ...state, variations };\r\n\r\n        case SET_AVATAR_VARIATIONS:\r\n            return {\r\n                ...state,\r\n                variations: action.payload.variations\r\n            };\r\n\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\nexport default avatarReducer;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport { \r\n    SET_COLLECTIONS,\r\n    SET_COLLECTABLE,\r\n    SET_USER_SKIN_OWNED,\r\n    SET_USER_SKINS_OWNED,\r\n} from \"../actions/types\";\r\n\r\nlet initialState = {\r\n    collections: null,\r\n    collectable: null,\r\n};\r\n\r\nconst collectionReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case SET_COLLECTIONS:\r\n            return {\r\n                ...state,\r\n                collections: action.payload.collections\r\n            };\r\n\r\n        \r\n        case SET_COLLECTABLE:\r\n            return {\r\n                ...state,\r\n                collectable: action.payload.collectable\r\n            };\r\n\r\n\r\n        case SET_USER_SKIN_OWNED:\r\n            const data = action.payload.data;\r\n            const collectableId = data.collectableId;\r\n            const collectionId = data.collectionId;\r\n\r\n            /** Navegar por el objeto usando los ids del data */\r\n            const collections = state.collections;\r\n            const collection = collections[collectionId];\r\n            const Collectables = collection.Collectables;\r\n            const collectable = Collectables[collectableId];\r\n            const Skins = collectable.Skins;\r\n\r\n            return {\r\n                ...state,\r\n                collections: {\r\n                    ...collections,\r\n                    [collectionId]: {\r\n                        ...collection,\r\n                        Collectables: {\r\n                            ...Collectables,\r\n                            [collectableId]: {\r\n                                ...collectable,\r\n                                Skins: {\r\n                                    ...Skins,\r\n                                    owned: true\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n        \r\n        case SET_USER_SKINS_OWNED:\r\n            const _data = action.payload.data;\r\n            const _skinId = _data.skinId;\r\n\r\n            /** Navegar por el objeto usando los ids del data */\r\n            const _collectable = state.collectable;\r\n            const _Skins = _collectable.Skins;\r\n            const skin = _Skins[_skinId];\r\n\r\n            return {\r\n                ...state,\r\n                collectable: {\r\n                    ..._collectable,\r\n                    Skins: {\r\n                        ..._Skins,\r\n                        [_skinId]: {\r\n                            ...skin,\r\n                            owned: true\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default collectionReducer;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport {\r\n    RESET_CONFIGURATION,\r\n    SET_CONFIGURATION\r\n} from '../actions/types';\r\n\r\nlet initialState = {\r\n    configuration: null\r\n}\r\n\r\nconst configurationReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case RESET_CONFIGURATION:\r\n            return {\r\n                ...state,\r\n                configuration: null\r\n            };\r\n        \r\n        case SET_CONFIGURATION:\r\n            return {\r\n                ...state,\r\n                configuration: action.payload.configuration\r\n            };\r\n        \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default configurationReducer;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport {\r\n    SET_CHECK_SERVER_STATUS,\r\n    SET_CONNECTED_ID, \r\n    SET_CONNECT_SOCKET \r\n} from '../actions/types';\r\n\r\nlet initialState = {\r\n    checkServerStatus: false,\r\n    connectedId: null,\r\n    connectSocket: false\r\n};\r\n\r\nconst connectionReducer = (state = initialState, action) => {\r\n    switch (action.type) {        \r\n        case SET_CHECK_SERVER_STATUS:\r\n            return {\r\n                ...state,\r\n                checkServerStatus: action.payload.check\r\n            };\r\n\r\n        case SET_CONNECTED_ID:\r\n            return {\r\n                ...state,\r\n                connectedId: action.payload.connectedId\r\n            };\r\n            \r\n        case SET_CONNECT_SOCKET:\r\n            return {\r\n                ...state,\r\n                connectSocket: action.payload.connectSocket\r\n            };\r\n            \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default connectionReducer;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport {\r\n    RESET_DYNAMIC_OPTIONS,\r\n    SET_DYNAMIC_OPTIONS,\r\n    SET_DYNAMIC_SELECTED_OPTIONS\r\n} from '../actions/types';\r\n\r\nlet initialState = {\r\n    mechanic: {\r\n        id: 'mechanic',\r\n        first: true,\r\n        multichoice: false,\r\n        next: 'situations',\r\n        options: null,\r\n        reset: [ 'situations', 'times', 'reader' ], \r\n        subtitle: `Selecciona la mecánica de la actividad que deseas trabajar\r\n                    con tu paciente. Esta selección desbloquea las situaciones\r\n                    que se pueden trabajar en la actividad.`,\r\n        title: '1. Mecánica de la actividad',\r\n    },\r\n    situations: {\r\n        id: 'situations',\r\n        multichoice: false,\r\n        next: 'times',\r\n        options: null,\r\n        required: [ 'mechanic' ],\r\n        reset: [ 'times', 'reader' ],\r\n        subtitle: `Elige una situación particular para trabajar en la actividad.\r\n                    Esta selección desbloquea los tiempos gramaticales.`,\r\n        title: '2. Situaciones',\r\n    },\r\n    times: {\r\n        id: 'times',\r\n        multichoice: false,\r\n        next: 'reader',\r\n        options: null,\r\n        reset: [ 'reader' ],\r\n        subtitle: `Selecciona el tiempo gramatical (pasado, presente, futuro...)\r\n                    que deseas trabajar en la actividad.`,\r\n        title: '3. Tiempos gramaticales',\r\n    },\r\n    reader: {\r\n        id: 'reader',\r\n        multichoice: false,\r\n        next: null,\r\n        options: null,\r\n        reset: null,\r\n        subtitle: `Selecciona si tu paciente cuenta con proceso lector o no.`,\r\n        title: '4. ¿El paciente cuenta con proceso lector?',\r\n    }\r\n}\r\n\r\nconst dynamicReducer = (state = initialState, action) => {\r\n    let field;\r\n    let fieldId;\r\n\r\n    switch(action.type) {\r\n        case RESET_DYNAMIC_OPTIONS:\r\n            fieldId = action.payload.fieldId;\r\n            field = state[fieldId];\r\n\r\n            return {\r\n                ...state,\r\n                [fieldId]: {\r\n                    ...field,\r\n                    options: null\r\n                }\r\n            };\r\n\r\n        case SET_DYNAMIC_OPTIONS:\r\n            fieldId = action.payload.fieldId;\r\n            field = state[fieldId];\r\n\r\n            return {\r\n                ...state,\r\n                [fieldId]: {\r\n                    ...field,\r\n                    options: action.payload.options\r\n                }\r\n            };\r\n\r\n        case SET_DYNAMIC_SELECTED_OPTIONS:\r\n            fieldId = action.payload.fieldId;\r\n            field = state[fieldId];\r\n\r\n            /** Obtener la lista de opciones del field */\r\n            let options = Object.values({ ...field.options });\r\n            let optionId = action.payload.optionId;\r\n            /** Marcar como seleccionada la opción elegida */\r\n            options.forEach(option => {\r\n                option.selected = option.id === optionId ? true : false;\r\n            });\r\n\r\n            return {\r\n                ...state,\r\n                [fieldId]: { ...field, options }\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default dynamicReducer;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport { \r\n    SET_FEEDBACK_DATA,\r\n    SET_FEEDBACK_DATE \r\n} from '../actions/types';\r\n\r\nlet initialState = {\r\n    feedDate: new Date(),\r\n    feedData: null\r\n};\r\n\r\nconst feedbackReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case SET_FEEDBACK_DATA:\r\n            return {\r\n                ...state,\r\n                feedData: action.payload.feedData\r\n            };\r\n        \r\n        case SET_FEEDBACK_DATE:\r\n            return {\r\n                ...state,\r\n                feedDate: action.payload.feedDate\r\n            };\r\n            \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default feedbackReducer;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport { \r\n    REMOVE_PATIENT,\r\n    SET_PATIENT, \r\n    SET_PATIENTS, \r\n    SET_SELECTED_PATIENT\r\n} from '../actions/types';\r\n\r\nlet initialState = {\r\n    patients: null,\r\n    patient: null,\r\n};\r\n\r\nconst patientReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case REMOVE_PATIENT:\r\n            const { _association } = action.payload;\r\n            /** Obtener los ids de la asociación */\r\n            const { _id_therapist, _id_patient } = _association;\r\n            const _patient = state.patients[_id_patient];\r\n\r\n            /** Verificar que opción está teniendo lugar */\r\n            if (_patient.Therapists_Patients) { /** my */\r\n                let _patients = { ...state.patients };\r\n                delete _patients[_id_patient];\r\n\r\n                return { ...state, patients: _patients };\r\n            }\r\n            else { /** all */\r\n                let _Therapists = { ..._patient.Therapists };\r\n                delete _Therapists[_id_therapist];\r\n                \r\n                return {\r\n                    ...state, patients: {\r\n                        ...state.patients, [_id_patient]: {\r\n                            ..._patient, 'Therapists': _Therapists\r\n                        }\r\n                    }\r\n                };\r\n            }\r\n\r\n        \r\n        case SET_PATIENT:\r\n            const { association } = action.payload;\r\n            const { id_therapist, id_patient } = association;\r\n            const patient = state.patients[id_patient];\r\n            const { Therapists } = patient;\r\n\r\n            return {\r\n                ...state, patients: {\r\n                    ...state.patients, [id_patient]: {\r\n                        ...patient, 'Therapists': {\r\n                            ...Therapists, [id_therapist]: association\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n\r\n        \r\n        case SET_PATIENTS:\r\n            return {\r\n                ...state,\r\n                patients: action.payload.patients\r\n            }\r\n\r\n        case SET_SELECTED_PATIENT:\r\n            return {\r\n                ...state,\r\n                patient: action.payload.patient\r\n            };\r\n        \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default patientReducer;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport { \r\n    ADD_STATIC_SELECTED_OPTION,   \r\n    RESET_STATIC_OPTIONS,\r\n    SET_STATIC_OPTIONS,\r\n    SET_STATIC_SELECTED_OPTIONS \r\n} from '../actions/types';\r\n\r\nlet initialState = {\r\n    category: {\r\n        id: 'category',\r\n        first: true,\r\n        next: 'subcategory',\r\n        multichoice: false,\r\n        options: null,\r\n        reset: [ 'subcategory', 'sintactic', 'vocabulary', 'mechanic' ],\r\n        subtitle: `Elige una categoría semántica para desbloquear la opción\r\n                    Subcategoría semántica.`,\r\n        title: '1. Categoría semántica',\r\n    },\r\n    subcategory: {\r\n        id: 'subcategory',\r\n        multichoice: false,\r\n        next: 'sintactic',\r\n        options: null,\r\n        required: [ 'category' ],\r\n        reset: [ 'sintactic', 'vocabulary', 'mechanic' ],\r\n        subtitle: `Elige una de las subcategorías semánticas asociadas a la\r\n                    categoría semántica elegida. Esta selección desbloquea la\r\n                    opción Estructura sintáctica.`,\r\n        title: '2. Subcategoría semántica',\r\n    },\r\n    sintactic: {\r\n        id: 'sintactic',\r\n        multichoice: false,\r\n        next: 'vocabulary',\r\n        options: null,\r\n        reset: [ 'vocabulary', 'mechanic' ],\r\n        subtitle: `Elige la estructura sintáctica que deseas trabajar con tu\r\n                    paciente y desbloquea el vocabulario asociado.`,\r\n        title: '3. Estructura sintáctica',\r\n    },\r\n    vocabulary: {\r\n        id: 'vocabulary',\r\n        minimum: 3,\r\n        multichoice: true,\r\n        next: 'mechanic',\r\n        options: null,\r\n        required: [ 'subcategory', 'sintactic' ],\r\n        reset: [ 'mechanic' ],\r\n        subtitle: `Elige las palabras asociadas que quieres trabajar con tu\r\n                    paciente en la actividad (mínimo 3). Al elegir el vocabulario\r\n                    se desbloquea la mecánica de la actividad.`,\r\n        title: '4. Vocabulario asociado',\r\n    },\r\n    mechanic: {\r\n        id: 'mechanic',\r\n        multichoice: false,\r\n        next: null,\r\n        options: null,\r\n        required: [ 'subcategory', 'sintactic' ],\r\n        reset: null,\r\n        subtitle: `Elige la mecánica de la actividad que deseas trabajar con\r\n                    tu paciente.`,\r\n        title: '5. Mecánica de la actividad',\r\n    }\r\n}\r\n\r\nconst staticReducer = (state = initialState, action) => {\r\n    let field;\r\n    let fieldId;\r\n    let optionId;\r\n    let options;\r\n\r\n    switch(action.type) {\r\n        case ADD_STATIC_SELECTED_OPTION:\r\n            fieldId = action.payload.fieldId;\r\n            field = state[fieldId];\r\n\r\n            optionId = action.payload.optionId;\r\n            options = { ...field.options };\r\n\r\n            /** Marcar como seleccionada o no la opción elegida */\r\n            let option = options[optionId];\r\n            option.selected = option.selected ? !option.selected: true;\r\n\r\n            return {\r\n                ...state,\r\n                [fieldId]: { ...field, options }\r\n            };\r\n\r\n        case RESET_STATIC_OPTIONS:\r\n            fieldId = action.payload.fieldId;\r\n            field = state[fieldId];\r\n\r\n            return {\r\n                ...state,\r\n                [fieldId]: {\r\n                    ...field,\r\n                    options: null\r\n                }\r\n            };\r\n        \r\n        case SET_STATIC_OPTIONS:\r\n            fieldId = action.payload.fieldId;\r\n            field = state[fieldId];\r\n\r\n            return {\r\n                ...state,\r\n                [fieldId]: {\r\n                    ...field,\r\n                    options: action.payload.options\r\n                }\r\n            };\r\n\r\n        case SET_STATIC_SELECTED_OPTIONS:\r\n            fieldId = action.payload.fieldId;\r\n            optionId = action.payload.optionId;\r\n\r\n            field = state[fieldId];\r\n            options = Object.values({ ...field.options });\r\n            /** Remover las selecciones */\r\n            options.forEach(option => {\r\n                option.selected = option.id === optionId ? true : false;\r\n            });\r\n            /** Convertir las opciones a un objeto */\r\n            options = Object.assign({}, ...options.map((option) => {\r\n                return { [option.id]: option };\r\n            }));\r\n\r\n            return {\r\n                ...state,\r\n                [field.id]: { ...field, options } \r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default staticReducer;","/**\r\n * @author Martín Vladimir Alonsos Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport {\r\n    SET_BAR,\r\n    SET_FULLSCREEN,\r\n    SET_MODAL,\r\n    SET_NOTIFICATION,\r\n    SET_PARALLAX,\r\n    SET_V_OFFSET,\r\n    SET_WINDOW_WIDTH,\r\n    SHOW_AVATAR,\r\n    SHOW_CREATE_ACTIVITY_BUTTON,\r\n    SHOW_MOBILE_MENU,\r\n} from '../actions/types';\r\n\r\nlet initialState = {\r\n    bar: 'standard',\r\n    fullScreen: false,\r\n    modal: null,\r\n    notification: null,\r\n    parallax: false,\r\n    showAvatar: false,\r\n    showCreateActivityButton: false,\r\n    showMobileMenu: false,\r\n    vOffset: null,\r\n    windowWidth: window.innerWidth\r\n}\r\n\r\nconst uiReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case SET_BAR:\r\n            return {\r\n                ...state,\r\n                bar: action.payload.bar\r\n            };\r\n            \r\n        case SET_FULLSCREEN:\r\n            return {\r\n                ...state,\r\n                fullScreen: action.payload.fullScreen\r\n            };\r\n\r\n        case SET_MODAL:\r\n            return {\r\n                ...state,\r\n                modal: action.payload.modal\r\n            };\r\n        \r\n        case SET_NOTIFICATION:\r\n            return {\r\n                ...state,\r\n                notification: action.payload.notification\r\n            };\r\n\r\n        case SET_PARALLAX:\r\n            return {\r\n                ...state,\r\n                parallax: action.payload.parallax\r\n            };\r\n\r\n        case SET_V_OFFSET:\r\n            return {\r\n                ...state,\r\n                vOffset: action.payload.vOffset\r\n            };\r\n\r\n        case SET_WINDOW_WIDTH:\r\n            return {\r\n                ...state,\r\n                windowWidth: action.payload.width\r\n            };\r\n\r\n        case SHOW_AVATAR:\r\n            return {\r\n                ...state,\r\n                showAvatar: action.payload.show\r\n            }\r\n\r\n        case SHOW_CREATE_ACTIVITY_BUTTON:\r\n            return {\r\n                ...state,\r\n                showCreateActivityButton: action.payload.show\r\n            };\r\n        \r\n        case SHOW_MOBILE_MENU:\r\n            return {\r\n                ...state,\r\n                showMobileMenu: action.payload.show\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default uiReducer;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport { \r\n    SET_USER, \r\n    SET_USERS,\r\n    SET_TO_UPDATE \r\n} from '../actions/types';\r\n\r\nlet initialState = {\r\n    user: null,\r\n    users: null,\r\n    toUpdate: null,\r\n}\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case SET_USER:\r\n            return {\r\n                ...state,\r\n                user: action.payload.user\r\n            };\r\n\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.payload.users\r\n            };\r\n\r\n        case SET_TO_UPDATE:\r\n            return {\r\n                ...state,\r\n                toUpdate: action.payload.user\r\n            };\r\n            \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default userReducer;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport { combineReducers } from 'redux';\r\n/** Imports de los reducers */\r\nimport activityReducer from './activity';\r\nimport authReducer from './auth';\r\nimport avatarReducer from './avatar';\r\nimport collectionReducer from './collection';\r\nimport configurationReducer from './configuration';\r\nimport connectionReducer from './connection';\r\nimport dynamicReducer from './dynamic';\r\nimport feedbackReducer from './feedback';\r\nimport patientReducer from './patient';\r\nimport staticReducer from './static';\r\nimport uiReducer from './ui';\r\nimport userReducer from './user';\r\n\r\n/** Combinar reducers */\r\nconst allReducers = combineReducers({\r\n    activity: activityReducer,\r\n    auth: authReducer,\r\n    avatar: avatarReducer,\r\n    collection: collectionReducer,\r\n    configuration: configurationReducer,\r\n    connection: connectionReducer,\r\n    dynamic: dynamicReducer,\r\n    feedback: feedbackReducer,\r\n    patient: patientReducer,\r\n    static: staticReducer,\r\n    ui: uiReducer,\r\n    user: userReducer\r\n});\r\n\r\nexport default allReducers;","/**\r\n * @author Martín Vladimir Alonso Sierra Galvis\r\n * @maintainer Martín Vladimir Alonso Sierra Galvis\r\n * @version 1.0.0\r\n */\r\n\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport allReducers from './reducers';\r\n\r\nconst middleware = [ thunk ];\r\n\r\nconst composedEnhancers = composeWithDevTools(\r\n    applyMiddleware(...middleware),\r\n);\r\n\r\n/** Crear el store de redux */\r\nconst store = createStore(\r\n    allReducers,\r\n    composedEnhancers,\r\n);\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport App from './App';\r\nimport store from './store';\r\n\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <Router>\r\n            <App />\r\n        </Router>\r\n    </Provider>, \r\n    document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SUserNav_container__piflN\",\"link\":\"SUserNav_link__1lXdk\",\"uimage\":\"SUserNav_uimage__JCXUR\",\"thumb\":\"SUserNav_thumb__2Xh2m\",\"linksContainer\":\"SUserNav_linksContainer__1HsbN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SMenu_container__2Yxhb\",\"image\":\"SMenu_image__3j8T_\",\"item\":\"SMenu_item__2y48J\",\"menu\":\"SMenu_menu__1wwem\",\"name\":\"SMenu_name__2VPRa\",\"toggle\":\"SMenu_toggle__3ImI5\",\"thumb\":\"SMenu_thumb__1bxk3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"STActivitiesPage_container__Dkttc\",\"listContainer\":\"STActivitiesPage_listContainer__3H82W\",\"link\":\"STActivitiesPage_link__Zp_iB\",\"title\":\"STActivitiesPage_title__3hloJ\",\"titleContainer\":\"STActivitiesPage_titleContainer__15GGo\",\"btn\":\"STActivitiesPage_btn__10Nfo\",\"btnContainer\":\"STActivitiesPage_btnContainer___q4t_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"STConfigurationPage_btn__2Q1aY\",\"btnContainer\":\"STConfigurationPage_btnContainer__2lvgp\",\"btnSelected\":\"STConfigurationPage_btnSelected__3TLjP\",\"container\":\"STConfigurationPage_container__1SfrO\",\"create\":\"STConfigurationPage_create__V1e0R\",\"createContainer\":\"STConfigurationPage_createContainer__ejmW4\",\"title\":\"STConfigurationPage_title__SAFHt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"STSession_btn__1HRAO\",\"container\":\"STSession_container__3BTNV\",\"date\":\"STSession_date__1obRt\",\"first\":\"STSession_first__305GI\",\"innerContainer\":\"STSession_innerContainer__267Re\",\"last\":\"STSession_last__9rLEC\",\"selected\":\"STSession_selected__3sDgP\",\"time\":\"STSession_time__AqmmZ\",\"title\":\"STSession_title__3nRh1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"subtitle\":\"Feedback_subtitle__2jAva\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"border\":\"SBubbleNotification_border__2HzhK\",\"container\":\"SBubbleNotification_container__1FKzp\",\"containerDesktop\":\"SBubbleNotification_containerDesktop__rEvZS\",\"slide\":\"SBubbleNotification_slide__1vY3y\",\"containerMobile\":\"SBubbleNotification_containerMobile__3rxZT\",\"slide-mobile\":\"SBubbleNotification_slide-mobile__1HxUQ\",\"error\":\"SBubbleNotification_error__30IdJ\",\"iconContainer\":\"SBubbleNotification_iconContainer__3mpCw\",\"message\":\"SBubbleNotification_message__3kJu1\",\"success\":\"SBubbleNotification_success__6BfMy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"description\":\"SAvatarInfo_description__3-0RK\",\"title\":\"SAvatarInfo_title__2_kr2\",\"image\":\"SAvatarInfo_image__33PTx\",\"avatarSide\":\"SAvatarInfo_avatarSide__2ypT8\",\"container\":\"SAvatarInfo_container__1oU3a\",\"innerContainer\":\"SAvatarInfo_innerContainer__DZUKW\",\"sides\":\"SAvatarInfo_sides__2mJaW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"alias\":\"SUserHero_alias__30gX0\",\"col\":\"SUserHero_col__2-y6V\",\"container\":\"SUserHero_container__2HQOn\",\"header\":\"SUserHero_header__208gI\",\"row\":\"SUserHero_row__2JNLW\",\"userContainer\":\"SUserHero_userContainer__2iKG9\",\"uimage\":\"SUserHero_uimage__1pTXn\",\"uname\":\"SUserHero_uname__ahWoO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"SPActivity_btn__31_lh\",\"btnContainer\":\"SPActivity_btnContainer__kCgAz\",\"container\":\"SPActivity_container__DgMeO\",\"gameContainer\":\"SPActivity_gameContainer__3PhTU\",\"gameDescription\":\"SPActivity_gameDescription__WhuKO\",\"gameTitle\":\"SPActivity_gameTitle__2kzT7\",\"gameImage\":\"SPActivity_gameImage__2yi6e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnSelected\":\"STPatientsPage_btnSelected__1YXjO\",\"listContainer\":\"STPatientsPage_listContainer__2Gd2S\",\"searchContainer\":\"STPatientsPage_searchContainer__3wZs0\",\"title\":\"STPatientsPage_title__ShvPl\",\"btn\":\"STPatientsPage_btn__3XsPy\",\"btnContainer\":\"STPatientsPage_btnContainer__2U2bb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnEdit\":\"SAUser_btnEdit__31k6p\",\"container\":\"SAUser_container__3jGeH\",\"identification\":\"SAUser_identification__10yNg\",\"infoContainer\":\"SAUser_infoContainer__1c1tt\",\"name\":\"SAUser_name__2r1LZ\",\"thumb\":\"SAUser_thumb__3j8ix\",\"uimage\":\"SAUser_uimage__12AXo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnFile\":\"SAImageLoader_btnFile__yC3tC\",\"container\":\"SAImageLoader_container__1TFBc\",\"hidden\":\"SAImageLoader_hidden__22hCG\",\"hiddenImage\":\"SAImageLoader_hiddenImage__5cF78\",\"icon\":\"SAImageLoader_icon__gFXGj\",\"iconContainer\":\"SAImageLoader_iconContainer__1f591\",\"innerContainer\":\"SAImageLoader_innerContainer__wBoVn\",\"text\":\"SAImageLoader_text__nMsm9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SDevelop_container__HmJ_4\",\"innerContainer\":\"SDevelop_innerContainer__1B2tR\",\"icon\":\"SDevelop_icon__3Z57o\",\"logoImage\":\"SDevelop_logoImage__3Nyb1\",\"logoContainer\":\"SDevelop_logoContainer__2JtP6\",\"text\":\"SDevelop_text__19GGD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"SPCollectable_btn__3F17S\",\"btnBuy\":\"SPCollectable_btnBuy__11AV6\",\"container\":\"SPCollectable_container__CqgDH\",\"info\":\"SPCollectable_info__3Xpgw\",\"owned\":\"SPCollectable_owned__2OLUo\",\"name\":\"SPCollectable_name__3fJXU\",\"points\":\"SPCollectable_points__HH131\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"collapse\":\"SNav_collapse__2uCCs\",\"container\":\"SNav_container__3BYn3\",\"link\":\"SNav_link__2b-Aa\",\"nav\":\"SNav_nav__2ju7l\",\"navItem\":\"SNav_navItem__3yLMc\",\"toggler\":\"SNav_toggler___z89_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SMenuHeader_container__2AI3m\",\"email\":\"SMenuHeader_email__24phy\",\"image\":\"SMenuHeader_image__1tOAl\",\"name\":\"SMenuHeader_name__1VaY3\",\"thumb\":\"SMenuHeader_thumb__2X4El\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"SMobileMenu_btn__7TQ_l\",\"container\":\"SMobileMenu_container__jacuL\",\"linksContainer\":\"SMobileMenu_linksContainer__2x0sy\",\"menu\":\"SMobileMenu_menu__1s-WZ\",\"menuAppear\":\"SMobileMenu_menuAppear__nI2vG\",\"appearing\":\"SMobileMenu_appearing__1o-EH\",\"menuDissapear\":\"SMobileMenu_menuDissapear__1w5mU\",\"dissapearing\":\"SMobileMenu_dissapearing__1bsOp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SMobile_container__oh5ja\",\"description\":\"SMobile_description__14LjU\",\"image\":\"SMobile_image__117mR\",\"imageContainer\":\"SMobile_imageContainer__PDg_q\",\"innerContainer\":\"SMobile_innerContainer__3ytUQ\",\"title\":\"SMobile_title__1WjAc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"SProfilePage_btn__1Wku0\",\"container\":\"SProfilePage_container__2q-hR\",\"selected\":\"SProfilePage_selected__1AZjc\",\"options\":\"SProfilePage_options__pByhO\",\"optContainer\":\"SProfilePage_optContainer__1jqmL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"STLogin_btn__3Kn5c\",\"container\":\"STLogin_container__2KaZ9\",\"error\":\"STLogin_error__1NxeV\",\"label\":\"STLogin_label__3ot6S\",\"title\":\"STLogin_title__zrpZb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bar\":\"SHeaderBar_bar__1eNh0\",\"logo\":\"SHeaderBar_logo__3n5pz\",\"navbrand\":\"SHeaderBar_navbrand__1-Xwa\",\"patientBar\":\"SHeaderBar_patientBar__3eQ_s\",\"standardBar\":\"SHeaderBar_standardBar__3xag7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SLandingPage_container__K3tRn\",\"features\":\"SLandingPage_features__21L35\",\"featuresTitle\":\"SLandingPage_featuresTitle__MBjjQ\",\"mainIdea\":\"SLandingPage_mainIdea__1bR4Q\",\"mainPhrase\":\"SLandingPage_mainPhrase__1dI-F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SFeature_container__3-EK4\",\"description\":\"SFeature_description__3okm9\",\"infoContainer\":\"SFeature_infoContainer__zhU2k\",\"logo\":\"SFeature_logo__fkInR\",\"title\":\"SFeature_title__3GzMp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"SSkinItem_btn__100ay\",\"btnContainer\":\"SSkinItem_btnContainer__1G1SF\",\"container\":\"SSkinItem_container__26nnT\",\"alt\":\"SSkinItem_alt__cvVGs\",\"owned\":\"SSkinItem_owned__3WvlR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"SPLogin_btn__2waK7\",\"container\":\"SPLogin_container__3hPDj\",\"error\":\"SPLogin_error__h3n93\",\"label\":\"SPLogin_label__3v4FC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bgWhite\":\"SPPassButton_bgWhite__5Ltrk\",\"btn\":\"SPPassButton_btn__194iE\",\"btnInv\":\"SPPassButton_btnInv__1o0Ms\",\"icon\":\"SPPassButton_icon__3VFz4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"STField_container__kHP5P\",\"optionCol\":\"STField_optionCol__2DSLX\",\"optionRow\":\"STField_optionRow__2-rBu\",\"title\":\"STField_title__2uhn3\",\"subtitle\":\"STField_subtitle__ZguRN\"};"],"sourceRoot":""}