(this.webpackJsonpsara_app=this.webpackJsonpsara_app||[]).push([[0],{103:function(e,t,a){e.exports={container:"SFooterBar_container__1gSB7",copyright:"SFooterBar_copyright__ESh8s",innerContainer:"SFooterBar_innerContainer__1lM3b",logo:"SFooterBar_logo__2D-6T"}},104:function(e,t,a){e.exports={container:"SPCollectableInfoPage_container__2pREu",description:"SPCollectableInfoPage_description__n43HH",descriptionTitle:"SPCollectableInfoPage_descriptionTitle__1RUq-",title:"SPCollectableInfoPage_title__1O5Jn"}},105:function(e,t,a){e.exports={col:"SPCollection_col__2K7XX",container:"SPCollection_container__27A6j",rowContainer:"SPCollection_rowContainer__29q42",title:"SPCollection_title__3Uf03"}},106:function(e,t,a){e.exports={btn:"SPLogin_btn__2waK7",container:"SPLogin_container__3hPDj",label:"SPLogin_label__3v4FC"}},107:function(e,t,a){e.exports={bgWhite:"SPPassButton_bgWhite__5Ltrk",btn:"SPPassButton_btn__194iE",btnInv:"SPPassButton_btnInv__1o0Ms",icon:"SPPassButton_icon__3VFz4"}},108:function(e,t,a){e.exports={container:"STOption_container__2b_7b",inner:"STOption_inner__1PEEH",name:"STOption_name__oY1xP",selected:"STOption_selected__14b_j"}},109:function(e,t,a){e.exports={marginTop:"SSearch_marginTop__lV0l0",search:"SSearch_search__BEsUo",searchContainer:"SSearch_searchContainer__3Dpat",searchIcon:"SSearch_searchIcon__3B77W"}},110:function(e,t,a){e.exports={btnCreate:"SAUsersPage_btnCreate__3E2Im",listContainer:"SAUsersPage_listContainer__KhrhP",title:"SAUsersPage_title__ePhGC",toolsContainer:"SAUsersPage_toolsContainer__2f4UM"}},111:function(e,t,a){e.exports={container:"SAUpdateUserPage_container__33K79",formContainer:"SAUpdateUserPage_formContainer__2_Iev",title:"SAUpdateUserPage_title__zc6GE",userData:"SAUpdateUserPage_userData__1NyED"}},131:function(e,t,a){e.exports={container:"SAvatar_container__1p6Ra",image:"SAvatar_image__f6nMg",message:"SAvatar_message__36pWZ"}},132:function(e,t,a){e.exports={container:"SMobileAvatar_container__Dg-y0",image:"SMobileAvatar_image__kQP3-",message:"SMobileAvatar_message__1VqAb"}},133:function(e,t,a){e.exports={body:"SModal_body__KRael",modal:"SModal_modal__EefRS",title:"SModal_title__rzR2g"}},134:function(e,t,a){e.exports={absolute:"SVideo_absolute__39LAH",container:"SVideo_container__LFvgA",video:"SVideo_video__2EZSC"}},135:function(e,t,a){e.exports={container:"SFeatures_container__TuY4d",innerContainer:"SFeatures_innerContainer__1T4yv",title:"SFeatures_title__2D6NC"}},136:function(e,t,a){e.exports={container:"STLayout_container__3lOal",outerContainer:"STLayout_outerContainer__nbEQl",rowContainer:"STLayout_rowContainer__ObmR8"}},137:function(e,t,a){e.exports={container:"SPLayout_container__3A-ua",outerContainer:"SPLayout_outerContainer__1BQ8D",rowContainer:"SPLayout_rowContainer__2WCxn"}},138:function(e,t,a){e.exports={btnContainer:"SPassword_btnContainer__1l-cK",container:"SPassword_container__2IKTu"}},139:function(e,t,a){e.exports={btn:"STMechanics_btn__Tqd2i",container:"STMechanics_container__1tM1K",selected:"STMechanics_selected__2D98J"}},171:function(e,t,a){e.exports={carousel:"STAvatarPanel_carousel__13Etq",container:"STAvatarPanel_container__1VzPC"}},172:function(e,t,a){e.exports={border:"SCarousel_border__23GFp",style:"SCarousel_style__4G1i5"}},173:function(e,t,a){e.exports={container:"SAvatarItem_container__SylU4",image:"SAvatarItem_image__GThs2"}},174:function(e,t,a){e.exports={listContainer:"SPActivitiesPage_listContainer__1zQ0g",title:"SPActivitiesPage_title__st4Q8"}},175:function(e,t,a){e.exports={container:"SEmpty_container__17HkQ",text:"SEmpty_text__7_-8I"}},176:function(e,t,a){e.exports={container:"SPCollectionsPage_container__3W7c6",title:"SPCollectionsPage_title__auwrN"}},177:function(e,t,a){e.exports={container:"STFeedbackPage_container__3IMrm",title:"STFeedbackPage_title__cOZYB"}},178:function(e,t,a){e.exports={completeInput:"SDatePicker_completeInput__3Qnnh",input:"SDatePicker_input__186S_"}},228:function(e,t,a){e.exports={style:"SMenuLink_style__3mouR"}},233:function(e,t,a){e.exports={btnClose:"SPPlayPage_btnClose__3bovR",closeContainer:"SPPlayPage_closeContainer__prnKn",container:"SPPlayPage_container__1JXN7"}},234:function(e,t,a){e.exports={container:"STEvolution_container__1JFiX"}},235:function(e,t,a){e.exports={container:"STSessions_container__tZ9Rz"}},236:function(e,t,a){e.exports={container:"STHistorical_container__3XXqi"}},24:function(e,t,a){e.exports={container:"Charts_container__3RhdX",description:"Charts_description__2a5hw",mt20:"Charts_mt20__3ckh6",percentage:"Charts_percentage__bjF4d",phrasePercentage:"Charts_phrasePercentage__vJ19C",score:"Charts_score___ZO4Z",subtitle:"Charts_subtitle__15rOk",title:"Charts_title__3d5vo",word:"Charts_word__2sd5u",wordsContainer:"Charts_wordsContainer__1Nt_G"}},246:function(e,t,a){},249:function(e,t,a){},300:function(e,t){},31:function(e,t,a){e.exports={btn:"STPatient_btn__2j08s",btnActive:"STPatient_btnActive__1pd4a",link:"STPatient_link__tNTSf",container:"STPatient_container__2X2DS",height:"STPatient_height__1E83-",padding:"STPatient_padding__T-Vv2",thumb:"STPatient_thumb__1_vlU",uimage:"STPatient_uimage__3am3r",uinfo:"STPatient_uinfo__2X0Mb",uname:"STPatient_uname__v9FdO"}},39:function(e,t,a){e.exports={btn:"STACustomizer_btn__36HiN",col:"STACustomizer_col__3fIsC",container:"STACustomizer_container__3fiR_",header:"STACustomizer_header__2M7hK",rounded:"STACustomizer_rounded__3mSP5",selected:"STACustomizer_selected__1PA7P",title:"STACustomizer_title__90vX_"}},43:function(e,t,a){e.exports={btn:"SHero_btn__ed6WQ",btnContainer:"SHero_btnContainer__1PllE",container:"SHero_container__3qLwg",innerContainer:"SHero_innerContainer__1OoLy",link:"SHero_link__2NUmS",outerContainer:"SHero_outerContainer__3f7_s",subtitle:"SHero_subtitle__eo5s7",title:"SHero_title__qCU9U"}},44:function(e,t,a){e.exports={container:"STActivity_container__r4OSJ",date:"STActivity_date__IsoC9",description:"STActivity_description__cO8RH",btnEvolution:"STActivity_btnEvolution__3bVYL",aimage:"STActivity_aimage__1FOej",innerContainer:"STActivity_innerContainer__1b6Cz",nameContainer:"STActivity_nameContainer__2xVy_",rightContainer:"STActivity_rightContainer__3nmb0",syntContainer:"STActivity_syntContainer__AsPHV",title:"STActivity_title__1HtrQ"}},45:function(e,t,a){e.exports={btn:"STFeedOptions_btn__lNh_P",btnContainer:"STFeedOptions_btnContainer__VPsem",disabled:"STFeedOptions_disabled__1icUf",selected:"STFeedOptions_selected__1wOWG",span:"STFeedOptions_span__d7zy9"}},461:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(33),c=a.n(i),s=(a(246),a(247),a(248),a(7)),o=a(12),l=a(2),u=a(9),p=a(8),d=(a(249),a(27)),m=a(488),h=a(11),v="SET_ACTIVITIES",f="SET_ACTIVITY",b="SET_SELECTED_SESSION",g="SET_SESSIONS",_="SET_PATIENT_TOKEN",O="SET_THERAPIST_TOKEN",y="SET_AVATAR_MESSAGE",k="SET_AVATAR_VARIATION",E="SET_AVATAR_VARIATIONS",S="RESET_CONFIGURATION",j="SET_CONFIGURATION",C="RESET_DYNAMIC_OPTIONS",x="SET_DYNAMIC_OPTIONS",N="SET_DYNAMIC_SELECTED_OPTIONS",w="ADD_STATIC_SELECTED_OPTION",T="RESET_STATIC_OPTIONS",I="SET_STATIC_OPTIONS",A="SET_STATIC_SELECTED_OPTIONS",P="SET_COLLECTIONS",D="SET_COLLECTABLE",M="SET_USER_SKINS_OWNED",L="SET_USER_SKIN_OWNED",U="SET_CHECK_SERVER_STATUS",R="SET_CONNECTED_ID",F="SET_CONNECT_SOCKET",B="SET_FEEDBACK_DATA",z="SET_FEEDBACK_DATE",q="REMOVE_PATIENT",W="SET_PATIENT",V="SET_PATIENTS",H="SET_SELECTED_PATIENT",G="SET_BAR",K="SET_FULLSCREEN",X="SET_MODAL",Z="SET_NOTIFICATION",Y="SET_PARALLAX",J="SET_V_OFFSET",Q="SET_WINDOW_WIDTH",$="SHOW_AVATAR",ee="SHOW_CREATE_ACTIVITY_BUTTON",te="SHOW_MOBILE_MENU",ae="SET_USER",ne="SET_USERS",re="SET_TO_UPDATE",ie=function(e){return function(t){t({type:G,payload:{bar:e}})}},ce=function(e){return function(t){t({type:K,payload:{fullScreen:e}})}},se=function(e){return function(t){t({type:X,payload:{modal:e}})}},oe=function(e){return function(t){t({type:Z,payload:{notification:e}})}},le=function(e){return function(t){t({type:Y,payload:{parallax:e}})}},ue=function(e){return function(t){t({type:$,payload:{show:e}})}},pe=function(e){return function(t){t({type:ee,payload:{show:e}})}},de=function(e){return function(t){t({type:te,payload:{show:e}})}},me=a(4),he=a.n(me),ve=a(13),fe=a(20),be=a.n(fe),ge="https://satrelo-qa.ddns.net/file",_e="https://satrelo-qa.ddns.net",Oe=function(e){return function(t){t({type:R,payload:{connectedId:e}})}},ye=function(){function e(){if(Object(s.a)(this,e),e.instance instanceof e)return e.instance;this.synthesis=window.speechSynthesis,this.voice=null,e.instance=this}return Object(l.a)(e,[{key:"init",value:function(){var e=Object(ve.a)(he.a.mark((function e(t){var a,n,r=this;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setVoices();case 2:a=e.sent,n=a.voices,console.log(n),n.forEach((function(e){e.lang===t&&(r.voice=e)}));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setVoices",value:function(){var e=this;return new Promise((function(t){var a=setInterval((function(){var n=e.synthesis.getVoices();0!==n.length&&(t({voices:n}),clearInterval(a))}))}))}},{key:"speak",value:function(e){if(e){var t=new SpeechSynthesisUtterance(e);t.lang="es-MX",t.voice=this.voice,t.rate=1,t.pitch=1,this.synthesis.speak(t)}}}]),e}(),ke=new ye,Ee=ke,Se=a(227),je=a.n(Se),Ce=function(){function e(){if(Object(s.a)(this,e),e.instance instanceof e)return e.instance;this.socketURL="https://satrelo-qa.ddns.net",this.socketClient=null,e.instance=this}return Object(l.a)(e,[{key:"connectSocket",value:function(e,t){this.socketClient||(this.socketClient=je.a.connect(this.socketURL,{reconnection:!1}),this.socketClient.emit("register",{userId:e}),this.handleSocketEvents(t))}},{key:"closeSocket",value:function(e){this.socketClient&&(this.socketClient=null,e.props.setConnectedId(null),e.props.connectSocket&&e.props.setConnectSocket(!1))}},{key:"disconnectSocket",value:function(e){this.socketClient&&(this.socketClient.emit("unregister",{userId:e}),this.socketClient.disconnect())}},{key:"handleConnection",value:function(e,t){var a=e.connectSocket,n=e.connectedId;a?this.connectSocket(n,t):this.disconnectSocket(n)}},{key:"handleSocketEvents",value:function(e){var t=this;this.socketClient.on("disconnect",(function(){console.log("Socket desconectado!"),t.closeSocket(e)})),this.socketClient.on("error",(function(){t.closeSocket(e)})),this.socketClient.on("avatar_message",(function(e){console.log(e)})),this.socketClient.on("exit_game",(function(t){console.log(t),e.props.setFullScreen(!1)}))}}]),e}(),xe=new Ce,Ne=xe,we=function(){function e(t){Object(s.a)(this,e),this.context=t,this.interval=null}return Object(l.a)(e,[{key:"checkServerStatus",value:function(e,t,a){var n=this;e?this.interval=setInterval(Object(ve.a)(he.a.mark((function e(){var r,i,c,s;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.context.props.ping(t);case 2:r=e.sent,i=r.error,c=r.status,s=i?{error:i,status:c}:null,t?n.handleGameServerStatus():n.handleServerStatus(s,a);case 7:case"end":return e.stop()}}),e)}))),3e3):this.clearInterval()}},{key:"clearInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this.interval&&(clearInterval(this.interval),this.interval=null)}))},{key:"handleServerStatus",value:function(e,t){var a=this.context.props,n=a.connection,r=a.ui;if(e){var i=e.status;if(500===i){r.notification||a.setNotification({error:!0,message:"\xa1El servidor est\xe1 desconectado!",serverStatus:!0,slide:!1})}else 401===i&&console.log("\xa1Token inv\xe1lido!")}else t.handleConnection(n,this.context),r.notification&&r.notification.serverStatus&&a.setNotification(null)}},{key:"handleGameServerStatus",value:function(){}}]),e}(),Te=we,Ie=a(131),Ae=a.n(Ie),Pe=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:Ae.a.container},r.a.createElement("img",{className:Ae.a.image,alt:"",src:"/images/avatar/avatar_a_default.png"}),r.a.createElement("p",{className:Ae.a.message},this.props.avatar.message))}},{key:"componentDidMount",value:function(){Ee.speak(this.props.avatar.message)}},{key:"componentDidUpdate",value:function(e){e.avatar.message!==this.props.avatar.message&&Ee.speak(this.props.avatar.message)}}]),a}(n.Component),De=Object(h.b)((function(e){return{avatar:e.avatar}}))(Pe),Me=De,Le=a(59),Ue=a.n(Le),Re=a(30),Fe=a(29),Be=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.notification,t=e.error,a=e.message,n=e.slide,i=this.props,c=i.parallax,s=i.windowWidth,o=t?Fe.b:Fe.d,l=t?Ue.a.error:Ue.a.success,u=s>=768?Ue.a.containerDesktop:Ue.a.containerMobile,p=s>=768?-368:-200;n||(p=s>=768?-1:0);var d=c?"":Ue.a.border;return r.a.createElement("div",{className:"".concat(Ue.a.container," ").concat(u," ").concat(d," flex"),style:{"--finalSlide":"".concat(p,"px")}},r.a.createElement("div",{className:"flex ".concat(Ue.a.iconContainer," ").concat(l)},r.a.createElement(Re.a,{icon:o,size:"3x"})),r.a.createElement("span",{className:Ue.a.message},a))}},{key:"componentDidMount",value:function(){var e=this;this.props.notification.slide&&setTimeout((function(){e.props.setNotification(null)}),6001)}}]),a}(n.Component),ze={setNotification:oe},qe=Object(h.b)((function(e){return{notification:e.ui.notification,parallax:e.ui.parallax,windowWidth:e.ui.windowWidth}}),ze)(Be),We=qe,Ve=a(88),He=a.n(Ve),Ge=a(473),Ke=a(474),Xe=a(240),Ze=a(78),Ye=a.n(Ze),Je=a(23),Qe=a(465),$e=a(466),et=a(467),tt=a(468),at=function(e){var t=Object(n.useState)(!1),a=Object(Xe.a)(t,2),i=a[0],c=a[1],s=function(){e.windowWidth<=768&&c(!i)};return r.a.createElement("span",{className:Ye.a.container},r.a.createElement(Qe.a,{className:Ye.a.toggler,onClick:s}),r.a.createElement($e.a,{className:Ye.a.collapse,isOpen:i,navbar:!0},r.a.createElement(et.a,{className:Ye.a.nav,navbar:!0},r.a.createElement(tt.a,{className:Ye.a.navItem},r.a.createElement(Je.b,{className:Ye.a.link,onClick:s,to:"/"},"Inicio")))))},nt=at,rt=a(50),it=a.n(rt),ct=a(229),st="paciente",ot="terapeuta",lt=a(51),ut=a.n(lt),pt=a(469),dt=a(470),mt=a(471),ht=a(472),vt=a(79),ft=a.n(vt),bt=function(e){return r.a.createElement("div",{className:"flex ".concat(ft.a.container)},e.user.profile_img?r.a.createElement("img",{alt:"",className:ft.a.image,src:"".concat("https://satrelo-qa.ddns.net").concat(e.user.profile_img)}):r.a.createElement("div",{className:"flex ".concat(ft.a.image," ").concat(ft.a.thumb),style:{backgroundColor:e.user.color}},e.user.thumbnail_alias),r.a.createElement("span",{className:ft.a.name},e.user.name," ",e.user.last_name),r.a.createElement("span",{className:ft.a.email},e.user.email))},gt=bt,_t=a(228),Ot=a.n(_t),yt=a(5),kt="https://satrelo-qa.ddns.net/api",Et=function(e,t){return function(){var a=Object(ve.a)(he.a.mark((function a(n){var r,i,c,s,o,l,u,p,d,m;return he.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r="".concat(kt,"/auth/login"),e=Object(yt.a)(Object(yt.a)({},e),{},{role:t}),a.prev=2,a.next=5,be.a.post(r,{credentials:e});case 5:return i=a.sent,c=i.data,s=c.data,o=c.message,l=c.status,u=i.headers,p=200===l?u["auth-token"]:null,d=200===l?s.id:null,m=200!==l,n({type:t===st?_:O,payload:{token:p}}),localStorage.setItem("".concat(t,"Token"),p),a.abrupt("return",{error:m,message:o,userId:d});case 15:return a.prev=15,a.t0=a.catch(2),a.abrupt("return",{error:!0,message:a.t0,userId:null});case 18:case"end":return a.stop()}}),a,null,[[2,15]])})));return function(e){return a.apply(this,arguments)}}()},St=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onLinkClicked=n.onLinkClicked.bind(Object(o.a)(n)),n.onLogout=n.onLogout.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(Je.b,{className:Ot.a.style,to:this.props.to,onClick:this.onLinkClicked},this.props.children)}}]),Object(l.a)(a,[{key:"onLinkClicked",value:function(){this.props.onClick&&this.props.onClick(),"logout"===this.props.type&&this.onLogout()}},{key:"onLogout",value:function(){var e=this.props.role;this.props.logout(e)}}]),a}(n.Component),jt={logout:function(e){return function(t){t({type:e===st?_:O,payload:{token:null}}),localStorage.removeItem("".concat(e,"Token"))}}},Ct=Object(h.b)(null,jt)(St),xt=Ct,Nt=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={isOpen:!1},n.toggle=n.toggle.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.user,t=e.id,a=e.Role.name;return r.a.createElement(pt.a,{className:ut.a.container,isOpen:this.state.isOpen,toggle:this.toggle},r.a.createElement(dt.a,{className:"flex ghost-btn ".concat(ut.a.toggle)},r.a.createElement("span",{className:ut.a.name},this.props.user.name),this.props.user.profile_img?r.a.createElement("img",{alt:"",className:ut.a.image,src:"".concat("https://satrelo-qa.ddns.net").concat(this.props.user.profile_img)}):r.a.createElement("div",{className:"flex ".concat(ut.a.image," ").concat(ut.a.thumb),style:{backgroundColor:this.props.user.color}},this.props.user.thumbnail_alias)),r.a.createElement(mt.a,{className:ut.a.menu},r.a.createElement(ht.a,{header:!0},r.a.createElement(gt,{user:this.props.user})),r.a.createElement(ht.a,{divider:!0}),a===ot?r.a.createElement("span",null,r.a.createElement(ht.a,{className:ut.a.item},r.a.createElement(xt,{to:"/".concat(a,"/").concat(t,"/perfil")},"Perfil"))):null,r.a.createElement(ht.a,{className:ut.a.item},r.a.createElement(xt,{role:a,to:"/".concat(a),type:"logout"},"Salir"))))}}]),Object(l.a)(a,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}}]),a}(n.Component),wt=Object(h.b)((function(e){return{user:e.user.user}}))(Nt),Tt=wt,It=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onMenuButtonClicked=n.onMenuButtonClicked.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.user,t=e.id,a=e.is_admin,n=e.Role.name;return r.a.createElement("div",{className:"flex ".concat(it.a.container)},r.a.createElement("div",{className:it.a.linksContainer},n===st?r.a.createElement("span",null,r.a.createElement(Je.b,{className:it.a.link,to:"/".concat(n,"/").concat(t,"/actividades")},"Actividades"),r.a.createElement(Je.b,{className:it.a.link,to:"/".concat(n,"/").concat(t,"/colecciones")},"Colecciones")):r.a.createElement("span",null,a&&r.a.createElement(Je.b,{className:it.a.link,to:"/".concat(n,"/").concat(t,"/admin")},"Administrar"),r.a.createElement(Je.b,{className:it.a.link,to:"/".concat(n,"/").concat(t,"/pacientes")},"Pacientes"))),this.props.ui.windowWidth>=768?r.a.createElement(Tt,null):r.a.createElement(ct.a,{className:"ghost-btn",onClick:this.onMenuButtonClicked},this.props.user.profile_img?r.a.createElement("div",{className:it.a.uimage}):r.a.createElement("div",{className:"flex ".concat(it.a.uimage," ").concat(it.a.thumb),style:{backgroundColor:this.props.user.color}},this.props.user.thumbnail_alias)))}}]),Object(l.a)(a,[{key:"onMenuButtonClicked",value:function(){this.props.showMobileMenu(!0)}}]),a}(n.Component),At={showMobileMenu:de},Pt=Object(h.b)((function(e){return{ui:e.ui,user:e.user.user}}),At)(It),Dt=Pt,Mt=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.ui.bar,t=He.a.bar;return t="patient"===e?"".concat(t," ").concat(He.a.patientBar):"".concat(t," ").concat(He.a.standardBar),r.a.createElement(Ge.a,{className:t,expand:"lg",fixed:"top",light:!0},r.a.createElement(Ke.a,{className:He.a.navbrand},r.a.createElement("img",{alt:"",className:He.a.logo,src:"/images/logo/logo.png"}),"SATReLO"),null!==this.props.user?r.a.createElement(Dt,null):r.a.createElement(nt,{windowWidth:this.props.ui.windowWidth}))}}]),a}(n.Component),Lt=Object(h.b)((function(e){return{user:e.user.user,ui:e.ui}}))(Mt),Ut=Lt,Rt=a(132),Ft=a.n(Rt),Bt=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"flex ".concat(Ft.a.container)},r.a.createElement("div",{className:Ft.a.image}),r.a.createElement("p",{className:Ft.a.message},this.props.avatar.message))}},{key:"componentDidMount",value:function(){Ee.speak(this.props.avatar.message)}},{key:"componentDidUpdate",value:function(e){e.avatar.message!==this.props.avatar.message&&Ee.speak(this.props.avatar.message)}}]),a}(n.Component),zt=Object(h.b)((function(e){return{avatar:e.avatar}}))(Bt),qt=zt,Wt=a(80),Vt=a.n(Wt),Ht=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={animation:Vt.a.menuAppear},n.onAnimatedCloseClicked=n.onAnimatedCloseClicked.bind(Object(o.a)(n)),n.onSimpleCloseClicked=n.onSimpleCloseClicked.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.user,t=e.id,a=e.is_admin,n=e.Role.name;return r.a.createElement("div",{className:Vt.a.container},r.a.createElement(ct.a,{onClick:this.onAnimatedCloseClicked,className:"ghost-btn ".concat(Vt.a.btn)}),r.a.createElement("div",{className:"".concat(Vt.a.menu," ").concat(this.state.animation)},r.a.createElement(gt,{user:this.props.user}),r.a.createElement("br",null),r.a.createElement("div",{className:"h-delimiter"}),r.a.createElement("div",{className:Vt.a.linksContainer},n===ot?r.a.createElement("span",null,r.a.createElement(xt,{onClick:this.onSimpleCloseClicked,to:"/".concat(n,"/").concat(t,"/perfil")},"Perfil"),r.a.createElement(xt,{onClick:this.onSimpleCloseClicked,to:"/".concat(n,"/").concat(t,"/pacientes")},"Pacientes"),a&&r.a.createElement(xt,{onClick:this.onSimpleCloseClicked,to:"/".concat(n,"/").concat(t,"/admin")},"Administrar")):r.a.createElement("span",null,r.a.createElement(xt,{onClick:this.onSimpleCloseClicked,to:"/".concat(n,"/").concat(t,"/actividades")},"Actividades"),r.a.createElement(xt,{onClick:this.onSimpleCloseClicked,to:"/".concat(n,"/").concat(t,"/colecciones")},"Colecciones")),r.a.createElement(xt,{role:n,to:"/".concat(n),type:"logout"},"Salir"))))}}]),Object(l.a)(a,[{key:"onAnimatedCloseClicked",value:function(){var e=this;this.setState({animation:Vt.a.menuDissapear},(function(){setTimeout((function(){e.props.showMobileMenu(!1)}),210)}))}},{key:"onSimpleCloseClicked",value:function(){this.props.showMobileMenu(!1)}}]),a}(n.Component),Gt={showMobileMenu:de},Kt=Object(h.b)((function(e){return{user:e.user.user}}),Gt)(Ht),Xt=Kt,Zt=a(133),Yt=a.n(Zt),Jt=a(490),Qt=a(480),$t=a(481),ea=a(477),ta=a(475),aa=a(478),na=a(479),ra="https://satrelo-qa.ddns.net/api",ia=function(e){return function(){var t=Object(ve.a)(he.a.mark((function t(a){var n,r,i,c,s,o,l;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(ra,"/activity/").concat(e),t.prev=1,t.next=4,be.a.get(n);case 4:return r=t.sent,i=r.data,c=i.data,s=i.message,o=i.status,l=200!==o,a({type:f,payload:{activity:200===o?c:null}}),t.abrupt("return",{error:l,message:s});case 12:return t.prev=12,t.t0=t.catch(1),t.abrupt("return",{error:!0,message:t.t0});case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()},ca=function(e){return function(){var t=Object(ve.a)(he.a.mark((function t(a){var n,r,i,c,s,o,l;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(ra,"/patient/").concat(e,"/activities"),t.prev=1,t.next=4,be.a.get(n);case 4:return r=t.sent,i=r.data,c=i.data,s=i.message,o=i.status,l=200!==o,a({type:v,payload:{activities:200===o?c:null}}),t.abrupt("return",{error:l,message:s});case 12:return t.prev=12,t.t0=t.catch(1),t.abrupt("return",{error:!0,message:t.t0});case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()},sa=function(e){return function(t){t({type:f,payload:{activity:e}})}},oa=function(e){return function(t){t({type:v,payload:{activities:e}})}},la=function(e){return function(t){t({type:b,payload:{session:e}})}},ua=function(e){return function(){var t=Object(ve.a)(he.a.mark((function t(a){var n,r,i,c,s,o,l;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,r="".concat(ra,"/session/").concat(n),t.prev=2,t.next=5,be.a.put(r,{session:e});case 5:return i=t.sent,c=i.data,s=c.message,o=c.status,l=200!==o,t.abrupt("return",{error:l,message:s});case 11:return t.prev=11,t.t0=t.catch(2),t.abrupt("return",{error:!0,message:t.t0});case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()},pa=a(476),da=function(e){return r.a.createElement(ta.a,null,r.a.createElement(ct.a,{className:e.className,onClick:function(t){e.onClick(t)}},e.loading?r.a.createElement(pa.a,{color:"light",size:"sm"}):r.a.createElement("span",null,e.children)))},ma=da,ha=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={comment:"",error:null,loading:!1},n.onCancelClicked=n.onCancelClicked.bind(Object(o.a)(n)),n.onTextChanged=n.onTextChanged.bind(Object(o.a)(n)),n.onSaveClicked=n.onSaveClicked.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(ea.a,null,r.a.createElement(ta.a,{className:"mt-2"},r.a.createElement(aa.a,{type:"textarea",onChange:this.onTextChanged,placeholder:"Escribe tu comentario aqu\xed...",rows:"10",style:{resize:"none"},invalid:null!==this.state.error}),this.state.error&&r.a.createElement(na.a,null,this.state.error)),r.a.createElement("div",{className:"flex mt-4",style:{justifyContent:"center"}},r.a.createElement(ma,{className:"primary-btn",loading:this.state.loading,onClick:this.onSaveClicked},"Guardar"),r.a.createElement(ta.a,null,r.a.createElement(ct.a,{className:"simple-btn ml-2",onClick:this.onCancelClicked},"Cancelar"))))}}]),Object(l.a)(a,[{key:"onCancelClicked",value:function(){this.props.onCancelClicked()}},{key:"onTextChanged",value:function(e){this.setState({comment:e.target.value,error:null})}},{key:"onSaveClicked",value:function(){var e=Object(ve.a)(he.a.mark((function e(){var t,a,n,r,i;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==this.state.comment.trim()){e.next=4;break}this.setState({error:"Escribe un comentario para poder guardarlo"}),e.next=15;break;case 4:return this.setState({loading:!0}),t=this.props.session,a=this.state.comment,e.next=9,this.props.updateActivitySession({id:t,comment:a});case 9:n=e.sent,r=n.error,i=r?"Error al realizar la acci\xf3n: guardar el comentario":"Se realiz\xf3 exitosamente la acci\xf3n: guardar el comentario",this.props.setNotification({error:r,message:i,slide:!0}),this.setState({comment:"",loading:!1}),this.props.onCancelClicked();case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),va={setNotification:oe,updateActivitySession:ua},fa=Object(h.b)(null,va)(ha),ba=fa,ga=a(134),_a=a.n(ga),Oa=function(e){var t=e.absolute?_a.a.absolute:"",a=e.width?e.width:"100%";return r.a.createElement("div",{className:"".concat(_a.a.container," ").concat(t),style:{"--width":a}},r.a.createElement("video",{className:_a.a.video,controls:!0}))},ya=Oa,ka=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).closeModal=n.closeModal.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(Jt.a,{centered:!0,contentClassName:Yt.a.modal,isOpen:null!==this.props.ui.modal,size:"lg",toggle:this.closeModal},r.a.createElement(Qt.a,{toggle:this.closeModal},r.a.createElement("span",{className:Yt.a.title},this.props.ui.modal.title)),r.a.createElement($t.a,{className:Yt.a.body},"new_comment"===this.props.ui.modal.type?r.a.createElement(ba,{onCancelClicked:this.closeModal,session:this.props.ui.modal.session}):r.a.createElement(ya,null)))}}]),Object(l.a)(a,[{key:"closeModal",value:function(){this.props.setModal(null)}}]),a}(n.Component),Ea={setModal:se},Sa=Object(h.b)((function(e){return{ui:e.ui}}),Ea)(ka),ja=Sa,Ca=a(241),xa="https://satrelo-qa.ddns.net/api",Na=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var a=Object(ve.a)(he.a.mark((function a(n){var r,i,c,s,o,l,u,p;return he.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r="".concat(xa,"/user/").concat(e),a.prev=1,a.next=4,be.a.get(r);case 4:return i=a.sent,c=i.data,s=c.data,o=c.message,l=c.status,p=200!==l,n({type:t?re:ae,payload:{user:u=200===l?s:null}}),a.abrupt("return",{error:p,message:o,user:u});case 12:return a.prev=12,a.t0=a.catch(1),a.abrupt("return",{error:!0,message:a.t0,user:null});case 15:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(e){return a.apply(this,arguments)}}()},wa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(){var t=Object(ve.a)(he.a.mark((function t(a){var n,r,i,c,s,o,l;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(xa,"/user"),e&&(n="".concat(n,"?search=").concat(e)),t.prev=2,t.next=5,be.a.get(n);case 5:return r=t.sent,i=r.data,c=i.data,s=i.message,o=i.status,l=200!==o,a({type:ne,payload:{users:200===o?c:null}}),t.abrupt("return",{error:l,message:s});case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",{error:!0,message:t.t0});case 16:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}()},Ta=function(e){return function(t){t({type:ae,payload:{user:e}})}},Ia=function(e){return function(t){t({type:re,payload:{user:e}})}},Aa=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={role:n.getRoleFromPath()},n.hasToken=n.hasToken.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.component,n=Object(Ca.a)(t,["component"]),i=this.state.role;return r.a.createElement(d.b,Object.assign({},n,{render:function(t){return e.hasToken(i)?r.a.createElement(a,t):r.a.createElement(d.a,{to:"/".concat(i)})}}))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(ve.a)(he.a.mark((function e(){var t,a,n,r,i,c,s;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.role,this.showAvatar(t),this.setBar(t),this.setParallax(t),this.checkServerStatus(!0),!this.hasToken(t)||null!==this.props.user){e.next=15;break}return a=this.props.computedMatch,n=t===st?"p":"t",r=a.params["".concat(n,"id")],e.next=11,this.props.getUser(r);case 11:i=e.sent,c=i.error,s=i.user,c||this.connectSocket(t,s.id);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.disconnectSocket(),this.checkServerStatus(!1),this.props.setNotification(null)}},{key:"checkServerStatus",value:function(e){this.props.setCheckServerStatus(e)}},{key:"connectSocket",value:function(e,t){e===st&&(this.props.setConnectedId(t),this.props.setConnectSocket(!0))}},{key:"disconnectSocket",value:function(){this.props.setConnectSocket(!1)}},{key:"getRoleFromPath",value:function(){return this.props.path.split("/")[1]}},{key:"hasToken",value:function(e){var t=this.props.auth["".concat(e,"Token")];return!!t&&(be.a.defaults.headers.common["Auth-Token"]||(be.a.defaults.headers.common["Auth-Token"]=t),!0)}},{key:"setBar",value:function(e){var t=e===st?"patient":"standard";this.props.setBar(t)}},{key:"setParallax",value:function(e){var t=e===st;this.props.setParallax(t)}},{key:"showAvatar",value:function(e){var t=e===st;this.props.showAvatar(t)}}]),a}(n.Component),Pa={getUser:Na,setBar:ie,setCheckServerStatus:function(e){return function(t){t({type:U,payload:{check:e}})}},setConnectedId:Oe,setConnectSocket:function(e){return function(t){t({type:F,payload:{connectSocket:e}})}},setNotification:oe,setParallax:le,showAvatar:ue},Da=Object(h.b)((function(e){return{auth:e.auth,user:e.user.user}}),Pa)(Aa),Ma=Da,La=a(89),Ua=a.n(La),Ra=a(483),Fa=a(482),Ba=a(60),za=a.n(Ba),qa=function(){return r.a.createElement("div",{className:"flex ".concat(za.a.container)},r.a.createElement("div",{className:"flex ".concat(za.a.innerContainer)},r.a.createElement("div",{className:"".concat(za.a.sides," ").concat(za.a.avatarSide)},r.a.createElement("img",{alt:"",className:za.a.image,src:"/images/avatar/avatar_a_default.png"})),r.a.createElement("div",{className:za.a.sides},r.a.createElement("p",{className:za.a.title},"\xa1Avatar para apoyar las terapias!"),r.a.createElement("p",{className:za.a.description},"C\xf3mo terapeuta puedes personalizar un avatar con el que tu paciente podr\xe1 interactuar mientras realiza sus actividades asignadas"))))},Wa=qa,Va=a(72),Ha=a.n(Va),Ga=function(){return r.a.createElement("div",{className:"flex ".concat(Ha.a.container)},r.a.createElement("div",{className:"flex ".concat(Ha.a.innerContainer)},r.a.createElement("p",{className:Ha.a.text},"Ideado y desarrollado con",r.a.createElement(Re.a,{className:Ha.a.icon,icon:Fe.e}),"por un equipo interdisciplinar de"),r.a.createElement("div",{className:"flex ".concat(Ha.a.logoContainer)},r.a.createElement("img",{alt:"",className:Ha.a.logoImage,src:"/images/landing/logo_incs.png"}),r.a.createElement("img",{alt:"",className:Ha.a.logoImage,src:"/images/landing/logo_pujc.png"}))))},Ka=Ga,Xa=a(135),Za=a.n(Xa),Ya=a(90),Ja=a.n(Ya),Qa=function(e){return r.a.createElement(Fa.a,{sm:"12",md:"4"},r.a.createElement("div",{className:"flex ".concat(Ja.a.container)},r.a.createElement("img",{alt:"",className:Ja.a.logo,src:e.feature.logo}),r.a.createElement("div",{className:Ja.a.infoContainer},r.a.createElement("div",{className:Ja.a.title},e.feature.title),r.a.createElement("div",{className:Ja.a.description},e.feature.description))))},$a=Qa,en=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:Za.a.title},"Si eres ",e.role),r.a.createElement("div",{className:"flex ".concat(Za.a.container)},r.a.createElement("div",{className:Za.a.innerContainer},r.a.createElement(Ra.a,{noGutters:!0},e.features.map((function(e){return r.a.createElement($a,{feature:e,key:e.id})}))))))},tn=en,an=a(103),nn=a.n(an),rn=function(){return r.a.createElement("div",{className:"flex ".concat(nn.a.container)},r.a.createElement("div",{className:nn.a.innerContainer},r.a.createElement("p",{className:nn.a.logo},"SATReLO 2",r.a.createElement("br",null),r.a.createElement("span",{className:nn.a.copyright},"\xa9 Copyright 2019-2020"))))},cn=rn,sn=a(43),on=a.n(sn),ln=function(){return r.a.createElement("div",{className:on.a.container},r.a.createElement("div",{className:on.a.outerContainer},r.a.createElement("div",{className:"flex ".concat(on.a.innerContainer)},r.a.createElement("div",{className:on.a.title},"La Aplicaci\xf3n de Apoyo a la Rehabilitaci\xf3n del Lenguaje Oral"),r.a.createElement("div",{className:on.a.subtitle},"Generaci\xf3n de actividades personalizadas para atender las necesidades particulares de los pacientes"),r.a.createElement("div",{className:"flex ".concat(on.a.btnContainer)},r.a.createElement(Je.b,{className:on.a.link,to:"/paciente"},r.a.createElement(ct.a,{className:"secondary-btn ".concat(on.a.btn),size:"lg"},"Ingresa como paciente")),r.a.createElement(Je.b,{className:on.a.link,to:"terapeuta"},r.a.createElement(ct.a,{className:"primary-btn ".concat(on.a.btn),size:"lg"},"Ingresa como terapeuta"))))),r.a.createElement(ya,{absolute:!0,width:"700px"}))},un=ln,pn=a(81),dn=a.n(pn),mn=function(){return r.a.createElement("div",{className:"flex ".concat(dn.a.container)},r.a.createElement("div",{className:dn.a.innerContainer},r.a.createElement("p",{className:dn.a.title},"\xa1En todos tus dispositivos!"),r.a.createElement("p",{className:dn.a.description},"SATReLO est\xe1 cuidadosamente dise\xf1ado para que se vea y funcione bien en todos tus dispositivos, ya sean computadores, tablets o smartphones."),r.a.createElement("div",{className:"flex ".concat(dn.a.imageContainer)},r.a.createElement("img",{alt:"",className:dn.a.image,src:"images/landing/mobile.png"}))))},hn=mn,vn={therapist:{role:"terapeuta",features:[{description:"Configura y genera actividades personalizadas\n                                de acuerdo a las necesidades del paciente",id:1,logo:"/images/landing/settings.png",title:"Configura actividades",type:"feature"},{description:"Asigna las actividades generadas al paciente \n                                correspondiente",id:2,logo:"/images/landing/user.png",title:"As\xedgnalas al paciente",type:"feature"},{description:"Recibe retroalimentaci\xf3n del progreso del paciente\n                                en las actividades",id:3,logo:"/images/landing/feedback.png",title:"Recibe retroalimentaci\xf3n",type:"feature"}]},patient:{role:"paciente",features:[{description:"Realiza las actividades asignadas por el\n                                terapeuta",id:1,logo:"/images/landing/game.png",title:"Juega las actividades",type:"feature"},{description:"Gana puntos a medida que completas las\n                                actividades asignadas",id:2,logo:"/images/landing/score.png",title:"Acumula puntos",type:"feature"},{description:"Intercambia los puntos en la tienda por\n                                coleccionables",id:3,logo:"/images/landing/collection.png",title:"Completa la colecci\xf3n",type:"feature"}]}},fn=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state=Object(yt.a)(Object(yt.a)({},n.state),{},{featuresData:vn}),n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(Ra.a,{noGutters:!0},r.a.createElement(Fa.a,{xs:"12",className:Ua.a.container},r.a.createElement(un,null),r.a.createElement("div",{className:Ua.a.mainPhrase},"\xbfC\xf3mo ayuda SATReLO en las terapias de rehabilitaci\xf3n?",r.a.createElement("p",{className:Ua.a.mainIdea},"SATReLO ayuda en la mecanizaci\xf3n de la estructuraci\xf3n del lenguaje oral y escrito por medio de la realizaci\xf3n de actividades a modo de juegos")),r.a.createElement("div",{className:Ua.a.features},r.a.createElement("p",{className:Ua.a.featuresTitle},"\xbfC\xf3mo funciona?"),r.a.createElement(tn,this.state.featuresData.therapist),r.a.createElement(tn,this.state.featuresData.patient)),r.a.createElement(Wa,null),r.a.createElement(hn,null),r.a.createElement(Ka,null),r.a.createElement(cn,null)))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.setBar("standard"),this.props.setParallax(!1),this.props.showMobileMenu(!1),this.props.setUser(null),this.props.showAvatar(!1)}}]),a}(n.Component),bn={setUser:Ta,setBar:ie,setParallax:le,showAvatar:ue,showMobileMenu:de},gn=Object(h.b)(null,bn)(fn),_n=gn,On=a(82),yn=a.n(On),kn=a(22),En=a(70),Sn="https://satrelo-qa.ddns.net/api",jn=function(e){return function(t){t({type:y,payload:{message:e}})}},Cn=a(171),xn=a.n(Cn),Nn=a(172),wn=a.n(Nn),Tn=a(484),In=a(485),An=a(232),Pn=a(173),Dn=a.n(Pn),Mn=function(){return r.a.createElement("div",{className:"flex ".concat(Dn.a.container)},r.a.createElement("img",{alt:"",className:Dn.a.image,src:"/images/avatar/avatar_a_default.png"}))},Ln=Mn,Un=a(91),Rn=a.n(Un),Fn="https://satrelo-qa.ddns.net/api",Bn=function(e,t){return function(){var a=Object(ve.a)(he.a.mark((function a(n){var r,i,c,s,o,l,u,p;return he.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=t.skinId,i="".concat(Fn,"/patient/").concat(e,"/skin/").concat(r),a.prev=2,a.next=5,be.a.get(i);case 5:return c=a.sent,s=c.data,o=s.message,l=s.status,u=200!==l,200===l&&(p=t.single,n({type:p?L:M,payload:{data:t}})),a.abrupt("return",{error:u,message:o});case 12:return a.prev=12,a.t0=a.catch(2),a.abrupt("return",{error:!0,message:a.t0});case 15:case"end":return a.stop()}}),a,null,[[2,12]])})));return function(e){return a.apply(this,arguments)}}()},zn=function(e,t){return function(){var a=Object(ve.a)(he.a.mark((function a(n){var r,i,c,s,o,l,u;return he.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r="".concat(Fn,"/patient/").concat(e,"/skin"),i=t.skins,a.prev=2,a.next=5,be.a.post(r,{skins:i});case 5:return c=a.sent,s=c.data,o=s.message,l=s.status,u=200!==l,200===l&&(delete t.skins,t.single?n({type:L,payload:{data:t}}):i.forEach((function(e){t.skinId=e.id,n({type:M,payload:{data:t}})}))),a.abrupt("return",{error:u,message:o});case 12:return a.prev=12,a.t0=a.catch(2),a.abrupt("return",{error:!0,message:a.t0});case 15:case"end":return a.stop()}}),a,null,[[2,12]])})));return function(e){return a.apply(this,arguments)}}()},qn=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={loading:!1,price:n.props.price+n.props.collectable.price},n.onBuyClicked=n.onBuyClicked.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:Rn.a.container},r.a.createElement("p",{className:Rn.a.alt},this.props.name),this.props.owned?r.a.createElement("div",{className:Rn.a.owned},"Ya tienes este \xedtem"):r.a.createElement("div",{className:"flex ".concat(Rn.a.btnContainer)},r.a.createElement(ct.a,{className:"primary-btn ".concat(Rn.a.btn),onClick:this.onBuyClicked},this.state.loading?r.a.createElement(pa.a,{color:"light",size:"sm"}):r.a.createElement("span",null,"Comprar por ",this.state.price," puntos"))))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.checkUserSkin()}},{key:"componentDidUpdate",value:function(e){e.collectable!==this.props.collectable&&this.updatePrice()}},{key:"buildData",value:function(e){var t={collectableId:this.props.collectable.id,collectionId:this.props.collectable.id_collection,single:!1};return e&&(t.skinId=this.props.id),t}},{key:"buySkins",value:function(){var e=Object(ve.a)(he.a.mark((function e(t){var a;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=this.buildData(!1)).skins=t,this.setState({loading:!0}),e.next=5,this.props.setPatientSkins(this.props.userId,a);case 5:this.setState({loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkUserSkin",value:function(){var e=Object(ve.a)(he.a.mark((function e(){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.buildData(!0),this.setState({loading:!0}),e.next=4,this.props.getPatientSkin(this.props.userId,t);case 4:this.setState({loading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onBuyClicked",value:function(){var e=this,t=[{id:this.props.id}];this.props.price<this.state.price&&Object.values(this.props.collectable.Skins).forEach((function(a){a.is_default&&a.id!==e.props.id&&t.push({id:a.id})}));this.buySkins(t)}},{key:"updatePrice",value:function(){this.props.price!==this.state.price&&this.setState({price:this.props.price})}}]),a}(n.Component),Wn={getPatientSkin:Bn,setPatientSkins:zn},Vn=Object(h.b)((function(e){return{collectable:e.collection.collectable}}),Wn)(qn),Hn=Vn,Gn=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={activeIndex:0,animating:!1},n.animateItem=n.animateItem.bind(Object(o.a)(n)),n.buildItems=n.buildItems.bind(Object(o.a)(n)),n.goToIndex=n.goToIndex.bind(Object(o.a)(n)),n.next=n.next.bind(Object(o.a)(n)),n.previous=n.previous.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.kind,t=wn.a.style;return"avatar"!==e&&(t="".concat(t," ").concat(wn.a.border)),r.a.createElement(Tn.a,{className:t,activeIndex:this.state.activeIndex,interval:!1,next:this.next,previous:this.previous},this.buildItems(),r.a.createElement(In.a,{direction:"prev",onClickHandler:this.previous}),r.a.createElement(In.a,{direction:"next",onClickHandler:this.next}))}}]),Object(l.a)(a,[{key:"animateItem",value:function(e){this.setState({animating:e})}},{key:"buildItems",value:function(){var e=this;return this.props.items.map((function(t){return r.a.createElement(An.a,{key:t.id,onExiting:function(){e.animateItem(!0)},onExited:function(){e.animateItem(!1)}},"avatar"===e.props.kind?r.a.createElement(Ln,null):r.a.createElement(Hn,Object.assign({},t,{userId:e.props.userId})))}))}},{key:"goToIndex",value:function(e){this.state.animating||(this.setState({activeIndex:e}),this.onCarouselChanged(e))}},{key:"next",value:function(){if(!this.state.animating){var e=this.state.activeIndex===this.props.items.length-1?0:this.state.activeIndex+1;this.setState({activeIndex:e}),this.onCarouselChanged(e)}}},{key:"previous",value:function(){if(!this.state.animating){var e=0===this.state.activeIndex?this.props.items.length-1:this.state.activeIndex-1;this.setState({activeIndex:e}),this.onCarouselChanged(e)}}},{key:"onCarouselChanged",value:function(e){if("avatar"===this.props.kind){var t=this.props.items[e];this.props.onCarouselChanged(t)}}}]),a}(n.Component),Kn=Gn,Xn=Kn,Zn=a(39),Yn=a.n(Zn),Jn=function(e){var t=20;return void 0!==e.padding&&(t=e.padding),r.a.createElement("div",{style:{border:"1px solid #E0E0E0",borderRadius:"3px",boxShadow:"3px 3px 10px -3px #E0E0E0",padding:"15px ".concat(t,"px"),width:"100%"}},e.children)},Qn=Jn,$n={eye:{id:1,name:"Ojos",dbalias:"eye"},hair:{id:2,name:"Cabello",dbalias:"hair"},torso:{id:3,name:"Torso",dbalias:"torso"}},er={colors:{kind:"rounded",name:"colors",options:{blue:{id:1,button:"blue",name:"Azul"},brown:{id:2,button:"brown",name:"Caf\xe9"}},title:"Color de ojos"}},tr={colors:{kind:"rounded",name:"colors",options:{black:{id:1,button:"black",name:"Negro"},blonde:{id:2,button:"blonde",name:"Rubio"},brown:{id:3,button:"brown",name:"Caf\xe9"}},title:"Color de cabello"}},ar={colors:{kind:"rounded",name:"colors",options:{blue:{id:1,button:"blue",name:"Azul"},green:{id:2,button:"green",name:"Verde"},purple:{id:3,button:"purple",name:"Morado"}},title:"Color del torso"}},nr=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={options:$n,eye:er,hair:tr,torso:ar,option:"eye"},n.onOptionClicked=n.onOptionClicked.bind(Object(o.a)(n)),n.onSectionOptionClicked=n.onSectionOptionClicked.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(Qn,{padding:0},r.a.createElement("div",{className:"".concat(Yn.a.container," ").concat(Yn.a.header)},r.a.createElement(Ra.a,{noGutters:!0},this.buildOptions())),this.buildSections())}}]),Object(l.a)(a,[{key:"buildOptions",value:function(){var e=this;return Object.values(this.state.options).map((function(t){var a="ghost-btn ".concat(Yn.a.btn);return t.dbalias===e.state.option&&(a="".concat(a," ").concat(Yn.a.selected)),r.a.createElement(Fa.a,{xs:"2",className:Yn.a.col,key:t.id},r.a.createElement(ct.a,{className:a,name:t.dbalias,onClick:e.onOptionClicked}))}))}},{key:"buildSections",value:function(){var e=this,t=this.state.option;return Object.values(this.state[t]).map((function(t,a){return r.a.createElement("div",{className:Yn.a.container,key:a},r.a.createElement("div",{className:Yn.a.title},t.title),r.a.createElement(Ra.a,{noGutters:!0},e.buildSectionsOptions(t)))}))}},{key:"buildSectionsOptions",value:function(e){var t=this,a=e.kind,n=e.name;return Object.values(e.options).map((function(e){var i="ghost-btn ".concat(Yn.a.btn," ").concat(Yn.a[a]);return e.selected&&(i="".concat(i," ").concat(Yn.a.selected)),r.a.createElement(Fa.a,{xs:"2",className:Yn.a.col,key:e.id},r.a.createElement(ct.a,{className:i,name:"".concat(n,"-").concat(e.button,"-").concat(e.name),onClick:t.onSectionOptionClicked}))}))}},{key:"onOptionClicked",value:function(e){this.setState({option:e.target.name})}},{key:"onSectionOptionClicked",value:function(e){var t=e.target.name.split("-"),a=t[0],n=t[1],r=t[2],i=this.state.option,c=this.state[i];Object.values(c[a].options).forEach((function(e){e.selected=e.button===n})),this.setState(Object(kn.a)({},i,c)),this.props.onOptionSelected({option:i,section:a,selected:r})}}]),a}(n.Component),rr=nr,ir=rr,cr=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={current:null,eye:null,hair:null,torso:null},n.onCarouselChanged=n.onCarouselChanged.bind(Object(o.a)(n)),n.onOptionSelected=n.onOptionSelected.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.variations;return e=e?Object.values(e):[],r.a.createElement(Ra.a,{className:xn.a.container,noGutters:!0},r.a.createElement(Fa.a,{className:xn.a.carousel,sm:"12",md:"7"},e&&r.a.createElement(Xn,{items:e,kind:"avatar",onCarouselChanged:this.onCarouselChanged})),r.a.createElement(Fa.a,{sm:"12",md:"5"},r.a.createElement(ir,{onOptionSelected:this.onOptionSelected})))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.user&&this.getVariations()}},{key:"componentDidUpdate",value:function(){if(this.props.user&&!this.props.variations&&this.getVariations(),this.props.variations){var e=Object.values(this.props.variations);this.state.current!==e[0]&&this.setState({current:e[0]})}}},{key:"getVariation",value:function(){var e=Object(ve.a)(he.a.mark((function e(){var t,a,n,r,i=this;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object.assign({},this.state),a=Object.assign({},t.current),delete t.current,n=Object.keys(t),r={id_avatar:a.id_avatar},n.forEach((function(e){var t=i.state[e];t&&(r[e]=t)})),delete a.id,delete a.img_path,delete a.thumbnail_path,r=Object(yt.a)(Object(yt.a)({},a),r),e.next=12,this.props.getAvatarVariation(r);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getVariations",value:function(){var e=Object(ve.a)(he.a.mark((function e(){var t,a,n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.user,a=t.Avatar_Variation,n=t.gender,e.next=3,this.props.getAvatarVariations(n,a);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onCarouselChanged",value:function(e){e!==this.state.current&&this.setState({current:e})}},{key:"onOptionSelected",value:function(e){var t=this,a=e.option,n=e.section,r=e.selected,i=this.state[a];i?i[n]=r:i=Object(kn.a)({},n,r),this.setState(Object(kn.a)({},a,i),(function(){t.getVariation()}))}}]),a}(n.Component),sr={getAvatarVariation:function(e){return function(){var t=Object(ve.a)(he.a.mark((function t(a){var n,r,i,c,s,o,l;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(Sn,"/avatar/variation"),t.prev=1,t.next=4,be.a.get(n,{params:Object(yt.a)({},e)});case 4:return r=t.sent,i=r.data,c=i.data,s=i.message,o=i.status,l=200!==o,a({type:k,payload:{variation:200===o?c:null}}),t.abrupt("return",{error:l,message:s});case 12:return t.prev=12,t.t0=t.catch(1),t.abrupt("return",{error:!0,message:t.t0});case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()},getAvatarVariations:function(e,t){return function(){var a=Object(ve.a)(he.a.mark((function a(n){var r,i,c,s,o,l,u,p,d;return he.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r="".concat(Sn,"/avatar/variations/").concat(e),a.prev=1,a.next=4,be.a.get(r);case 4:return i=a.sent,c=i.data,s=c.data,o=c.status,l=c.message,u=200===o?s:{1:{id:1,id_avatar:1}},!(p=200!==o)&&t&&(u=Object.values(u),d=0,u.forEach((function(e,a){t.id===e.id&&(d=a)})),u.splice(d,1),u.unshift(t),u=Object.assign.apply(Object,[{}].concat(Object(En.a)(u.map((function(e){return Object(kn.a)({},e.id,e)})))))),n({type:E,payload:{variations:u}}),a.abrupt("return",{error:p,message:l});case 13:return a.prev=13,a.t0=a.catch(1),a.abrupt("return",{error:!0,message:a.t0});case 16:case"end":return a.stop()}}),a,null,[[1,13]])})));return function(e){return a.apply(this,arguments)}}()}},or=Object(h.b)((function(e){return{user:e.user.user,variations:e.avatar.variations}}),sr)(cr),lr=or,ur=a(136),pr=a.n(ur),dr=function(e){var t="feedback"===e.page?"10":"9",a=e.mt?e.mt:62;return r.a.createElement("div",{className:"flex ".concat(pr.a.outerContainer)},r.a.createElement(Ra.a,{className:"justify-content-center ".concat(pr.a.rowContainer),noGutters:!0},r.a.createElement(Fa.a,{xs:"12",sm:"12",md:"12",lg:"12",xl:t},r.a.createElement("div",{className:pr.a.container,style:{"--mt":"".concat(a,"px"),"--pt":"".concat(e.pt,"px")}},e.children))))},mr=dr,hr=a(61),vr=a.n(hr),fr=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",{className:vr.a.container},r.a.createElement("div",{className:vr.a.header}),r.a.createElement("div",{className:"flex ".concat(vr.a.userContainer)},r.a.createElement(Ra.a,{className:"justify-content-center ".concat(vr.a.row),noGutters:!0},r.a.createElement(Fa.a,{className:"flex ".concat(vr.a.col),xs:"12",xl:"9"},e&&e.profile_img?r.a.createElement("img",{alt:"",className:vr.a.uimage,src:"".concat("https://satrelo-qa.ddns.net").concat(e.profile_img)}):e&&e.thumbnail_alias?r.a.createElement("div",{className:"flex ".concat(vr.a.alias),style:{backgroundColor:e.color}},e.thumbnail_alias):null,r.a.createElement("div",{className:vr.a.uname},e&&r.a.createElement("span",null,e.name," ",e.last_name))))))}}]),a}(n.Component),br=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={option:"avatar"},n.onOptionClicked=n.onOptionClicked.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.user,t=null;e&&(t=e.Role.name);var a="ghost-btn ".concat(yn.a.btn),n=this.state.option,i="avatar"===n?"".concat(a," ").concat(yn.a.selected):a,c="info"===n?"".concat(a," ").concat(yn.a.selected):a;return r.a.createElement("div",{className:yn.a.container},r.a.createElement(fr,{user:e}),r.a.createElement(mr,{mt:298},r.a.createElement("div",{className:yn.a.options},t===ot?r.a.createElement("span",{className:"flex ".concat(yn.a.optContainer)},r.a.createElement(ct.a,{className:c,name:"info",onClick:this.onOptionClicked},"Informaci\xf3n"),r.a.createElement(ct.a,{className:i,name:"avatar",onClick:this.onOptionClicked},"Avatar")):null),"avatar"===this.state.option?r.a.createElement(lr,null):null))}}]),Object(l.a)(a,[{key:"componentWillUnmount",value:function(){this.props.setAvatarVariations(null)}},{key:"onOptionClicked",value:function(e){this.setState({option:e.target.name})}}]),a}(n.Component),gr={setAvatarVariations:function(e){return function(t){t({type:E,payload:{variations:e}})}}},_r=Object(h.b)((function(e){return{user:e.user.user}}),gr)(br),Or=a(174),yr=a.n(Or),kr=a(175),Er=a.n(kr),Sr=function(e){return r.a.createElement("div",{className:"flex ".concat(Er.a.container)},r.a.createElement("p",{className:Er.a.text},e.children))},jr=a(62),Cr=a.n(jr),xr=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={loading:!1,session:null},n.onPlayClicked=n.onPlayClicked.bind(Object(o.a)(n)),n.onTutorialClicked=n.onTutorialClicked.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.activity,a=e.id;if(this.state.session){var n="/paciente/".concat(a,"/actividades/").concat(t.id)+"/sesiones/".concat(this.state.session.id);return r.a.createElement(d.a,{to:n,push:!0})}return r.a.createElement("div",{className:"flex ".concat(Cr.a.container)},r.a.createElement("div",{className:Cr.a.gameImage}),r.a.createElement("div",{className:Cr.a.gameContainer},r.a.createElement("p",{className:Cr.a.gameTitle},t.Activity.name),r.a.createElement("p",{className:Cr.a.gameDescription},t.Activity.description),r.a.createElement("div",{className:"flex ".concat(Cr.a.btnContainer)},r.a.createElement(ct.a,{className:"simple-btn ".concat(Cr.a.btn),onClick:this.onTutorialClicked},"Tutorial"),r.a.createElement(ct.a,{className:"".concat(Cr.a.btn," pdf-btn"),onClick:this.onPlayClicked},this.state.loading?r.a.createElement(pa.a,{color:"light",size:"sm"}):r.a.createElement("span",null,"Jugar")))))}}]),Object(l.a)(a,[{key:"onPlayClicked",value:function(){var e=Object(ve.a)(he.a.mark((function e(){var t,a,n,r,i,c=this;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=this.props.activity,e.next=4,this.props.createActivitySession(t.id);case 4:a=e.sent,n=a.data,r=a.error,i=a.message,this.setState({loading:!1}),r?this.props.setNotification({error:r,message:i,slide:!0}):this.setState({session:n},(function(){c.props.setActivity(t),c.props.setFullScreen(!0)}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onTutorialClicked",value:function(){this.props.setModal({title:"Video tutorial",type:"video",videoUrl:""})}}]),a}(n.Component),Nr={createActivitySession:function(e){return function(){var t=Object(ve.a)(he.a.mark((function t(a){var n,r,i,c,s,o,l,u;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(ra,"/session"),r={date_start:new Date,id_activity_user:e},t.prev=2,t.next=5,be.a.post(n,{session:r});case 5:return i=t.sent,c=i.data,s=c.data,o=c.message,l=c.status,u=200!==l,t.abrupt("return",{data:s,error:u,message:o});case 11:return t.prev=11,t.t0=t.catch(2),t.abrupt("return",{error:!0,message:t.t0});case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()},setActivity:sa,setFullScreen:ce,setModal:se,setNotification:oe},wr=Object(h.b)(null,Nr)(xr),Tr=a(137),Ir=a.n(Tr),Ar=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.ui.vOffset;return r.a.createElement("div",{className:"flex ".concat(Ir.a.outerContainer)},r.a.createElement(Ra.a,{className:Ir.a.rowContainer,noGutters:!0},r.a.createElement(Fa.a,{xs:"12",sm:"12",md:{size:7,offset:5},style:{"--vOffset":"".concat(e,"px")}},r.a.createElement("div",{className:Ir.a.container},this.props.children))))}}]),a}(n.Component),Pr=Object(h.b)((function(e){return{ui:e.ui}}))(Ar),Dr=function(e){return r.a.createElement("div",{style:{marginTop:"30px",padding:"5px",textAlign:"center",width:"100%"}},r.a.createElement(pa.a,{color:e.color}))},Mr=["Tambi\xe9n puedes cambiar tus puntos por diferentes aspectos. !Colecci\xf3nalos todos!"],Lr=["!Aqu\xed puedes cambiar tus puntos por la colecci\xf3n que m\xe1s te guste!"],Ur=["\xa1Bienvenido a SATReLO! Es hora de jugar. Para iniciar ingresa tu nombre y clave.","\xa1Hola! Vamos a divertirnos juntos. Para iniciar ingresa tu nombre y clave."],Rr=["Elige la opci\xf3n jugar de una de las actividades para comenzar a divertirnos."],Fr=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={loading:!1},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.match.params.pid,t=this.props.activities;return t=t?Object.values(t):[],r.a.createElement(Pr,null,r.a.createElement("p",{className:yr.a.title},"Mis actividades"),r.a.createElement("div",{className:yr.a.listContainer},this.state.loading?r.a.createElement(Dr,{color:"light"}):t&&t.length>0?t.map((function(t){return r.a.createElement(wr,{activity:t,id:e,key:t.id})})):r.a.createElement(Sr,null,"A\xfan no tienes actividades asignadas...")))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(ve.a)(he.a.mark((function e(){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.pid,this.setState({loading:!0}),e.next=4,this.props.getActivities(t);case 4:this.setState({loading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){if(this.props.user){var e=Rr[Math.floor(Math.random()*Rr.length)];(e="!".concat(this.props.user.name,"! ").concat(e))!==this.props.avatar.message&&this.props.setMessage(e)}}},{key:"componentWillUnmount",value:function(){this.props.setActivities(null)}}]),a}(n.Component),Br={getActivities:ca,setActivities:oa,setMessage:jn},zr=Object(h.b)((function(e){return{activities:e.activity.activities,avatar:e.avatar,user:e.user.user}}),Br)(Fr),qr=a(104),Wr=a.n(qr),Vr=Mr,Hr=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={currentSkin:null,loading:!0,userId:null},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.collectable;return r.a.createElement(Pr,null,this.state.loading?r.a.createElement(Dr,{color:"light"}):e?r.a.createElement("div",{className:Wr.a.container},r.a.createElement("p",{className:Wr.a.title},e.name),r.a.createElement(Xn,{items:Object.values(e.Skins),userId:this.state.userId}),r.a.createElement("p",{className:Wr.a.descriptionTitle},"Resumen"),r.a.createElement("p",{className:Wr.a.description},this.state.currentSkin&&this.state.currentSkin.summary)):r.a.createElement(Sr,null,"No se encontr\xf3 informaci\xf3n del coleccionable."))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=Vr[Math.floor(Math.random()*Vr.length)];this.props.setMessage(t),this.setState({userId:this.props.match.params.pid},(function(){e.getCollectableInfo()}))}},{key:"componentWillUnmount",value:function(){this.props.setCollectable(null)}},{key:"getCollectableInfo",value:function(){var e=Object(ve.a)(he.a.mark((function e(){var t,a,n,r,i,c,s,o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=this.props.match.params,a=t.id,n=t.cid,e.next=4,this.props.getCollectable(a,n);case 4:r=e.sent,i=r.data,c=r.error,s=Object.values(i.Skins),o=c?null:s[0],this.setState({currentSkin:o,loading:!1});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),Gr={getCollectable:function(e,t){return function(){var a=Object(ve.a)(he.a.mark((function a(n){var r,i,c,s,o,l,u;return he.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r="".concat(Fn,"/collection/").concat(e,"/collectable/").concat(t),a.prev=1,a.next=4,be.a.get(r);case 4:return i=a.sent,c=i.data,s=c.data,o=c.message,l=c.status,u=200!==l,n({type:D,payload:{collectable:200===l?s:null}}),a.abrupt("return",{data:s,error:u,message:o});case 12:return a.prev=12,a.t0=a.catch(1),a.abrupt("return",{data:null,error:!0,message:a.t0});case 15:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(e){return a.apply(this,arguments)}}()},setCollectable:function(e){return function(t){t({type:D,payload:{collectable:e}})}},setMessage:jn},Kr=Object(h.b)((function(e){return{collectable:e.collection.collectable}}),Gr)(Hr),Xr=a(176),Zr=a.n(Xr),Yr=a(105),Jr=a.n(Yr),Qr=a(73),$r=a.n(Qr),ei=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={loading:!1},n.onBuyClicked=n.onBuyClicked.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.userId,t=this.props.collectable,a=t.id,n=t.id_collection;return r.a.createElement("div",{className:$r.a.container},r.a.createElement(Je.b,{className:"ghost-btn ".concat($r.a.btn),to:"/paciente/".concat(e,"/colecciones/").concat(n,"/coleccionable/").concat(a)}),r.a.createElement("div",{className:$r.a.info},r.a.createElement("p",{className:$r.a.name},t.name),r.a.createElement("p",{className:$r.a.points},"Necesitas ",t.price," puntos")),t.Skins.owned?r.a.createElement("div",{className:$r.a.owned},"Adquirido"):r.a.createElement(ct.a,{className:"primary-btn ".concat($r.a.btnBuy),onClick:this.onBuyClicked},this.state.loading?r.a.createElement(pa.a,{color:"",size:"sm"}):r.a.createElement("span",null,"Comprar")))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.checkUserSkin()}},{key:"buildData",value:function(e){var t=this.props.collectable,a={collectableId:t.id,collectionId:t.id_collection,single:!0};return e&&(a.skinId=t.Skins.id),a}},{key:"buySkin",value:function(){var e=Object(ve.a)(he.a.mark((function e(t){var a;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=this.buildData(!1)).skins=t,this.setState({loading:!0}),e.next=5,this.props.setPatientSkins(this.props.userId,a);case 5:this.setState({loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkUserSkin",value:function(){var e=Object(ve.a)(he.a.mark((function e(){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.buildData(!0),this.setState({loading:!0}),e.next=4,this.props.getPatientSkin(this.props.userId,t);case 4:this.setState({loading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onBuyClicked",value:function(){var e=this.props.collectable.Skins;this.buySkin([e])}}]),a}(n.Component),ti={getPatientSkin:Bn,setPatientSkins:zn},ai=Object(h.b)(null,ti)(ei),ni=function(e){var t=Object.values(e.Collectables);return r.a.createElement("div",{className:Jr.a.container},r.a.createElement("p",{className:Jr.a.title},"Colecci\xf3n de ",e.name),r.a.createElement(Ra.a,{className:Jr.a.rowContainer,noGutters:!0},t.map((function(t){return r.a.createElement(Fa.a,{className:Jr.a.col,sm:"12",md:"4",key:t.id},r.a.createElement(ai,{collectable:t,userId:e.userId}))}))))},ri=Lr,ii=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={loading:!1,userId:null},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.collections;return t=t?Object.values(t):[],r.a.createElement(Pr,null,r.a.createElement("div",{className:Zr.a.container},r.a.createElement("p",{className:Zr.a.title},"Colecciones"),this.state.loading?r.a.createElement(Dr,{color:"light"}):t&&t.length>0?t.map((function(t){return r.a.createElement(ni,Object.assign({},t,{key:t.id,userId:e.state.userId}))})):r.a.createElement(Sr,null,"No se encontraron colecciones.")))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=ri[Math.floor(Math.random()*ri.length)];this.props.setMessage(t),this.setState({userId:this.props.match.params.pid},(function(){e.getCollectionsList()}))}},{key:"componentWillUnmount",value:function(){this.props.setCollections(null)}},{key:"getCollectionsList",value:function(){var e=Object(ve.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.props.getCollections();case 3:this.setState({loading:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),ci={getCollections:function(){return function(){var e=Object(ve.a)(he.a.mark((function e(t){var a,n,r,i,c,s,o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(Fn,"/collection"),e.prev=1,e.next=4,be.a.get(a);case 4:return n=e.sent,r=n.data,i=r.data,c=r.message,s=r.status,o=200!==s,t({type:P,payload:{collections:200===s?i:null}}),e.abrupt("return",{error:o,message:c});case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",{error:!0,message:e.t0});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},setCollections:function(e){return function(t){t({type:P,payload:{collections:e}})}},setMessage:jn},si=Object(h.b)((function(e){return{collections:e.collection.collections}}),ci)(ii),oi=a(106),li=a.n(oi),ui=a(486),pi=a(138),di=a.n(pi),mi=a(107),hi=a.n(mi),vi=function(e){var t="delete"===e.kind?hi.a.btnInv:hi.a.btn;return"not"===e.kind&&(t="".concat(t," ").concat(hi.a.bgWhite)),r.a.createElement(ct.a,{className:"ghost-btn ".concat(t),onClick:function(){"delete"===e.kind?e.onDeletePassClicked():"select"===e.kind&&e.onPassButtonClicked({name:e.name,src:e.src})},style:{cursor:"not"===e.kind?"default":"pointer"}},"delete"===e.kind?r.a.createElement(Re.a,{icon:Fe.i,size:"2x",style:{color:"black"}}):r.a.createElement("img",{alt:"",className:hi.a.icon,src:e.src}))},fi=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={passwordOptions:[{id:1,kind:"select",name:"\xe1rbol",src:"/images/pwd/tree.png"},{id:2,kind:"select",name:"coraz\xf3n",src:"/images/pwd/heart.png"},{id:3,kind:"select",name:"flor",src:"/images/pwd/flower.png"},{id:4,kind:"select",name:"nube",src:"/images/pwd/cloud.png"},{id:5,kind:"select",name:"sol",src:"/images/pwd/sun.png"}],optionsSelected:[{id:1,kind:"not",name:"",src:""},{id:2,kind:"not",name:"",src:""},{id:3,kind:"not",name:"",src:""},{id:4,kind:"not",name:"",src:""}]},n.onDeleteButtonClicked=n.onDeleteButtonClicked.bind(Object(o.a)(n)),n.onPasswordOptionClicked=n.onPasswordOptionClicked.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:di.a.container},r.a.createElement("div",{className:"flex ".concat(di.a.btnContainer)},this.state.passwordOptions.map((function(t){return r.a.createElement(vi,Object.assign({key:t.id},t,{onPassButtonClicked:e.onPasswordOptionClicked}))}))),r.a.createElement("div",{className:"flex ".concat(di.a.btnContainer)},this.state.optionsSelected.map((function(e){return r.a.createElement(vi,Object.assign({key:e.id},e))})),r.a.createElement(vi,{kind:"delete",onDeletePassClicked:this.onDeleteButtonClicked})))}}]),Object(l.a)(a,[{key:"onDeleteButtonClicked",value:function(){var e=this.state.optionsSelected;e.forEach((function(e){e.name="",e.src=""})),this.setState({optionsSelected:e})}},{key:"onPasswordOptionClicked",value:function(e){var t=this,a=this.state.optionsSelected,n=!1;a.forEach((function(t){n||""!==t.name.trim()||(t.name=e.name,t.src=e.src,n=!0)})),this.setState({optionsSelected:a},(function(){var e=t.state.optionsSelected.filter((function(e){return""!==e.name.trim()})).map((function(e){return e.name}));t.props.setPassword(e)}))}}]),a}(n.Component),bi=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={error:null,loading:!1,password:null,userId:null,username:""},n.onInputChanged=n.onInputChanged.bind(Object(o.a)(n)),n.onLogin=n.onLogin.bind(Object(o.a)(n)),n.onLoginClicked=n.onLoginClicked.bind(Object(o.a)(n)),n.setPassword=n.setPassword.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state.userId;return e?r.a.createElement(d.a,{to:"/paciente/".concat(e,"/actividades"),push:!0}):r.a.createElement("div",{className:li.a.container},r.a.createElement(ea.a,null,r.a.createElement(ta.a,null,r.a.createElement(ui.a,{className:li.a.label},"Escribe tu nombre de usuario"),r.a.createElement(aa.a,{bsSize:"lg",onChange:this.onInputChanged,placeholder:"Por ejemplo, mvsierra",type:"text"})),r.a.createElement(ta.a,null,r.a.createElement(ui.a,{className:li.a.label},"Marca tu clave"),r.a.createElement(fi,{setPassword:this.setPassword})),r.a.createElement(ct.a,{className:"primary-btn ".concat(li.a.btn),onClick:this.onLoginClicked},this.state.loading?r.a.createElement(pa.a,{color:"light",size:"sm"}):r.a.createElement("span",null,"Entrar"))))}}]),Object(l.a)(a,[{key:"onInputChanged",value:function(e){this.setState({username:e.target.value})}},{key:"onLogin",value:function(){var e=Object(ve.a)(he.a.mark((function e(t,a){var n,r,i,c;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),n={username:t,password:a},e.next=4,this.props.login(n,st);case 4:r=e.sent,i=r.error,c=r.userId,this.setState({error:i,loading:!1,userId:c});case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"onLoginClicked",value:function(e){if(e.preventDefault(),!this.state.loading){var t=this.state,a=t.username,n=t.password;""!==a.trim()&&n?4===n.length?this.onLogin(a,n.join()):this.setState({error:"La clave debe tener 4 elementos"}):this.setState({error:"El usuario y la clave son obligatorios"})}}},{key:"setPassword",value:function(e){this.setState({password:e})}}]),a}(n.Component),gi={login:Et},_i=Object(h.b)(null,gi)(bi),Oi=Ur,yi=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.ui.vOffset+60;return r.a.createElement(Pr,null,r.a.createElement("div",{className:"flex",style:{alignItems:"center",height:"calc(100vh - ".concat(e,"px)"),justifyContent:"center"}},r.a.createElement(_i,null)))}},{key:"componentDidMount",value:function(){var e=Oi[Math.floor(Math.random()*Oi.length)];this.props.setMessage(e),this.props.setBar("patient"),this.props.setParallax(!0),this.props.showMobileMenu(!1),this.props.setUser(null),this.props.showAvatar(!0)}}]),a}(n.Component),ki={setBar:ie,setMessage:jn,setParallax:le,setUser:Ta,showAvatar:ue,showMobileMenu:de},Ei=Object(h.b)((function(e){return{ui:e.ui}}),ki)(yi),Si=a(233),ji=a.n(Si),Ci=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={fullScreen:!1},n.fullRef=r.a.createRef(),n.onClosed=n.onClosed.bind(Object(o.a)(n)),n.onKeyHandler=n.onKeyHandler.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{onKeyDown:this.onKeyHandler,ref:this.fullRef,tabIndex:0},this.props.children)}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("fullscreenchange",this.onClosed),document.addEventListener("mozfullscreenchange",this.onClosed),document.addEventListener("webkitfullscreenchange",this.onClosed)}},{key:"componentDidUpdate",value:function(){this.props.fullScreen!==this.state.fullScreen&&(this.props.fullScreen?this.enterFullScreen():this.exitFullScreen())}},{key:"componentWillUnmount",value:function(){document.removeEventListener("fullscreenchange",this.onClosed),document.removeEventListener("mozfullscreenchange",this.onClosed),document.removeEventListener("webkitfullscreenchange",this.onClosed)}},{key:"enterFullScreen",value:function(){var e=Object(ve.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.fullRef.current.requestFullRequest){e.next=5;break}return e.next=3,this.fullRef.current.requestFullRequest();case 3:e.next=13;break;case 5:if(!this.fullRef.current.mozRequestFullScreen){e.next=10;break}return e.next=8,this.fullRef.current.mozRequestFullScreen();case 8:e.next=13;break;case 10:if(!this.fullRef.current.webkitRequestFullScreen){e.next=13;break}return e.next=13,this.fullRef.current.webkitRequestFullScreen();case 13:this.setState({fullScreen:!0}),this.props.onChange(!0);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"exitFullScreen",value:function(){var e=Object(ve.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullScreenElement)){e.next=15;break}if(!document.exitFullscreen){e.next=7;break}return e.next=5,document.exitFullscreen();case 5:e.next=15;break;case 7:if(!document.mozCancelFullScreen){e.next=12;break}return e.next=10,document.mozCancelFullScreen();case 10:e.next=15;break;case 12:if(!document.webkitExitFullScreen){e.next=15;break}return e.next=15,document.webkitExitFullScreen();case 15:this.setState({fullScreen:!1}),this.props.onChange(!1);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onClosed",value:function(){!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullScreenElement)&&this.state.fullScreen&&this.props.onClosed()}},{key:"onKeyHandler",value:function(e){8===e.keyCode&&e.preventDefault()}}]),a}(n.Component),xi="https://satrelo-qa.ddns.net/file",Ni=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onClosed=n.onClosed.bind(Object(o.a)(n)),n.onChange=n.onChange.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.activity,a=e.user,n=null;if(t&&a){var i=this.props.match.params.sid,c=t.build_path;n="".concat(xi,"/").concat(c,"/index.html")+"?portal=paciente"+"&session=".concat(i)+"&score=".concat(a.score)+"&token=".concat(this.props.auth.pacienteToken)+"&file_server=".concat(xi)+"&server=".concat("https://satrelo-qa.ddns.net")}return r.a.createElement(Ci,{fullScreen:this.props.ui.fullScreen,onClosed:this.onClosed,onChange:this.onChange},r.a.createElement("div",{className:"flex ".concat(ji.a.container)},r.a.createElement("iframe",{height:window.outerHeight,src:n,title:"game",width:window.outerWidth})))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){if(this.props.ui.fullScreen||this.redirectBack(),this.hideAvatar(),null===this.props.activity){var e=this.props.match.params.aid;this.props.getActivity(e)}}},{key:"componentDidUpdate",value:function(){this.hideAvatar()}},{key:"componentWillUnmount",value:function(){this.props.showAvatar(!0);var e=this.props.match.params.sid,t={date_end:new Date,id:e};this.props.updateActivitySession(t);var a={title:"Comenta sobre el desempe\xf1o del paciente en el juego",type:"new_comment",session:e};this.props.setModal(a)}},{key:"hideAvatar",value:function(){this.props.ui.showAvatar&&this.props.showAvatar(!1)}},{key:"onClosed",value:function(){this.redirectBack()}},{key:"onChange",value:function(e){e||this.redirectBack()}},{key:"redirectBack",value:function(){this.props.history.goBack()}}]),a}(n.Component),wi={getActivity:ia,setFullScreen:ce,setModal:se,showAvatar:ue,updateActivitySession:ua},Ti=Object(h.b)((function(e){return{activity:e.activity.activity,auth:e.auth,ui:e.ui,user:e.user.user}}),wi)(Ni),Ii=a(52),Ai=a.n(Ii),Pi="https://satrelo-qa.ddns.net/api",Di=function(e){return function(){var t=Object(ve.a)(he.a.mark((function t(a){var n,r,i,c,s,o,l;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(Pi,"/user/").concat(e),t.prev=1,t.next=4,be.a.get(n);case 4:return r=t.sent,i=r.data,c=i.data,s=i.message,o=i.status,l=200!==o,a({type:H,payload:{patient:200===o?c:null}}),t.abrupt("return",{error:l,message:s});case 12:return t.prev=12,t.t0=t.catch(1),t.abrupt("return",{error:!0,message:t.t0});case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()},Mi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(){var a=Object(ve.a)(he.a.mark((function a(n){var r,i,c,s,o,l,u;return he.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=e?"".concat(Pi,"/therapist/").concat(e,"/patient"):"".concat(Pi,"/patient"),t&&(r="".concat(r,"?search=").concat(t)),a.prev=2,a.next=5,be.a.get(r);case 5:return i=a.sent,c=i.data,s=c.data,o=c.message,l=c.status,u=200!==l,n({type:V,payload:{patients:200===l?s:null}}),a.abrupt("return",{error:u,message:o});case 13:return a.prev=13,a.t0=a.catch(2),a.abrupt("return",{error:!0,message:a.t0});case 16:case"end":return a.stop()}}),a,null,[[2,13]])})));return function(e){return a.apply(this,arguments)}}()},Li=a(44),Ui=a.n(Li),Ri=a(92),Fi=function(e,t){var a=Ri.DateTime.fromISO(e);return Ri.DateTime.fromISO(t).diff(a,["minutes"]).toObject()},Bi=function(e){return Ri.DateTime.fromISO(e).setLocale("co").toLocaleString(Ri.DateTime.DATE_FULL)},zi=function(e){var t=Ri.DateTime.fromISO(e);return{startDate:t.startOf("month").toISODate(),endDate:t.endOf("month").toISODate()}},qi=a(63),Wi=a.n(qi),Vi=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onTutorialClicked=n.onTutorialClicked.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.activity.Activities_Sessions,t=Object.values(e);return r.a.createElement("div",{className:"flex ".concat(Wi.a.container)},r.a.createElement(ct.a,{className:"pdf-btn ".concat(Wi.a.btn),size:"sm"},"PDF Ficha"),r.a.createElement("div",{className:"flex"},r.a.createElement(ct.a,{className:"simple-btn ".concat(Wi.a.btn," ").concat(Wi.a.ml),onClick:this.onTutorialClicked,size:"sm"},"Tutorial"),r.a.createElement(ct.a,{className:"simple-btn ".concat(Wi.a.btn," ").concat(Wi.a.ml),size:"sm"},"Reasignar"),0===t.length&&r.a.createElement(ct.a,{className:"ghost-btn ".concat(Wi.a.delete," ").concat(Wi.a.ml),size:"sm"},r.a.createElement(Re.a,{icon:Fe.h,size:"2x"}))))}}]),Object(l.a)(a,[{key:"onTutorialClicked",value:function(){this.props.setModal({title:"Video tutorial",type:"video",videoUrl:""})}}]),a}(n.Component),Hi={setModal:se},Gi=Object(h.b)(null,Hi)(Vi),Ki={1:{letter:"S",color:"#FF7043"},2:{letter:"AD",color:"#42A5F5"},3:{letter:"V",color:"#26A69A"}},Xi=function(e){var t=e.id,a=Ki[t],n="darkgray";return a.letter===e.letter&&(n=a.color),r.a.createElement("div",{style:{alignItems:"center",backgroundColor:"".concat(n),borderRadius:"50%",color:"white",display:"flex",fontWeight:"600",height:37,justifyContent:"center",width:37}},e.letter)},Zi=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).getFormattedDate=function(e){return Bi(e)},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.activity.id,t=this.props.activity.date_from.split("T")[0],a=this.props.activity.Syntactic_Structure?this.props.activity.Syntactic_Structure.id:null,n=this.props,i=n.pid,c=n.tid;return r.a.createElement("div",{className:Ui.a.container},r.a.createElement("div",{className:"flex ".concat(Ui.a.innerContainer)},r.a.createElement("img",{alt:"",className:Ui.a.aimage,src:""}),r.a.createElement("div",{className:Ui.a.rightContainer},r.a.createElement("div",{className:"flex ".concat(Ui.a.nameContainer)},r.a.createElement("div",{className:Ui.a.title},this.props.activity.Activity.name),r.a.createElement("div",{className:Ui.a.date},this.getFormattedDate(t))),a&&r.a.createElement("div",{className:"flex ".concat(Ui.a.syntContainer)},r.a.createElement(Xi,{letter:"S",id:a}),r.a.createElement(Xi,{letter:"AD",id:a}),r.a.createElement(Xi,{letter:"V",id:a})),r.a.createElement("div",{className:Ui.a.description},this.props.activity.Activity.description),r.a.createElement(Je.b,{to:"/terapeuta/".concat(c,"/pacientes/").concat(i,"/")+"actividades/".concat(e,"/evoluci\xf3n"),className:"ghost-btn ".concat(Ui.a.btnEvolution)},"Ver evoluci\xf3n"),r.a.createElement(Gi,{activity:this.props.activity}))))}}]),a}(n.Component),Yi=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={loading:!1},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.activities,a=e.patient,n=e.user,i=n?n.id:null,c=a?a.id:null;t=t?Object.values(t):[];var s=this.props.match.params.tid;return r.a.createElement("div",{className:Ai.a.container},r.a.createElement(fr,{user:a}),r.a.createElement(mr,{pt:0,mt:298},r.a.createElement("div",{className:"flex ".concat(Ai.a.titleContainer)},r.a.createElement("div",{className:Ai.a.title},"Actividades asignadas"),r.a.createElement("div",{className:"flex ".concat(Ai.a.btnContainer)},r.a.createElement(Je.b,{className:Ai.a.link,to:"/terapeuta/".concat(s,"/pacientes/").concat(c)+"/actividades/hist\xf3rico"},r.a.createElement(ct.a,{className:"primary-btn left ".concat(Ai.a.btn)},"Hist\xf3rico")),r.a.createElement(Je.b,{className:Ai.a.link,to:"/terapeuta/".concat(i,"/pacientes/").concat(c,"/configuracion")},r.a.createElement(ct.a,{className:"secondary-btn ".concat(Ai.a.btn)},"Agregar actividad")))),r.a.createElement("div",{className:Ai.a.listContainer},this.state.loading?r.a.createElement(Dr,{color:"primary"}):t&&t.length>0?t.map((function(e){return r.a.createElement(Zi,{activity:e,key:e.id,pid:c,tid:s})})):r.a.createElement(Sr,null,"Este paciente a\xfan no tiene actividades asignadas. Recuerda que puedes asignarle una actividad seleccionando la opci\xf3n Agregar actividad."))))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(ve.a)(he.a.mark((function e(){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.pid,this.setState({loading:!0}),e.next=4,this.props.getActivities(t);case 4:return this.setState({loading:!1}),e.next=7,this.props.getPatient(t);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.props.setActivities(null),this.props.setPatient(null)}}]),a}(n.Component),Ji={getActivities:ca,getPatient:Di,setActivities:oa,setPatient:function(e){return function(t){t({type:H,payload:{patient:e}})}}},Qi=Object(h.b)((function(e){return{activities:e.activity.activities,patient:e.patient.patient,user:e.user.user}}),Ji)(Yi),$i=a(53),ec=a.n($i),tc=a(93),ac=a.n(tc),nc=a(108),rc=a.n(nc),ic=function(e){e.onOptionSelected(e.option)},cc=function(e){var t=e.option.selected?rc.a.selected:"";return r.a.createElement(ct.a,{className:"ghost-btn ".concat(rc.a.container),onClick:function(){ic(e)}},r.a.createElement("div",{className:"flex ".concat(rc.a.inner," ").concat(t)},r.a.createElement("div",{className:rc.a.name},e.option.name),r.a.createElement(Re.a,{icon:Fe.a,size:"2x"})))},sc=function(e,t){e.onOptionSelected(t)},oc=function(e){var t=e.options;return t=t?Object.values(t):[],r.a.createElement("div",{className:ac.a.container},r.a.createElement("div",{className:ac.a.title},e.title),r.a.createElement("div",{className:ac.a.subtitle},e.subtitle),e.loading?r.a.createElement(Dr,{color:"primary"}):t&&t.length>0?r.a.createElement(Ra.a,{className:ac.a.optionRow,noGutters:!0},t.map((function(t){return r.a.createElement(Fa.a,{className:ac.a.optionCol,key:t.id,sm:{size:12},md:{size:4}},r.a.createElement(cc,{onOptionSelected:function(t){sc(e,t)},option:t}))}))):null)},lc=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onOptionSelected=n.onOptionSelected.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(oc,Object.assign({},this.props,{onOptionSelected:this.onOptionSelected}))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(ve.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.first&&this.getOptions({fieldId:this.props.id});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=this;["mechanic","situations","times","reader"].forEach((function(t){e.props.resetDynamicOptions({fieldId:t})})),this.props.showCreateActivityButton(!1)}},{key:"buildDynamic",value:function(e){var t=this,a=this.props.reset;if(a&&a.forEach((function(e){t.props.resetDynamicOptions({fieldId:e})})),this.props.showCreateActivityButton(!1),this.props.setDynamicSelectedOptions({fieldId:this.props.id,optionId:e.id}),this.props.next){var n={fieldId:this.props.next},r=this.props.dynamic[this.props.next];if(r.required){var i=this.getRequiredIds(r.required);n.required=i}this.getOptions(n)}else this.props.showCreateActivityButton(!0)}},{key:"getOptions",value:function(){var e=Object(ve.a)(he.a.mark((function e(t){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getDynamicOptions(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRequiredIds",value:function(e){var t=this,a={};return e.forEach((function(e){var n=t.props.dynamic[e];Object.values(n.options).forEach((function(e){e.selected&&(a["".concat(n.id,"Id")]=e.id)}))})),a}},{key:"onOptionSelected",value:function(e){this.buildDynamic(e)}}]),a}(n.Component),uc={getDynamicOptions:function(e){return function(){var t=Object(ve.a)(he.a.mark((function t(a){var n,r,i,c,s,o,l,u,p,d;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("mechanic"!==(n=e.fieldId)&&"situations"!==n){t.next=20;break}return r="".concat("https://satrelo-qa.ddns.net/api"),"mechanic"===n?r="".concat(r,"/dynamic/mechanics"):(i=e.required.mechanicId,r="".concat(r,"/dynamic/mechanics/").concat(i,"/situations")),t.prev=4,t.next=7,be.a.get(r);case 7:return c=t.sent,s=c.data,o=s.data,l=s.message,u=s.status,p=200!==u,a({type:x,payload:{fieldId:n,options:200===u?o:null}}),t.abrupt("return",{error:p,message:l});case 15:return t.prev=15,t.t0=t.catch(4),t.abrupt("return",{error:!0,message:t.t0});case 18:t.next=22;break;case 20:"times"===n?d={1:{id:1,name:"Presente"}}:"reader"===n&&(d={1:{id:1,name:"Si"},2:{id:2,name:"No"}}),a({type:x,payload:{fieldId:n,options:d}});case 22:case"end":return t.stop()}}),t,null,[[4,15]])})));return function(e){return t.apply(this,arguments)}}()},resetDynamicOptions:function(e){return function(t){t({type:C,payload:e})}},setDynamicSelectedOptions:function(e){return function(t){t({type:N,payload:e})}},showCreateActivityButton:pe},pc=Object(h.b)((function(e){return{dynamic:e.dynamic}}),uc)(lc),dc=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(pc,this.props.dynamic.mechanic),r.a.createElement(pc,this.props.dynamic.situations),r.a.createElement(pc,this.props.dynamic.times),r.a.createElement(pc,this.props.dynamic.reader))}}]),a}(n.Component),mc=Object(h.b)((function(e){return{dynamic:e.dynamic}}))(dc),hc="https://satrelo-qa.ddns.net/api",vc=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onOptionSelected=n.onOptionSelected.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(oc,Object.assign({},this.props,{onOptionSelected:this.onOptionSelected}))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.first&&this.getOptions({fieldId:this.props.id})}},{key:"componentWillUnmount",value:function(){var e=this;["category","subcategory","sintactic","vocabulary","mechanic"].forEach((function(t){e.props.resetStaticOptions({fieldId:t})})),this.props.showCreateActivityButton(!1)}},{key:"buildStatic",value:function(e){var t=this,a=this.props.reset;a&&a.forEach((function(e){t.props.resetStaticOptions({fieldId:e})})),this.props.showCreateActivityButton(!1);var n=!0;if(this.props.multichoice?(this.props.addStaticSelectedOption({fieldId:this.props.id,optionId:e.id}),n=this.checkMinimun()):this.props.setStaticSelectedOptions({fieldId:this.props.id,optionId:e.id}),n)if(this.props.next){var r={fieldId:this.props.next},i=this.props.static[this.props.next];if(i.required){var c=this.getRequiredIds(i.required);r.required=c}this.getOptions(r)}else this.props.showCreateActivityButton(!0)}},{key:"checkMinimun",value:function(){var e=this.props.options;e=Object.values(e);var t=0;return e.forEach((function(e){e.selected&&(t+=1)})),t>=this.props.minimum}},{key:"getOptions",value:function(){var e=Object(ve.a)(he.a.mark((function e(t){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getStaticOptions(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRequiredIds",value:function(e){var t=this,a={};return e.forEach((function(e){var n=t.props.static[e];Object.values(n.options).forEach((function(e){e.selected&&(a["".concat(n.id,"Id")]=e.id)}))})),a}},{key:"onOptionSelected",value:function(e){this.buildStatic(e)}}]),a}(n.Component),fc={addStaticSelectedOption:function(e){return function(t){t({type:w,payload:e})}},getStaticOptions:function(e){return function(){var t=Object(ve.a)(he.a.mark((function t(a){var n,r,i,c,s,o,l,u,p,d,m,h,v,f;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.fieldId,r=null,"category"===n?r="".concat(hc,"/static/categories"):"subcategory"===n?(i=e.required.categoryId,r="".concat(hc,"/static/categories/").concat(i,"/subcategories")):"sintactic"===n?r="".concat(hc,"/static/structures"):"vocabulary"!==n&&"mechanic"!==n||(c=e.required,s=c.subcategoryId,o=c.sintacticId,l=s,u=o,r="".concat(hc,"/static/subcategories/").concat(l,"/structures/").concat(u),r="".concat(r,"vocabulary"===n?"/vocabularies":"/mechanics")),!r){t.next=18;break}return t.prev=4,t.next=7,be.a.get(r);case 7:return p=t.sent,d=p.data,m=d.data,h=d.message,v=d.status,f=200!==v,a({type:I,payload:{fieldId:n,options:200===v?m:null}}),t.abrupt("return",{error:f,message:h});case 15:return t.prev=15,t.t0=t.catch(4),t.abrupt("return",{error:!0,message:t.t0});case 18:case"end":return t.stop()}}),t,null,[[4,15]])})));return function(e){return t.apply(this,arguments)}}()},resetStaticOptions:function(e){return function(t){t({type:T,payload:e})}},setStaticSelectedOptions:function(e){return function(t){t({type:A,payload:e})}},showCreateActivityButton:pe},bc=Object(h.b)((function(e){return{static:e.static}}),fc)(vc),gc=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(bc,this.props.static.category),r.a.createElement(bc,this.props.static.subcategory),r.a.createElement(bc,this.props.static.sintactic),r.a.createElement(bc,this.props.static.vocabulary),r.a.createElement(bc,this.props.static.mechanic))}}]),a}(n.Component),_c=Object(h.b)((function(e){return{static:e.static}}))(gc),Oc=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={loading:!1,option:"static",patient:null,redirect:!1},n.onCreateActivityClicked=n.onCreateActivityClicked.bind(Object(o.a)(n)),n.onOptionClicked=n.onOptionClicked.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){if(this.state.redirect){var e=this.props.match.params,t=e.tid,a=e.pid,n="/terapeuta/".concat(t,"/pacientes/").concat(a,"/actividades");return r.a.createElement(d.a,{to:n,push:!0})}var i="primary-btn-outline left ".concat(ec.a.btn," \n                                ").concat("static"===this.state.option?ec.a.btnSelected:""),c="primary-btn-outline ".concat(ec.a.btn," \n                                ").concat("dynamic"===this.state.option?ec.a.btnSelected:"");return r.a.createElement(mr,{pt:50},r.a.createElement("div",{className:ec.a.title},"Configurar una nueva actividad"),r.a.createElement("div",{className:"flex ".concat(ec.a.btnContainer)},r.a.createElement(ct.a,{className:i,color:"primary",name:"static",onClick:this.onOptionClicked,outline:!0},"Descripci\xf3n est\xe1tica"),r.a.createElement(ct.a,{className:c,color:"primary",name:"dynamic",onClick:this.onOptionClicked,outline:!0},"Descripci\xf3n din\xe1mica")),r.a.createElement("div",{className:ec.a.container},"static"===this.state.option?r.a.createElement(_c,null):r.a.createElement(mc,null)),this.props.ui.showCreateActivityButton?r.a.createElement("div",{className:ec.a.createContainer},r.a.createElement(ct.a,{className:"secondary-btn ".concat(ec.a.create),onClick:this.onCreateActivityClicked},this.state.loading?r.a.createElement(pa.a,{color:"dark",size:"sm"}):r.a.createElement("span",null,"Crear actividad"))):null)}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(ve.a)(he.a.mark((function e(){var t;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.props.patient){e.next=4;break}return t=this.props.match.params.pid,e.next=4,this.props.getPatient(t);case 4:this.setState({patient:this.props.patient});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.props.resetConfiguration()}},{key:"prepareAndCreateActivity",value:function(){var e=Object(ve.a)(he.a.mark((function e(){var t,a,n,r,i;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t="static"===this.state.option?this.props.static:this.props.dynamic,this.props.resetConfiguration(),a=this.props.buildConfiguration({fields:t},this.state.patient),e.next=6,this.props.createActivity(a);case 6:n=e.sent,r=n.error,i=n.message,this.setState({loading:!1,redirect:!0}),this.props.setNotification({error:r,message:i,slide:!0});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onCreateActivityClicked",value:function(){this.state.loading||this.prepareAndCreateActivity()}},{key:"onOptionClicked",value:function(e){this.setState({option:e.target.name})}}]),a}(n.Component),yc={buildConfiguration:function(e,t){return function(a){var n=e.fields,r=Object.keys(n),i={};return r.forEach((function(e){var t=n[e],a=t.options;(a=Object.values(a)).forEach((function(a){a.selected&&(t.multichoice?i[e]?i[e].push(a):i[e]=[a]:i[e]=a)}))})),i.patient=t,a({type:j,payload:{configuration:i}}),i}},createActivity:function(e){return Object(ve.a)(he.a.mark((function t(){var a,n,r,i,c,s;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(ra,"/assembler/"),t.prev=1,t.next=4,be.a.post(a,{configuration:e});case 4:return n=t.sent,r=n.data,i=r.message,c=r.status,s=200!==c,t.abrupt("return",{error:s,message:i});case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",{error:!0,message:t.t0});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))},getPatient:Di,resetConfiguration:function(){return function(e){e({type:S})}},setNotification:oe},kc=Object(h.b)((function(e){return{dynamic:e.dynamic,patient:e.patient.patient,static:e.static,ui:e.ui}}),yc)(Oc),Ec=a(177),Sc=a.n(Ec),jc="https://satrelo-qa.ddns.net/api",Cc=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var a=Object(ve.a)(he.a.mark((function a(n){var r,i,c,s,o,l,u,p,d,m,h,v;return he.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=jc,t?(i=e.pid,c=e.startDate,s=e.endDate,o=e.mid,r="".concat(r,"/feedback/historical/").concat(i,"/").concat(o,"/levels")+"?start=".concat(c,"&end=").concat(s)):(l=e.id,r="".concat(r,"/feedback/").concat(l,"/levels")),a.prev=2,a.next=5,be.a.get(r);case 5:return u=a.sent,p=u.data,d=p.data,m=p.message,h=p.status,v=200!==h,n({type:B,payload:{feedData:200===h?d:null}}),a.abrupt("return",{error:v,message:m});case 13:return a.prev=13,a.t0=a.catch(2),a.abrupt("return",{error:!0,message:a.t0});case 16:case"end":return a.stop()}}),a,null,[[2,13]])})));return function(e){return a.apply(this,arguments)}}()},xc=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var a=Object(ve.a)(he.a.mark((function a(n){var r,i,c,s,o,l,u,p,d,m,h,v;return he.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=jc,t?(i=e.pid,c=e.startDate,s=e.endDate,o=e.mid,r="".concat(r,"/feedback/historical/").concat(i,"/").concat(o,"/matches")+"?start=".concat(c,"&end=").concat(s)):(l=e.id,r="".concat(r,"/feedback/").concat(l,"/matches")),a.prev=2,a.next=5,be.a.get(r);case 5:return u=a.sent,p=u.data,d=p.data,m=p.message,h=p.status,v=200!==h,n({type:B,payload:{feedData:200===h?d:null}}),a.abrupt("return",{error:v,message:m});case 13:return a.prev=13,a.t0=a.catch(2),a.abrupt("return",{error:!0,message:a.t0});case 16:case"end":return a.stop()}}),a,null,[[2,13]])})));return function(e){return a.apply(this,arguments)}}()},Nc=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var a=Object(ve.a)(he.a.mark((function a(n){var r,i,c,s,o,l,u,p,d,m,h,v;return he.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=jc,t?(i=e.pid,c=e.startDate,s=e.endDate,o=e.mid,r="".concat(r,"/feedback/historical/").concat(i,"/").concat(o,"/phrases")+"?start=".concat(c,"&end=").concat(s)):(l=e.id,r="".concat(r,"/feedback/").concat(l,"/phrases")),a.prev=2,a.next=5,be.a.get(r);case 5:return u=a.sent,p=u.data,d=p.data,m=p.message,h=p.status,v=200!==h,n({type:B,payload:{feedData:200===h?d:null}}),a.abrupt("return",{error:v,message:m});case 13:return a.prev=13,a.t0=a.catch(2),a.abrupt("return",{error:!0,message:a.t0});case 16:case"end":return a.stop()}}),a,null,[[2,13]])})));return function(e){return a.apply(this,arguments)}}()},wc=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var a=Object(ve.a)(he.a.mark((function a(n){var r,i,c,s,o,l,u,p,d,m,h,v;return he.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=jc,t?(i=e.pid,c=e.startDate,s=e.endDate,o=e.mid,r="".concat(r,"/feedback/historical/").concat(i,"/").concat(o,"/secuences")+"?start=".concat(c,"&end=").concat(s)):(l=e.id,r="".concat(r,"/feedback/").concat(l,"/secuences")),a.prev=2,a.next=5,be.a.get(r);case 5:return u=a.sent,p=u.data,d=p.data,m=p.message,h=p.status,v=200!==h,n({type:B,payload:{feedData:200===h?d:null}}),a.abrupt("return",{error:v,message:m});case 13:return a.prev=13,a.t0=a.catch(2),a.abrupt("return",{error:!0,message:a.t0});case 16:case"end":return a.stop()}}),a,null,[[2,13]])})));return function(e){return a.apply(this,arguments)}}()},Tc=a(178),Ic=a.n(Tc),Ac=a(179),Pc=a.n(Ac),Dc=a(239);Object(Ac.registerLocale)("es",Dc.a);var Mc,Lc=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={date:null},n.pickerRef=r.a.createRef(),n.onDateChanged=n.onDateChanged.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.form,t=!0,a=!1,n=Ic.a.input,i="MMMM 'de' yyyy";return e&&(t=!1,a=!0,n=Ic.a.completeInput,i="dd/MM/yyyy"),r.a.createElement("div",null,r.a.createElement(Pc.a,{className:n,dateFormat:i,locale:"es",onChange:this.onDateChanged,popperPlacement:"top-end",ref:this.pickerRef,selected:this.state.date,showMonthYearPicker:t,showFullMonthYearPicker:!0,showYearDropdown:a,scrollableYearDropdown:!0,withPortal:!0}))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.pickerRef&&this.pickerRef.current.input&&(this.pickerRef.current.input.readOnly=!0);var e=this.props,t=e.date,a=e.feedDate,n=e.form;this.setState({date:n?t:a})}},{key:"componentDidUpdate",value:function(e){this.props.date!==e.date&&this.setState({date:this.props.date})}},{key:"onDateChanged",value:function(e){this.setState({date:e});var t=this.props,a=t.form,n=t.name;a?this.props.onChange({target:{value:e,name:n}}):this.props.setFeedDate(e)}}]),a}(n.Component),Uc={setFeedDate:function(e){return function(t){t({type:z,payload:{feedDate:e}})}}},Rc=Object(h.b)((function(e){return{feedDate:e.feedback.feedDate}}),Uc)(Lc),Fc=Rc,Bc=a(234),zc=a.n(Bc),qc=a(57),Wc=a.n(qc),Vc={Pronombre:{color:"rgba(248, 196, 113, 0.8)",title:"Pronombre"},Sustantivo:{color:"rgba(240, 178, 122, 0.8)",title:"Sustantivo"},Adjetivo:{color:"rgba(127, 179, 213, 0.8)",title:"Adjetivo"},Verbo:{color:"rgba(115, 198, 182, 0.8)",title:"Verbo"},"Art\xedculo":{color:"rgba(241, 148, 138, 0.8)",title:"Art\xedculo"},"Conjunci\xf3n":{color:"rgba(247, 220, 111, 0.8)",title:"Conjunci\xf3n"}},Hc=function(e,t){var a=e.length,n=Math.floor(100*t/a);return e.sort((function(e,t){return e.order_phrase>t.order_phrase?1:-1})),{percentage:n,words:e}},Gc=a(24),Kc=a.n(Gc),Xc=a(87),Zc={doughnut:function(){return{legend:{labels:{boxWidth:10,usePointStyle:!0}},tooltips:{enabled:!0,mode:"single",callbacks:{label:function(e,t){var a=t.labels[e.index],n=t.datasets[0].data[e.index];return"".concat(n,"% de ").concat(a.toLowerCase())}}}}},line:function(e){return{legend:{align:"end",labels:{boxWidth:10,usePointStyle:!0}},scales:{xAxes:[{scaleLabel:{display:!0,labelString:"match"===e?"Apariciones del vocabulario":"Sesiones"}}],yAxes:[{scaleLabel:{display:!0,labelString:"match"===e?"N\xfamero de errores":"Minutos"},ticks:{beginAtZero:!0,steps:10,stepSize:"match"===e?1:10,max:"match"===e?10:60}}]},tooltips:{enabled:!0,mode:"single",callbacks:{label:function(t,a){var n=t.yLabel;return n+="".concat("match"===e?" error(es)":" minuto(s)"),n},title:function(t,a){if("match"===e){var n=t[0].yLabel;return"".concat(n," error(es) de ").concat(n+1," intento(s)")}var r=t[0].xLabel;return"Sesi\xf3n ".concat(r)}}}}},stackBar:function(){return{legend:{align:"end",labels:{boxWidth:10,usePointStyle:!0}},scales:{xAxes:[{scaleLabel:{display:!0,labelString:"Palabras asociadas"},stacked:!0}],yAxes:[{scaleLabel:{display:!0,labelString:"% de aciertos/desaciertos"},ticks:{beginAtZero:!0,steps:10,stepSize:10,max:100},stacked:!0}]},tooltips:{enabled:!0,mode:"single",callbacks:{label:function(e,t){var a=t.datasets[e.datasetIndex].label;return e.yLabel+"% de "+a.toLowerCase()},title:function(e,t){var a=e[0].xLabel.split("("),n=a[0],r=a[1],i=parseInt(r.split(")")[0],10),c=Math.round(e[0].yLabel*i/100);return"".concat(n,"(").concat(c," de ").concat(i,")")}}}}}},Yc=Zc,Jc=Yc.doughnut,Qc=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={chartData:{},description:"",options:Jc(),percentage:0},n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(Fa.a,{sm:this.props.sm,md:this.props.md,className:Kc.a.container},r.a.createElement(Qn,null,r.a.createElement("p",{className:Kc.a.title},this.props.title),r.a.createElement(Xc.Doughnut,{data:this.state.chartData,options:this.state.options,height:this.props.height}),r.a.createElement("div",{className:Kc.a.percentage},this.state.percentage,"%"),r.a.createElement("p",{className:Kc.a.description},this.state.description)))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=function(e){var t=0;e.forEach((function(e){100===e.percentage&&(t+=1)}));var a=e.length,n=Math.floor(100*t/a);return{chartData:{labels:["Correctas","Incorrectas"],datasets:[{label:"",data:[n,100-n],backgroundColor:["#73C6B6","#E5E7E9"]}]},hits:t,total:a}}(this.props.data),t=e.chartData,a=e.hits,n=e.total,r=t.datasets[0].data[0],i="El paciente pronunci\xf3 correctamente ".concat(a," ")+"de un total de ".concat(n," frases");this.setState({chartData:t,description:i,percentage:r})}}]),a}(n.Component),$c=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.data;return r.a.createElement(Fa.a,{sm:this.props.sm,md:this.props.md,lg:this.props.lg,className:Kc.a.container},r.a.createElement(Qn,null,r.a.createElement("div",{className:"flex"},r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:Kc.a.title},"Nivel ",e.level),r.a.createElement("div",{className:Kc.a.title},"Sesi\xf3n ",e.id_session)),r.a.createElement("div",{className:Kc.a.score},e.score),r.a.createElement("div",{className:Kc.a.subtitle},"Puntos ganados"),r.a.createElement("div",{className:"".concat(Kc.a.score," ").concat(Kc.a.mt20)},this.setLevelTime()),r.a.createElement("div",{className:Kc.a.subtitle},"Minutos para terminar nivel")))))}},{key:"setLevelTime",value:function(){var e=this.props.data,t=e.date_start,a=e.date_end,n=Fi(t,a).minutes;return Math.round(n)}}]),a}(n.Component),es=Yc.line,ts=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={chartData:{},options:es(n.props.metric)},n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(Fa.a,{sm:this.props.sm,md:this.props.md,className:Kc.a.container},r.a.createElement(Qn,null,r.a.createElement("p",{className:Kc.a.title},"match"===this.props.metric?r.a.createElement("span",null,this.props.title):r.a.createElement("span",null,"Tiempos en minutos")),r.a.createElement(Xc.Line,{data:this.state.chartData,options:this.state.options,height:this.props.height})))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.data,a=e.metric,n=e.title;if(t){var r="match"===a?function(e,t){var a=Object.values(e),n=[];a.forEach((function(e){e.variable===t&&n.push(e)}));var r=[],i=1,c=[],s=0;return n.forEach((function(e){e.is_good?(r.push(i),c.push(s),i+=1,s>0&&(s=0)):s+=1})),{labels:r,datasets:[{label:"Curva de errores",data:c,backgroundColor:"rgba(241, 148, 138, 0.5)",borderColor:"rgba(241, 148, 138, 1.0)"}]}}(t,n):function(e){var t=Object.values(e),a=[],n=[];return t.forEach((function(e){var t=Fi(e.date_start,e.date_end);n.push(Math.round(t.minutes)),a.push("ID ".concat(e.id))})),{labels:a,datasets:[{label:"Curva de tiempo",data:n,backgroundColor:"rgba(241, 148, 138, 0.5)",borderColor:"rgba(241, 148, 138, 1.0)"}]}}(t);this.setState({chartData:r})}}}]),a}(n.Component),as=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={phrases:[]},n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(Fa.a,{sm:"12",md:"7",className:Kc.a.container},r.a.createElement(Qn,null,r.a.createElement("p",{className:Kc.a.title},"Palabras correctas por frases"),this.state.phrases.map((function(e,t){return r.a.createElement("div",{className:"flex",key:t},r.a.createElement("div",{className:"flex ".concat(Kc.a.wordsContainer)},e.words.map((function(e,t){return r.a.createElement("div",{className:Kc.a.word,key:t,style:{color:e.checked?"black":"#F1948A"}},e.word)}))),r.a.createElement("div",{className:Kc.a.phrasePercentage},e.percentage,"%"))}))))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState({phrases:this.props.data})}}]),a}(n.Component),ns=Yc.stackBar,rs=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={chartData:{},options:ns()},n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(Fa.a,{sm:this.props.sm,md:this.props.md,lg:this.props.lg,className:Kc.a.container},r.a.createElement(Qn,null,r.a.createElement("p",{className:Kc.a.title},this.props.title),r.a.createElement(Xc.Bar,{data:this.state.chartData,options:this.state.options,height:this.props.height})))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.color,a=e.data,n=e.title;if(a){var r=function(e,t,a){var n=Object.values(e),r=[];n.forEach((function(e){e.kind===t&&r.push(e)}));var i=[];r.forEach((function(e){i.includes(e.word)||i.push(e.word)}));var c=[],s=[];return i.forEach((function(e,t){var a=0,n=0;r.forEach((function(t){t.word===e&&(t.checked&&(n+=1),a+=1)}));var o=Math.floor(100*n/a),l=100-o;c.push(o),s.push(l),i[t]="".concat(e,"(").concat(a,")")})),{labels:i,datasets:[{label:"Aciertos",data:c,backgroundColor:a},{label:"Desaciertos",data:s,backgroundColor:"rgba(229, 231, 233, 0.7)"}]}}(a,n,t);this.setState({chartData:r})}}}]),a}(n.Component),is=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={matchesData:null,words:[]},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(Ra.a,{noGutters:!0},r.a.createElement(Fa.a,{sm:"12"},r.a.createElement("div",{className:Wc.a.subtitle},"Emparejamiento de vocabulario")),this.state.words.map((function(t,a){return r.a.createElement(ts,{sm:"12",md:"4",data:e.state.matchesData,height:230,key:a,metric:"match",title:t})})))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.feedData.Matches_Feeds;if(e){var t=function(e){var t=Object.values(e),a=[];return t.forEach((function(e){a.includes(e.variable)||a.push(e.variable)})),a}(e);this.setState({matchesData:e,words:t})}}}]),a}(n.Component),cs=Object(h.b)((function(e){return{feedData:e.feedback.feedData,session:e.activity.session}}))(is),ss=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={levels:[]},n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(Ra.a,{noGutters:!0},r.a.createElement(Fa.a,{xs:"12"},r.a.createElement("div",{className:Wc.a.subtitle},"Niveles en la sesi\xf3n")),this.state.levels.map((function(e){return r.a.createElement($c,{sm:"12",md:"6",lg:"4",data:e,key:e.id})})))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setLevels()}},{key:"componentDidUpdate",value:function(){this.setLevels()}},{key:"setLevels",value:function(){var e=this.props.feedData.Levels_Feeds,t=this.state.levels;if(e&&0===t.length){var a=Object.values(e);this.setState({levels:a})}}}]),a}(n.Component),os=Object(h.b)((function(e){return{feedData:e.feedback.feedData}}))(ss),ls=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={sessionsData:null},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state.sessionsData;return r.a.createElement(Ra.a,{noGutters:!0},r.a.createElement(Fa.a,{sm:"12"},r.a.createElement("div",{className:Wc.a.subtitle},"Tiempos por sesiones de la actividad")),e&&r.a.createElement(ts,{sm:"12",md:"6",data:e,height:200,metric:"time"}))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.feedData.Sessions_Feeds;e&&this.setState({sessionsData:e})}}]),a}(n.Component),us=Object(h.b)((function(e){return{feedData:e.feedback.feedData}}))(ls),ps=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={groupedPhrases:null,phrasesData:null,structures:[]},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state.groupedPhrases;return r.a.createElement(Ra.a,{noGutters:!0},r.a.createElement(Fa.a,{sm:"12"},r.a.createElement("div",{className:Wc.a.subtitle},"Frases trabajadas en la actividad")),t&&r.a.createElement(Qc,{sm:"12",md:"5",data:t,height:160,title:"Resumen de las frases"}),"evolution"===this.props.feedback&&t&&r.a.createElement(as,{data:t}),r.a.createElement(Fa.a,{sm:"12"},r.a.createElement("div",{className:Wc.a.subtitle},"Discriminaci\xf3n por estructura sint\xe1ctica")),this.state.structures.map((function(t,a){return r.a.createElement(rs,{sm:"12",md:"6",lg:"4",color:t.color,data:e.state.phrasesData,height:230,key:a,title:t.title})})))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.feedData.Phrases_Feeds;if(e){var t=function(e){var t=Object.values(e),a=[],n=t.shift(),r=[n],i=n.checked?1:0;return t.forEach((function(e,c){if(e.id_phrase===n.id_phrase){if(r.push(e),e.checked&&(i+=1),c===t.length-1){var s=Hc(r,i);a.push(s)}}else if(e.id_phrase!==n.id_phrase){var o=Hc(r,i);a.push(o),r=[n=e],i=n.checked?1:0}})),a}(e),a=function(e){var t=Object.values(e),a={};return t.forEach((function(e){var t=Object.keys(a),n=e.kind;t.includes(n)||(a[n]=Vc[n])})),Object.values(a)}(e);this.setState({groupedPhrases:t,phrasesData:e,structures:a})}}}]),a}(n.Component),ds=Object(h.b)((function(e){return{feedData:e.feedback.feedData}}))(ps),ms=a(45),hs=a.n(ms),vs={1:{id:1,name:"Domin\xf3",alias:"Do",semantic_description:1},3:{id:3,name:"Secuencia",alias:"Se",semantic_description:2}},fs=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={description:1,option:"vocalization"},n.onOptionClicked=n.onOptionClicked.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state.option,t="secondary-btn-outline ".concat(hs.a.btn),a="vocalization"===e?"".concat(t," ").concat(hs.a.selected):t,n="inGame"===e?"".concat(t," ").concat(hs.a.selected):t,i="levels"===e?"".concat(t," ").concat(hs.a.selected):t,c="times"===e?"".concat(t," ").concat(hs.a.selected):t;2===this.state.description&&(a="".concat(a," ").concat(hs.a.disabled),n="".concat(n," ").concat(hs.a.disabled));var s=this.props.feedback,o=400,l=32.5;return"historical"===s&&(o=500,l=24.5),r.a.createElement("div",{className:"flex ".concat(hs.a.btnContainer),style:{"--contWidth":"".concat(o,"px")}},r.a.createElement(ct.a,{className:a,name:"vocalization",onClick:this.onOptionClicked,style:{"--btnWidth":"".concat(l,"%")}},this.props.windowWidth<767&&"historical"===s?r.a.createElement("span",{className:hs.a.span},"Vocaliza..."):r.a.createElement("span",{className:hs.a.span},"Vocalizaci\xf3n")),r.a.createElement(ct.a,{className:n,name:"inGame",onClick:this.onOptionClicked,style:{"--btnWidth":"".concat(l,"%")}},"Juego"),r.a.createElement(ct.a,{className:i,name:"levels",onClick:this.onOptionClicked,style:{"--btnWidth":"".concat(l,"%")}},"Niveles"),"historical"===s&&r.a.createElement(ct.a,{className:c,name:"times",onClick:this.onOptionClicked,style:{"--btnWidth":"".concat(l,"%")}},"Tiempos"))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setStateValues()}},{key:"componentDidUpdate",value:function(e){e.mechanic!==this.props.mechanic&&this.setStateValues()}},{key:"onOptionClicked",value:function(e){var t=e.target.name,a=this.state.description;this.setState({option:t}),this.props.onOptionClicked({description:a,option:t})}},{key:"setStateValues",value:function(){var e=1,t=1===(e="historical"===this.props.feedback?vs[this.props.mechanic].semantic_description:this.props.activity.Mechanic.semantic_description)?"vocalization":"levels";this.setState({description:e,option:t}),this.props.onOptionClicked({description:e,option:t})}}]),a}(n.Component),bs=Object(h.b)((function(e){return{activity:e.activity.activity,windowWidth:e.ui.windowWidth}}))(fs),gs=a(235),_s=a.n(gs),Os=a(54),ys=a.n(Os),ks=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onClicked=n.onClicked.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.index,a=e.session,n=e.sessionSelected,i=ys.a.container,c=ys.a.innerContainer;return 0===t?i="".concat(i," ").concat(ys.a.first):2===t&&(i="".concat(i," ").concat(ys.a.last)),n&&a.id===n.id&&(c="".concat(c," ").concat(ys.a.selected)),r.a.createElement(Fa.a,{xs:"12",sm:"6",md:"4",className:i},r.a.createElement(ct.a,{className:"ghost-btn ".concat(ys.a.btn),onClick:this.onClicked},r.a.createElement("div",{className:c},r.a.createElement("div",{className:"flex ".concat(ys.a.title)},r.a.createElement("span",null,"Sesi\xf3n"),r.a.createElement("span",null,"ID: ",a.id)),r.a.createElement("div",{className:ys.a.date},"Registro del ",this.getFormattedDate(a.date_start)),r.a.createElement("div",{className:ys.a.time},this.getDifference(a.date_start,a.date_end)," minutos"))))}}]),Object(l.a)(a,[{key:"getDifference",value:function(e,t){var a=Fi(e,t);return Math.round(a.minutes)}},{key:"getFormattedDate",value:function(e){return Bi(e)}},{key:"onClicked",value:function(){this.props.onClicked(this.props.session)}}]),a}(n.Component),Es=Object(h.b)((function(e){return{sessionSelected:e.activity.session}}))(ks),Ss=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onSessionClicked=n.onSessionClicked.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(Ra.a,{className:_s.a.container,noGutters:!0},this.props.sessions.map((function(t,a){return r.a.createElement(Es,{index:a,key:t.id,onClicked:e.onSessionClicked,session:t})})))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.sessions[0];this.setSession(e)}},{key:"onSessionClicked",value:function(e){this.setSession(e)}},{key:"setSession",value:function(e){this.props.setSession(e)}}]),a}(n.Component),js={setSession:la},Cs=Object(h.b)(null,js)(Ss),xs=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={loading:!1,option:"vocalization"},n.onOptionClicked=n.onOptionClicked.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=Object.values(this.props.sessions);return r.a.createElement("div",{className:zc.a.container},r.a.createElement(Cs,{sessions:e}),r.a.createElement(bs,{feedback:"evolution",onOptionClicked:this.onOptionClicked}),null===this.props.feedData?r.a.createElement(Sr,null,"No existen registros que permitan construir las estad\xedsticas solicitadas."):this.state.loading?r.a.createElement(Dr,{color:"primary"}):"vocalization"===this.state.option?r.a.createElement(ds,{feedback:"evolution"}):"inGame"===this.state.option?r.a.createElement(cs,null):r.a.createElement(os,null))}}]),Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){e.session!==this.props.session&&this.getFeedback()}},{key:"getFeedback",value:function(){var e=Object(ve.a)(he.a.mark((function e(){var t,a,n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.session)){e.next=25;break}if(a=t.id,n=this.state.option,this.setState({loading:!0}),"vocalization"!==n){e.next=10;break}return e.next=8,this.props.getPhrases({id:a});case 8:e.next=24;break;case 10:if("inGame"!==n){e.next=15;break}return e.next=13,this.props.getMatches({id:a});case 13:e.next=24;break;case 15:if("levels"!==n){e.next=24;break}if(1!==this.props.activity.Mechanic.semantic_description){e.next=22;break}return e.next=20,this.props.getLevels({id:a});case 20:e.next=24;break;case 22:return e.next=24,this.props.getSecuences({id:a});case 24:this.setState({loading:!1});case 25:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onOptionClicked",value:function(e){var t=this;this.setState({option:e.option},(function(){return t.getFeedback()}))}}]),a}(n.Component),Ns={getLevels:Cc,getMatches:xc,getPhrases:Nc,getSecuences:wc},ws=Object(h.b)((function(e){return{activity:e.activity.activity,feedData:e.feedback.feedData,sessions:e.activity.sessions,session:e.activity.session}}),Ns)(xs),Ts=a(236),Is=a.n(Ts),As=a(139),Ps=a.n(As),Ds=a(489),Ms=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={mechanics:Object.values(vs),selected:1},n.onMechanicClicked=n.onMechanicClicked.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"flex ".concat(Ps.a.container)},this.state.mechanics.map((function(t){var a=Ps.a.btn;return t.id===e.state.selected&&(a="".concat(a," ").concat(Ps.a.selected)),r.a.createElement("div",{key:t.id},r.a.createElement(ct.a,{className:"ghost-btn ".concat(a),id:"utooltip".concat(t.name),name:t.id,onClick:e.onMechanicClicked},t.alias),r.a.createElement(Ds.a,{placement:"right",target:"utooltip".concat(t.name)},t.name))})))}}]),Object(l.a)(a,[{key:"onMechanicClicked",value:function(e){var t=e.target.name;t=parseInt(t,10),this.setState({selected:t}),this.props.onMechanicClicked(t)}}]),a}(n.Component),Ls=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={description:1,loading:!1,mid:1,option:"vocalization"},n.onOptionClicked=n.onOptionClicked.bind(Object(o.a)(n)),n.onMechanicClicked=n.onMechanicClicked.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:Is.a.container},r.a.createElement(Ms,{onMechanicClicked:this.onMechanicClicked}),r.a.createElement(bs,{feedback:"historical",mechanic:this.state.mid,onOptionClicked:this.onOptionClicked}),this.state.loading?r.a.createElement(Dr,{color:"primary"}):null===this.props.feedData?r.a.createElement(Sr,null,"No existen registros que permitan construir las estad\xedsticas solicitadas."):"vocalization"===this.state.option?r.a.createElement(ds,{feedback:"historical"}):"inGame"===this.state.option?r.a.createElement(cs,null):"levels"===this.state.option?r.a.createElement(os,null):r.a.createElement(us,null))}}]),Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this.props.date,n=this.state.mid;a===e.date&&n===t.mid||this.getFeedback()}},{key:"getFeedback",value:function(){var e=Object(ve.a)(he.a.mark((function e(){var t,a,n,r,i,c,s,o,l,u,p;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.date,n=t.pid,r=this.state,i=r.description,c=r.mid,s=r.option,o=zi(a.toISOString()),l=o.startDate,u=o.endDate,p={pid:n,startDate:l,endDate:u,mid:c},this.setState({loading:!0}),"vocalization"!==s){e.next=10;break}return e.next=8,this.props.getPhrases(p,!0);case 8:e.next=28;break;case 10:if("inGame"!==s){e.next=15;break}return e.next=13,this.props.getMatches(p,!0);case 13:e.next=28;break;case 15:if("levels"!==s){e.next=25;break}if(1!==i){e.next=21;break}return e.next=19,this.props.getLevels(p,!0);case 19:e.next=23;break;case 21:return e.next=23,this.props.getSecuences(p,!0);case 23:e.next=28;break;case 25:if("times"!==s){e.next=28;break}return e.next=28,this.props.getSessions(p,!0);case 28:this.setState({loading:!1});case 29:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onOptionClicked",value:function(e){var t=this;this.setState({description:e.description,option:e.option},(function(){return t.getFeedback()}))}},{key:"onMechanicClicked",value:function(e){this.setState({mid:e})}}]),a}(n.Component),Us={getLevels:Cc,getMatches:xc,getPhrases:Nc,getSecuences:wc,getSessions:function(e){return function(){var t=Object(ve.a)(he.a.mark((function t(a){var n,r,i,c,s,o,l,u,p,d,m;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.pid,r=e.startDate,i=e.endDate,c=e.mid,s="".concat(jc,"/feedback/historical/").concat(n,"/").concat(c,"/sessions")+"?start=".concat(r,"&end=").concat(i),t.prev=2,t.next=5,be.a.get(s);case 5:return o=t.sent,l=o.data,u=l.data,p=l.message,d=l.status,m=200!==d,a({type:B,payload:{feedData:200===d?u:null}}),t.abrupt("return",{error:m,message:p});case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",{error:!0,message:t.t0});case 16:case 17:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}()}},Rs=Object(h.b)((function(e){return{feedData:e.feedback.feedData,date:e.feedback.feedDate}}),Us)(Ls),Fs=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={kind:"evoluci\xf3n",loading:!1},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.kind,a=e.loading,n="evoluci\xf3n"===t?"Evoluci\xf3n por sesiones":"Hist\xf3rico por mes",i=this.props.match.params.pid;return r.a.createElement(mr,{page:"feedback",pt:50},r.a.createElement("div",{className:"flex ".concat(Sc.a.container)},r.a.createElement("div",{className:Sc.a.title},n),"hist\xf3rico"===t&&r.a.createElement(Fc,null)),a?r.a.createElement(Dr,{color:"primary"}):this.props.sessions&&"evoluci\xf3n"===t?r.a.createElement(ws,null):"hist\xf3rico"===t?r.a.createElement(Rs,{pid:i}):null)}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params,t=e.aid,a=e.kind;"evoluci\xf3n"===a&&this.getActivity(t),this.setState({kind:a})}},{key:"componentWillUnmount",value:function(){this.props.setActivity(null),this.props.setFeedData(null),this.props.setSessions(null),this.props.setSession(null)}},{key:"getActivity",value:function(){var e=Object(ve.a)(he.a.mark((function e(t){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.props.getActivity(t);case 3:this.setFirstSessions(),this.setState({loading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setFirstSessions",value:function(){var e=this.props.activity,t=[];e&&(t=Object.values(e.Activities_Sessions),t=Object.assign.apply(Object,[{}].concat(Object(En.a)(t.slice(0,3).map((function(e){return Object(kn.a)({},e.id,e)})))))),this.props.setSessions(t)}}]),a}(n.Component),Bs={getActivity:ia,setActivity:sa,setFeedData:function(e){return function(t){t({type:B,payload:{feedData:e}})}},setSessions:function(e){return function(t){t({type:g,payload:{sessions:e}})}},setSession:la},zs=Object(h.b)((function(e){return{activity:e.activity.activity,sessions:e.activity.sessions}}),Bs)(Fs),qs=a(94),Ws=a.n(qs),Vs=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={error:null,loading:!1,password:"",userId:null,username:""},n.onInputChanged=n.onInputChanged.bind(Object(o.a)(n)),n.onLogin=n.onLogin.bind(Object(o.a)(n)),n.onLoginClicked=n.onLoginClicked.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state.userId;return e?r.a.createElement(d.a,{to:"/terapeuta/".concat(e,"/pacientes"),push:!0}):r.a.createElement("div",{className:Ws.a.container},r.a.createElement("div",{className:Ws.a.title},"Ingreso"),r.a.createElement(ea.a,null,r.a.createElement(ta.a,null,r.a.createElement(ui.a,{className:Ws.a.label},"Nombre de usuario"),r.a.createElement(aa.a,{name:"username",onChange:this.onInputChanged,type:"text"})),r.a.createElement(ta.a,null,r.a.createElement(ui.a,{className:Ws.a.label},"Contrase\xf1a"),r.a.createElement(aa.a,{name:"password",onChange:this.onInputChanged,type:"password"})),r.a.createElement(ct.a,{className:"secondary-btn ".concat(Ws.a.btn),onClick:this.onLoginClicked},this.state.loading?r.a.createElement(pa.a,{color:"dark",size:"sm"}):r.a.createElement("span",null,"Entrar"))))}}]),Object(l.a)(a,[{key:"onInputChanged",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(kn.a)({},a,n))}},{key:"onLogin",value:function(){var e=Object(ve.a)(he.a.mark((function e(t,a){var n,r,i,c;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),n={username:t,password:a},e.next=4,this.props.login(n,ot);case 4:r=e.sent,i=r.error,c=r.userId,this.setState({error:i,loading:!1,userId:c});case 7:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"onLoginClicked",value:function(e){if(e.preventDefault(),!this.state.loading){var t=this.state,a=t.username,n=t.password;""!==a.trim()&&""!==n.trim()?this.onLogin(a,n):this.setState({error:"El usuario y la contrase\xf1a son obligatorios"})}}}]),a}(n.Component),Hs={login:Et},Gs=Object(h.b)(null,Hs)(Vs),Ks=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.ui.vOffset;return r.a.createElement(Ra.a,{noGutters:!0},r.a.createElement(Fa.a,{sm:"12",md:"6"}),r.a.createElement(Fa.a,{sm:"12",md:"6"},r.a.createElement("div",{className:"flex",style:{alignItems:"flex-start",justifyContent:"center",height:"calc(100vh - ".concat(e,"px)")}},r.a.createElement(Gs,null))))}},{key:"componentDidMount",value:function(){this.props.setBar("standard"),this.props.setParallax(!1),this.props.showMobileMenu(!1),this.props.setUser(null),this.props.showAvatar(!1)}}]),a}(n.Component),Xs={setBar:ie,setParallax:le,setUser:Ta,showAvatar:ue,showMobileMenu:de},Zs=Object(h.b)((function(e){return{ui:e.ui}}),Xs)(Ks),Ys=a(64),Js=a.n(Ys),Qs=a(109),$s=a.n(Qs),eo=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onChange=n.onChange.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=$s.a.searchContainer;return this.props.patients&&(e="".concat(e," ").concat($s.a.marginTop)),r.a.createElement("div",{className:"flex ".concat(e)},r.a.createElement(Re.a,{className:$s.a.searchIcon,icon:Fe.g}),r.a.createElement(aa.a,{className:$s.a.search,type:"text",placeholder:"Busca por nombre o identificaci\xf3n",onChange:this.onChange}))}}]),Object(l.a)(a,[{key:"onChange",value:function(){var e=Object(ve.a)(he.a.mark((function e(t){var a,n,r;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.value,!(n=this.props.patients)){e.next=8;break}return r="my"===n?this.props.userId:null,e.next=6,this.props.getPatients(r,a);case 6:e.next=10;break;case 8:return e.next=10,this.props.getUsers(a);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(n.Component),to={getPatients:Mi,getUsers:wa},ao=Object(h.b)(null,to)(eo),no=a(31),ro=a.n(no),io=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={check:ro.a.btn},n.onAssignPatientClicked=n.onAssignPatientClicked.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.userId,a=e.patient,n=a.id;return r.a.createElement("div",{className:ro.a.container},r.a.createElement(Je.b,{className:"ghost-btn ".concat(ro.a.link),to:"/terapeuta/".concat(t,"/pacientes/").concat(n,"/actividades")},r.a.createElement("div",{className:"flex ".concat(ro.a.height," ").concat(ro.a.padding)},r.a.createElement("div",{className:"flex"},a.profile_img?r.a.createElement("img",{alt:"",className:ro.a.uimage,src:"".concat("https://satrelo-qa.ddns.net").concat(a.profile_img)}):r.a.createElement("div",{className:"flex ".concat(ro.a.uimage," ").concat(ro.a.thumb),style:{backgroundColor:a.color}},a.thumbnail_alias),r.a.createElement("div",{className:ro.a.padding},r.a.createElement("div",{className:ro.a.uname},a.name,"\xa0",a.last_name),r.a.createElement("div",{className:ro.a.uinfo},"Paciente desde 2019"))),r.a.createElement(ct.a,{className:"ghost-btn ".concat(this.state.check),onClick:this.onAssignPatientClicked},r.a.createElement(Re.a,{icon:Fe.a,size:"2x"})))))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setCheck()}},{key:"componentDidUpdate",value:function(){this.setCheck()}},{key:"checkTherapist",value:function(e,t){if(t.Therapists){if(t.Therapists[e])return!0}else if(t.Therapists_Patients&&e===t.Therapists_Patients.id_therapist)return!0;return!1}},{key:"onAssignPatientClicked",value:function(){var e=Object(ve.a)(he.a.mark((function e(t){var a,n,r;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),t.preventDefault(),a=this.props,n=a.userId,r=a.patient,!this.checkTherapist(n,r)){e.next=8;break}return e.next=6,this.props.removePatient(n,r.id);case 6:e.next=10;break;case 8:return e.next=10,this.props.createPatient(n,r.id);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setCheck",value:function(){var e=this.props,t=e.userId,a=e.patient,n=this.checkTherapist(t,a)?ro.a.btnActive:ro.a.btn;n!==this.state.check&&this.setState({check:n})}}]),a}(n.Component),co={createPatient:function(e,t){return function(){var a=Object(ve.a)(he.a.mark((function a(n){var r,i,c,s,o,l,u,p;return he.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r="".concat(Pi,"/therapist/").concat(e,"/patient"),a.prev=1,a.next=4,be.a.post(r,{data:{pid:t}});case 4:return i=a.sent,c=i.data,s=c.data,o=c.message,l=c.status,u=200!==l,200===l&&(p=s[t],n({type:W,payload:{association:p}})),a.abrupt("return",{error:u,message:o});case 11:return a.prev=11,a.t0=a.catch(1),a.abrupt("return",{error:!0,message:a.t0});case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()},removePatient:function(e,t){return function(){var a=Object(ve.a)(he.a.mark((function a(n){var r,i,c,s,o,l;return he.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r="".concat(Pi,"/therapist/").concat(e,"/patient/").concat(t),a.prev=1,a.next=4,be.a.delete(r);case 4:return i=a.sent,c=i.data,s=c.message,o=c.status,l=200!==o,200===o&&n({type:q,payload:{_association:{_id_therapist:e,_id_patient:t}}}),a.abrupt("return",{error:l,message:s});case 11:return a.prev=11,a.t0=a.catch(1),a.abrupt("return",{error:!0,message:a.t0});case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()}},so=Object(h.b)(null,co)(io),oo=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={loading:!1,option:"my",userId:null},n.onOptionSelected=n.onOptionSelected.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t="primary-btn-outline left ".concat(Js.a.btn," \n                            ").concat("my"===this.state.option?Js.a.btnSelected:""),a="primary-btn-outline ".concat(Js.a.btn," \n                            ").concat("all"===this.state.option?Js.a.btnSelected:""),n=this.props.patients;return n=n?Object.values(this.props.patients):[],r.a.createElement(mr,{pt:50},r.a.createElement("div",{className:Js.a.title},"Pacientes"),r.a.createElement("div",{className:"flex ".concat(Js.a.searchContainer)},r.a.createElement("div",{className:"flex ".concat(Js.a.btnContainer)},r.a.createElement(ct.a,{className:t,name:"my",onClick:this.onOptionSelected,outline:!0},"Mis pacientes"),r.a.createElement(ct.a,{className:a,name:"all",onClick:this.onOptionSelected,outline:!0},"Todos los pacientes")),r.a.createElement(ao,{patients:this.state.option,userId:this.state.userId})),r.a.createElement("div",{className:Js.a.listContainer},this.state.loading?r.a.createElement(Dr,{color:"primary"}):n&&n.length>0?n.map((function(t){return r.a.createElement(so,{key:t.id,patient:t,userId:e.state.userId})})):r.a.createElement(Sr,null,"No se encontraron pacientes. Recuerda que puedes asignarte pacientes en la opci\xf3n Todos los pacientes.")))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(ve.a)(he.a.mark((function e(){var t=this;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({userId:this.props.match.params.tid},(function(){t.getPatientsList(t.state.userId)}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.props.setPatients(null)}},{key:"getPatientsList",value:function(){var e=Object(ve.a)(he.a.mark((function e(t){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.props.getPatients(t);case 3:this.setState({loading:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onOptionSelected",value:function(e){var t=this;this.setState({option:e.target.name},(function(){var e="my"===t.state.option?t.state.userId:null;t.getPatientsList(e)}))}}]),a}(n.Component),lo={getPatients:Mi,setPatients:function(e){return function(t){t({type:V,payload:{patients:e}})}}},uo=Object(h.b)((function(e){return{patients:e.patient.patients}}),lo)(oo),po=a(110),mo=a.n(po),ho=a(65),vo=a.n(ho),fo=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onLinkClicked=n.onLinkClicked.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.userId,a=e.user;return r.a.createElement("div",{className:"flex ".concat(vo.a.container)},r.a.createElement("div",{className:"flex"},a.profile_img?r.a.createElement("img",{alt:"",className:vo.a.uimage,src:"".concat("https://satrelo-qa.ddns.net").concat(a.profile_img)}):r.a.createElement("div",{className:"flex ".concat(vo.a.uimage," ").concat(vo.a.thumb),style:{backgroundColor:a.color}},a.thumbnail_alias),r.a.createElement("div",{className:vo.a.infoContainer},r.a.createElement("div",{className:vo.a.name},a.name," ",a.last_name),r.a.createElement("div",{className:vo.a.identification},"ID ",a.id))),r.a.createElement(Je.b,{className:"ghost-btn ".concat(vo.a.btnEdit),onClick:this.onLinkClicked,to:"/terapeuta/".concat(t,"/editar/").concat(a.id)},r.a.createElement(Re.a,{icon:Fe.c,size:"lg"})))}}]),Object(l.a)(a,[{key:"onLinkClicked",value:function(){this.props.setToUpdate(this.props.user)}}]),a}(n.Component),bo={setToUpdate:Ia},go=Object(h.b)(null,bo)(fo),_o=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={loading:!1},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.match.params.tid,t=this.props.users;return t=t?Object.values(t):[],r.a.createElement(mr,{pt:50},r.a.createElement("div",{className:mo.a.title},"Todos los usuarios"),r.a.createElement("div",{className:"flex ".concat(mo.a.toolsContainer)},r.a.createElement(ao,null),r.a.createElement(Je.b,{to:"/terapeuta/".concat(e,"/nuevo")},r.a.createElement(ct.a,{className:"secondary-btn ".concat(mo.a.btnCreate)},"Nuevo"))),r.a.createElement("div",{className:mo.a.listContainer},this.state.loading?r.a.createElement(Dr,{color:"primary"}):t.length>0?t.map((function(t){return r.a.createElement(go,{admin:!0,key:t.id,user:t,userId:e})})):r.a.createElement(Sr,null,"No se han encontrado usuarios en el sistema. Recuerda que como administrador puedes crear usuarios nuevos")))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getAllUsers()}},{key:"componentWillUnmount",value:function(){this.props.setUsers(null)}},{key:"getAllUsers",value:function(){var e=Object(ve.a)(he.a.mark((function e(){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.props.getUsers();case 3:this.setState({loading:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),Oo={getUsers:wa,setUsers:function(e){return function(t){t({type:ne,payload:{users:e}})}}},yo=Object(h.b)((function(e){return{users:e.user.users}}),Oo)(_o),ko=a(111),Eo=a.n(ko),So=a(66),jo=a.n(So),Co=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={encodedImage:null},n.canvasRef=r.a.createRef(),n.imageRef=r.a.createRef(),n.onFileChanged=n.onFileChanged.bind(Object(o.a)(n)),n.onFileReaderLoaded=n.onFileReaderLoaded.bind(Object(o.a)(n)),n.onImageLoaded=n.onImageLoaded.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:jo.a.container},r.a.createElement("div",{className:"flex ".concat(jo.a.innerContainer)},r.a.createElement("div",{className:"flex ".concat(jo.a.iconContainer)},!this.state.encodedImage&&r.a.createElement(Re.a,{className:jo.a.icon,icon:Fe.f,size:"3x"}),r.a.createElement("canvas",{style:{display:this.state.encodedImage?"block":"none"},ref:this.canvasRef}),r.a.createElement("img",{alt:"",className:jo.a.hiddenImage,ref:this.imageRef,src:""}))),r.a.createElement("p",{className:jo.a.text},"Si lo deseas puedes agregar una imagen de perfil"),r.a.createElement(ta.a,null,r.a.createElement(aa.a,{className:jo.a.hidden,onChange:this.onFileChanged,type:"file",id:"profilePicture"}),r.a.createElement(ui.a,{className:"secondary-btn ".concat(jo.a.btnFile),for:"profilePicture"},"Agregar Imagen")))}}]),Object(l.a)(a,[{key:"onFileChanged",value:function(e){var t=e.target.files[0];if(t){var a=new FileReader;a.readAsDataURL(t),a.onload=this.onFileReaderLoaded}}},{key:"onFileReaderLoaded",value:function(e){this.imageRef.current.src=e.target.result,this.imageRef.current.onload=this.onImageLoaded}},{key:"onImageLoaded",value:function(e){var t=this,a=e.target.width>e.target.height&&e.target.width>180?180/e.target.width:e.target.height>180?180/e.target.height:1;this.canvasRef.current.width=e.target.width*a,this.canvasRef.current.height=e.target.height*a;var n=this.canvasRef.current.getContext("2d");n.drawImage(e.target,0,0,this.canvasRef.current.width,this.canvasRef.current.height);var r=n.canvas.toDataURL(e.target,"image/png");this.setState({encodedImage:r},(function(){t.canvasRef.current.toBlob((function(e){t.props.onImageLoaded(e)}))}))}}]),a}(n.Component),xo=function(e){return r.a.createElement(ta.a,{check:!0},r.a.createElement(aa.a,{type:"checkbox",name:e.name,checked:e.checked,onChange:function(t){e.onChange(t)}}),r.a.createElement(ui.a,null,e.children))},No=function(e){return r.a.createElement(ta.a,null,r.a.createElement(ui.a,null,e.children),r.a.createElement(Fc,{date:e.date,form:!0,name:e.name,onChange:function(t){e.onChange(t)}}))},wo=a(487),To=function(e){var t="email"===e.name?"email":"text";return r.a.createElement(ta.a,null,r.a.createElement(ui.a,null,e.children),"admin"===e.form&&"password"===e.name&&r.a.createElement(wo.a,null,"Recuerda que la contrase\xf1a para el paciente debe contener cuatro palabras del conjunto \xe1rbol, coraz\xf3n, flor, nube y sol, separadas por coma y sin espacios. Ej.: \xe1rbol,flor,nube,sol."),r.a.createElement(aa.a,{disabled:e.disabled,type:t,name:e.name,onChange:function(t){e.onChange(t)},value:e.value,invalid:null!==e.error}),e.error&&r.a.createElement(na.a,null,e.error))},Io=function(e){return r.a.createElement(ta.a,null,r.a.createElement(ui.a,null,e.children),r.a.createElement(aa.a,{type:"select",name:e.name,onChange:function(t){e.onChange(t)},value:e.value},e.options.map((function(e,t){return r.a.createElement("option",{key:t,value:e.value},e.title)}))))},Ao=[{title:"Femenino",value:"F"},{title:"Masculino",value:"M"}],Po=[{title:"Paciente",value:1},{title:"Terapeuta",value:2}],Do=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},Mo=function(e,t){return(e.charAt(0)+t.charAt(0)).toUpperCase()},Lo=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={active:{value:!0},birthday_date:{value:new Date},email:{value:"",error:null},gender:{value:"F"},id:{value:"",error:null},is_admin:{value:!1},last_name:{value:"",error:null},name:{value:"",error:null},password:{value:"",error:null},username:{value:"",error:null},id_role:{value:1}},n.onChange=n.onChange.bind(Object(o.a)(n)),n.onSaveClicked=n.onSaveClicked.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=!!this.props.update;return r.a.createElement(ea.a,null,r.a.createElement(Ra.a,{form:!0},r.a.createElement(Fa.a,{md:6},r.a.createElement(To,{error:this.state.name.error,name:"name",onChange:this.onChange,value:this.state.name.value},"Nombre *")),r.a.createElement(Fa.a,{md:6},r.a.createElement(To,{error:this.state.last_name.error,name:"last_name",onChange:this.onChange,value:this.state.last_name.value},"Apellido *"))),r.a.createElement(To,{error:this.state.email.error,name:"email",onChange:this.onChange,value:this.state.email.value},"Email *"),r.a.createElement(Ra.a,{form:!0},r.a.createElement(Fa.a,{md:6},r.a.createElement(To,{disabled:e,error:this.state.id.error,name:"id",onChange:this.onChange,value:this.state.id.value},"Identificaci\xf3n *")),r.a.createElement(Fa.a,{md:6},r.a.createElement(No,{date:this.state.birthday_date.value,name:"birthday_date",onChange:this.onChange},"Fecha de nacimiento *"))),r.a.createElement(Io,{name:"gender",onChange:this.onChange,options:Ao,value:this.state.gender.value},"G\xe9nero *"),r.a.createElement(Ra.a,{form:!0},r.a.createElement(Fa.a,{md:6},r.a.createElement(To,{error:this.state.username.error,name:"username",onChange:this.onChange,value:this.state.username.value},"Nombre de usuario *")),r.a.createElement(Fa.a,{md:6},r.a.createElement(Io,{name:"id_role",onChange:this.onChange,options:Po,value:this.state.id_role.value},"Tipo de usuario *"))),r.a.createElement(To,{error:this.state.password.error,form:"admin",name:"password",onChange:this.onChange,value:this.state.password.value},"Contrase\xf1a *"),r.a.createElement(xo,{name:"active",checked:this.state.active.value,onChange:this.onChange},"\xbfEste usuario est\xe1 activo?"),2===this.state.id_role.value&&r.a.createElement(xo,{name:"is_admin",checked:this.state.is_admin.value,onChange:this.onChange},"\xbfEste usuario es administrador?"),r.a.createElement(ma,{className:"secondary-btn mt-4 w-100",loading:this.props.loading,onClick:this.onSaveClicked},"Guardar"))}}]),Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.user&&this.props.user!==e.user&&this.setState(Object(yt.a)({},this.props.user))}},{key:"buildUserData",value:function(){var e=this,t=Object.keys(this.state),a={};return t.forEach((function(t){var n=e.state[t].value;"name"!==t&&"last_name"!==t&&"email"!==t&&"id"!==t&&"username"!==t&&"password"!==t||(n=n.trim()),a[t]=n})),a}},{key:"onChange",value:function(e){var t=e.target,a=t.name,n=t.value;"active"===a||"is_admin"===a?n=!this.state[a].value:"id_role"===a&&(n=parseInt(n,10));var r=this.state[a];r.value=n,r.error&&(r.error=null),this.setState(Object(kn.a)({},a,r))}},{key:"onSaveClicked",value:function(e){if(e.preventDefault(),!this.props.loading){var t=this.props.update,a=function(e,t){var a=Object.assign({},e),n=!1;""===a.name.value.trim()&&(a.name.error="Este campo es obligatorio.",n=!0),""===a.last_name.value.trim()&&(a.last_name.error="Este campo es obligatorio.",n=!0),""===a.email.value.trim()&&(a.email.error="Este campo es obligatorio.",n=!0),""===a.id.value.trim()&&(a.id.error="Este campo es obligatorio.",n=!0),""===a.username.value.trim()&&(a.username.error="Este campo es obligatorio.",n=!0);var r=!0;if(t||""!==a.password.value.trim()||(a.password.error="Este campo es obligatorio.",n=!0,r=!1),/[a-zA-Z0-9.+_-]+@[a-z]+\.[a-z]+/.test(a.email.value.trim())||(a.email.error="Debes ingresar un email v\xe1lido.",n=!0),r&&""!==a.password.value.trim()&&1===a.id_role.value)if(/[ `!@#$%^g*()_+\-=[\]{};':"\\|.<>/?~]/.test(a.password.value.trim()))a.password.error="La contrase\xf1a del paciente no puede tener ning\xfan caracter especial exceptuando la coma (,).",n=!0;else{var i=a.password.value.trim().split(",");if(4!==i.length)a.password.error="La contrase\xf1a del paciente debe tener 4 palabras separadas por coma (,).",n=!0;else{var c=["\xe1rbol","coraz\xf3n","flor","nube","sol"],s=!1;i.forEach((function(e){c.includes(e)||(s=!0)})),s&&(a.password.error="La contrase\xf1a del paciente debe tener palabras pertenecientes al conjunto descrito.",n=!0)}}return{hasErrors:n,user:a}}(this.state,t);if(a.hasErrors)this.setState(Object(yt.a)({},a.user));else{var n=this.buildUserData();this.props.onSave(n)}}}}]),a}(n.Component),Uo=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={image:null,loading:!1,update:!1,user:null},n.onImageLoaded=n.onImageLoaded.bind(Object(o.a)(n)),n.onSave=n.onSave.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.match.params.uid?"Editar usuario":"Crear usuario",t=this.state,a=t.update,n=t.user;return r.a.createElement(mr,{pt:50},r.a.createElement("div",{className:Eo.a.title},e),r.a.createElement("div",{className:Eo.a.container},r.a.createElement("div",{className:Eo.a.formContainer},r.a.createElement(Ra.a,null,r.a.createElement(Fa.a,{md:4},r.a.createElement(Co,{onImageLoaded:this.onImageLoaded})),r.a.createElement(Fa.a,{md:8},r.a.createElement("p",{className:Eo.a.userData},"Datos del usuario"),r.a.createElement(Lo,{loading:this.state.loading,onSave:this.onSave,update:a,user:n}))))))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.uid;this.props.toUpdate?this.prepareUserForUpdate():e&&this.getUserToUpdate(e)}},{key:"componentDidUpdate",value:function(){this.props.toUpdate&&!this.state.user&&this.prepareUserForUpdate()}},{key:"componentWillUnmount",value:function(){this.props.setToUpdate(null)}},{key:"getUserToUpdate",value:function(e){this.props.getUser(e,!0)}},{key:"prepareUserForUpdate",value:function(){var e=this.props.toUpdate,t={id:{value:e.id,error:null},active:{value:e.active},birthday_date:{value:new Date(e.birthday_date)},email:{value:e.email,error:null},gender:{value:e.gender},is_admin:{value:e.is_admin},last_name:{value:e.last_name,error:null},name:{value:e.name,error:null},username:{value:e.username,error:null},id_role:{value:e.Role.id}};this.setState({update:!0,user:t})}},{key:"onImageLoaded",value:function(e){this.setState({image:e})}},{key:"onSave",value:function(){var e=Object(ve.a)(he.a.mark((function e(t){var a,n,r,i,c,s,o,l,u,p,d;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===(a=Object.assign({},t)).password.trim()&&delete a.password,n=Mo(a.name,a.last_name),a.thumbnail_alias=n,(r=this.state.update)||(a.color=Do(),2===a.id_role&&(a.id_avatar_variation=1)),this.setState({loading:!0}),!this.state.image){e.next=14;break}return i=this.state.image,c="".concat(t.username,".png"),e.next=12,this.props.uploadProfileImage(i,c);case 12:(s=e.sent).error||(o=s.data.path,a.profile_img=o);case 14:if(l=this.props.match.params.tid,!r){e.next=21;break}return e.next=18,this.props.updateUser(a,l);case 18:e.t0=e.sent,e.next=24;break;case 21:return e.next=23,this.props.register(a);case 23:e.t0=e.sent;case 24:u=e.t0,p=u.error,d=u.message,this.setState({loading:!1}),this.props.setNotification({error:p,message:d,slide:!0}),this.props.history.goBack();case 29:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(n.Component),Ro={getUser:Na,register:function(e){return Object(ve.a)(he.a.mark((function t(){var a,n,r,i,c,s;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(kt,"/auth/register"),t.prev=1,t.next=4,be.a.post(a,{user:e});case 4:return n=t.sent,r=n.data,i=r.message,c=r.status,s=200!==c,t.abrupt("return",{error:s,message:i});case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",{error:!0,message:t.t0});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))},updateUser:function(e,t){return function(){var a=Object(ve.a)(he.a.mark((function a(n){var r,i,c,s,o,l,u;return he.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r="".concat(xa,"/user/").concat(e.id),a.prev=1,a.next=4,be.a.put(r,{user:e});case 4:return i=a.sent,c=i.data,s=c.data,o=c.message,l=c.status,(u=200!==l)||e.id!==t||n({type:ae,payload:{user:s}}),a.abrupt("return",{error:u,message:o});case 11:return a.prev=11,a.t0=a.catch(1),a.abrupt("return",{error:!0,message:a.t0});case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()},uploadProfileImage:function(e,t){return Object(ve.a)(he.a.mark((function a(){var n,r,i,c,s,o,l,u;return he.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n="".concat("https://satrelo-qa.ddns.net/api","/plugin/upload-profile-image"),a.prev=1,(r=new FormData).append("file",e,t),a.next=6,be.a.post(n,r,{headers:{"Content-Type":"multipart/form-data;"}});case 6:return i=a.sent,c=i.data,s=c.data,o=c.message,l=c.status,u=200!==l,a.abrupt("return",{data:s,error:u,message:o});case 12:return a.prev=12,a.t0=a.catch(1),a.abrupt("return",{error:!0,message:a.t0});case 15:case"end":return a.stop()}}),a,null,[[1,12]])})))},setNotification:oe,setToUpdate:Ia},Fo=Object(h.b)((function(e){return{toUpdate:e.user.toUpdate}}),Ro)(Uo),Bo=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).calculateVOffset=n.calculateVOffset.bind(Object(o.a)(n)),n.setWindowSize=n.setWindowSize.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},this.props.ui.parallax&&r.a.createElement("div",{className:"App-parallax-bg"}),r.a.createElement(Ut,null),this.props.ui.showAvatar?this.props.ui.windowWidth>=768?r.a.createElement("div",{className:"flex avatar-container",style:{"--vOffset":"".concat(this.props.ui.vOffset,"px")}},r.a.createElement(Me,null)):r.a.createElement(qt,null):null,this.props.ui.modal&&r.a.createElement(ja,null),this.props.ui.showMobileMenu&&r.a.createElement(Xt,null),this.props.ui.notification&&r.a.createElement(We,null),r.a.createElement(m.a,{className:"App-container",fluid:!0,style:{"--vOffset":"".concat(this.props.ui.vOffset,"px")}},r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:_n}),r.a.createElement(d.b,{exact:!0,path:"/paciente",component:Ei}),r.a.createElement(Ma,{exact:!0,path:"/paciente/:pid/actividades",component:zr}),r.a.createElement(Ma,{exact:!0,path:"/paciente/:pid/colecciones",component:si}),r.a.createElement(Ma,{exact:!0,path:"/paciente/:pid/colecciones/:id/coleccionable/:cid",component:Kr}),r.a.createElement(Ma,{exact:!0,path:"/paciente/:pid/actividades/:aid/sesiones/:sid",component:Ti}),r.a.createElement(Ma,{exact:!0,path:"/terapeuta/:tid/perfil",component:_r}),r.a.createElement(Ma,{exact:!0,path:"/terapeuta/:tid/pacientes/:pid/actividades",component:Qi}),r.a.createElement(Ma,{exact:!0,path:"/terapeuta/:tid/pacientes/:pid/configuracion",component:kc}),r.a.createElement(Ma,{exact:!0,path:"/terapeuta/:tid/pacientes/:pid/actividades/:aid/:kind",component:zs}),r.a.createElement(Ma,{exact:!0,path:"/terapeuta/:tid/pacientes/:pid/actividades/:kind",component:zs}),r.a.createElement(d.b,{exact:!0,path:"/terapeuta",component:Zs}),r.a.createElement(Ma,{exact:!0,path:"/terapeuta/:tid/pacientes",component:uo}),r.a.createElement(Ma,{exact:!0,path:"/terapeuta/:tid/admin",component:yo}),r.a.createElement(Ma,{exact:!0,path:"/terapeuta/:tid/nuevo",component:Fo}),r.a.createElement(Ma,{exact:!0,path:"/terapeuta/:tid/editar/:uid",component:Fo}))))}}]),Object(l.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.setWindowSize),this.calculateVOffset(window.innerWidth),Ee.init("es-MX"),this.status=new Te(this)}},{key:"componentDidUpdate",value:function(e){this.calculateVOffset(window.innerWidth);var t=this.props.connection,a=t.connectSocket,n=t.checkServerStatus;a!==e.connection.connectSocket&&Ne.handleConnection(this.props.connection,this),n!==e.connection.checkServerStatus&&this.checkServerStatus(n)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setWindowSize)}},{key:"calculateVOffset",value:function(e){var t=this.props.ui.showAvatar&&e<768?182:62;this.props.ui.vOffset&&t===this.props.ui.vOffset||this.props.setVOffset(t)}},{key:"checkServerStatus",value:function(e){this.status.checkServerStatus(e,!1,Ne)}},{key:"setWindowSize",value:function(){var e=window.innerWidth;this.props.setWindowWidth(e),e>=768&&this.props.showMobileMenu(!1),this.calculateVOffset(e)}}]),a}(n.Component),zo={ping:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(ve.a)(he.a.mark((function t(){var a,n,r,i,c,s;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(e?ge:_e,"/ping"),t.prev=1,t.next=4,be.a.get(a);case 4:return n=t.sent,r=n.data,i=r.message,c=r.status,s=200!==c,t.abrupt("return",{error:s,message:i,status:c});case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",{error:!0,message:t.t0,status:500});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))},setConnectedId:Oe,showMobileMenu:de,setFullScreen:ce,setNotification:oe,setVOffset:function(e){return function(t){t({type:J,payload:{vOffset:e}})}},setWindowWidth:function(e){return function(t){t({type:Q,payload:{width:e}})}}},qo=Object(h.b)((function(e){return{connection:e.connection,ui:e.ui}}),zo)(Bo),Wo=a(68),Vo=a(237),Ho=a(238),Go={activities:null,activity:null,sessions:null,session:null},Ko=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Go,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(yt.a)(Object(yt.a)({},e),{},{activities:t.payload.activities});case f:return Object(yt.a)(Object(yt.a)({},e),{},{activity:t.payload.activity});case g:return Object(yt.a)(Object(yt.a)({},e),{},{sessions:t.payload.sessions});case b:return Object(yt.a)(Object(yt.a)({},e),{},{session:t.payload.session});default:return e}},Xo="".concat(st,"Token"),Zo="".concat(ot,"Token"),Yo=(Mc={},Object(kn.a)(Mc,Xo,localStorage.getItem(Xo)||null),Object(kn.a)(Mc,Zo,localStorage.getItem(Zo)||null),Mc),Jo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(yt.a)(Object(yt.a)({},e),{},Object(kn.a)({},Xo,t.payload.token));case O:return Object(yt.a)(Object(yt.a)({},e),{},Object(kn.a)({},Zo,t.payload.token));default:return e}},Qo={message:null,variations:null},$o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(yt.a)(Object(yt.a)({},e),{},{message:t.payload.message});case k:var a=t.payload.variation,n=Object.values(e.variations),r=0;return n.forEach((function(e,t){a.id===e.id&&a.id_avatar===e.id_avatar&&(r=t)})),n[r]=a,n=Object.assign.apply(Object,[{}].concat(Object(En.a)(n.map((function(e){return Object(kn.a)({},e.id,e)}))))),Object(yt.a)(Object(yt.a)({},e),{},{variations:n});case E:return Object(yt.a)(Object(yt.a)({},e),{},{variations:t.payload.variations});default:return e}},el={collections:null,collectable:null},tl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:el,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(yt.a)(Object(yt.a)({},e),{},{collections:t.payload.collections});case D:return Object(yt.a)(Object(yt.a)({},e),{},{collectable:t.payload.collectable});case L:var a=t.payload.data,n=a.collectableId,r=a.collectionId,i=e.collections,c=i[r],s=c.Collectables,o=s[n],l=o.Skins;return Object(yt.a)(Object(yt.a)({},e),{},{collections:Object(yt.a)(Object(yt.a)({},i),{},Object(kn.a)({},r,Object(yt.a)(Object(yt.a)({},c),{},{Collectables:Object(yt.a)(Object(yt.a)({},s),{},Object(kn.a)({},n,Object(yt.a)(Object(yt.a)({},o),{},{Skins:Object(yt.a)(Object(yt.a)({},l),{},{owned:!0})})))})))});case M:var u=t.payload.data,p=u.skinId,d=e.collectable,m=d.Skins,h=m[p];return Object(yt.a)(Object(yt.a)({},e),{},{collectable:Object(yt.a)(Object(yt.a)({},d),{},{Skins:Object(yt.a)(Object(yt.a)({},m),{},Object(kn.a)({},p,Object(yt.a)(Object(yt.a)({},h),{},{owned:!0})))})});default:return e}},al={configuration:null},nl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:al,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(yt.a)(Object(yt.a)({},e),{},{configuration:null});case j:return Object(yt.a)(Object(yt.a)({},e),{},{configuration:t.payload.configuration});default:return e}},rl={checkServerStatus:!1,connectedId:null,connectSocket:!1},il=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(yt.a)(Object(yt.a)({},e),{},{checkServerStatus:t.payload.check});case R:return Object(yt.a)(Object(yt.a)({},e),{},{connectedId:t.payload.connectedId});case F:return Object(yt.a)(Object(yt.a)({},e),{},{connectSocket:t.payload.connectSocket});default:return e}},cl={mechanic:{id:"mechanic",first:!0,multichoice:!1,next:"situations",options:null,reset:["situations","times","reader"],subtitle:"Selecciona la mec\xe1nica de la actividad que deseas trabajar\n                    con tu paciente. Esta selecci\xf3n desbloquea las situaciones\n                    que se pueden trabajar en la actividad.",title:"1. Mec\xe1nica de la actividad"},situations:{id:"situations",multichoice:!1,next:"times",options:null,required:["mechanic"],reset:["times","reader"],subtitle:"Elige una situaci\xf3n particular para trabajar en la actividad.\n                    Esta selecci\xf3n desbloquea los tiempos gramaticales.",title:"2. Situaciones"},times:{id:"times",multichoice:!1,next:"reader",options:null,reset:["reader"],subtitle:"Selecciona el tiempo gramatical (pasado, presente, futuro...)\n                    que deseas trabajar en la actividad.",title:"3. Tiempos gramaticales"},reader:{id:"reader",multichoice:!1,next:null,options:null,reset:null,subtitle:"Selecciona si tu paciente cuenta con proceso lector o no.",title:"4. \xbfEl paciente cuenta con proceso lector?"}},sl=function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cl,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case C:return e=a[t=n.payload.fieldId],Object(yt.a)(Object(yt.a)({},a),{},Object(kn.a)({},t,Object(yt.a)(Object(yt.a)({},e),{},{options:null})));case x:return e=a[t=n.payload.fieldId],Object(yt.a)(Object(yt.a)({},a),{},Object(kn.a)({},t,Object(yt.a)(Object(yt.a)({},e),{},{options:n.payload.options})));case N:e=a[t=n.payload.fieldId];var r=Object.values(Object(yt.a)({},e.options)),i=n.payload.optionId;return r.forEach((function(e){e.selected=e.id===i})),Object(yt.a)(Object(yt.a)({},a),{},Object(kn.a)({},t,Object(yt.a)(Object(yt.a)({},e),{},{options:r})));default:return a}},ol={feedDate:new Date,feedData:null},ll=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ol,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(yt.a)(Object(yt.a)({},e),{},{feedData:t.payload.feedData});case z:return Object(yt.a)(Object(yt.a)({},e),{},{feedDate:t.payload.feedDate});default:return e}},ul={patients:null,patient:null},pl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ul,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:var a=t.payload._association,n=a._id_therapist,r=a._id_patient,i=e.patients[r];if(i.Therapists_Patients){var c=Object(yt.a)({},e.patients);return delete c[r],Object(yt.a)(Object(yt.a)({},e),{},{patients:c})}var s=Object(yt.a)({},i.Therapists);return delete s[n],Object(yt.a)(Object(yt.a)({},e),{},{patients:Object(yt.a)(Object(yt.a)({},e.patients),{},Object(kn.a)({},r,Object(yt.a)(Object(yt.a)({},i),{},{Therapists:s})))});case W:var o=t.payload.association,l=o.id_therapist,u=o.id_patient,p=e.patients[u],d=p.Therapists;return Object(yt.a)(Object(yt.a)({},e),{},{patients:Object(yt.a)(Object(yt.a)({},e.patients),{},Object(kn.a)({},u,Object(yt.a)(Object(yt.a)({},p),{},{Therapists:Object(yt.a)(Object(yt.a)({},d),{},Object(kn.a)({},l,o))})))});case V:return Object(yt.a)(Object(yt.a)({},e),{},{patients:t.payload.patients});case H:return Object(yt.a)(Object(yt.a)({},e),{},{patient:t.payload.patient});default:return e}},dl={category:{id:"category",first:!0,next:"subcategory",multichoice:!1,options:null,reset:["subcategory","sintactic","vocabulary","mechanic"],subtitle:"Elige una categor\xeda sem\xe1ntica para desbloquear la opci\xf3n\n                    Subcategor\xeda sem\xe1ntica.",title:"1. Categor\xeda sem\xe1ntica"},subcategory:{id:"subcategory",multichoice:!1,next:"sintactic",options:null,required:["category"],reset:["sintactic","vocabulary","mechanic"],subtitle:"Elige una de las subcategor\xedas sem\xe1nticas asociadas a la\n                    categor\xeda sem\xe1ntica elegida. Esta selecci\xf3n desbloquea la\n                    opci\xf3n Estructura sint\xe1ctica.",title:"2. Subcategor\xeda sem\xe1ntica"},sintactic:{id:"sintactic",multichoice:!1,next:"vocabulary",options:null,reset:["vocabulary","mechanic"],subtitle:"Elige la estructura sint\xe1ctica que deseas trabajar con tu\n                    paciente y desbloquea el vocabulario asociado.",title:"3. Estructura sint\xe1ctica"},vocabulary:{id:"vocabulary",minimum:3,multichoice:!0,next:"mechanic",options:null,required:["subcategory","sintactic"],reset:["mechanic"],subtitle:"Elige las palabras asociadas que quieres trabajar con tu\n                    paciente en la actividad (m\xednimo 3). Al elegir el vocabulario\n                    se desbloquea la mec\xe1nica de la actividad.",title:"4. Vocabulario asociado"},mechanic:{id:"mechanic",multichoice:!1,next:null,options:null,required:["subcategory","sintactic"],reset:null,subtitle:"Elige la mec\xe1nica de la actividad que deseas trabajar con\n                    tu paciente.",title:"5. Mec\xe1nica de la actividad"}},ml=function(){var e,t,a,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dl,i=arguments.length>1?arguments[1]:void 0;switch(i.type){case w:e=r[t=i.payload.fieldId],a=i.payload.optionId;var c=(n=Object(yt.a)({},e.options))[a];return c.selected=!c.selected||!c.selected,Object(yt.a)(Object(yt.a)({},r),{},Object(kn.a)({},t,Object(yt.a)(Object(yt.a)({},e),{},{options:n})));case T:return e=r[t=i.payload.fieldId],Object(yt.a)(Object(yt.a)({},r),{},Object(kn.a)({},t,Object(yt.a)(Object(yt.a)({},e),{},{options:null})));case I:return e=r[t=i.payload.fieldId],Object(yt.a)(Object(yt.a)({},r),{},Object(kn.a)({},t,Object(yt.a)(Object(yt.a)({},e),{},{options:i.payload.options})));case A:return t=i.payload.fieldId,a=i.payload.optionId,e=r[t],(n=Object.values(Object(yt.a)({},e.options))).forEach((function(e){e.selected=e.id===a})),n=Object.assign.apply(Object,[{}].concat(Object(En.a)(n.map((function(e){return Object(kn.a)({},e.id,e)}))))),Object(yt.a)(Object(yt.a)({},r),{},Object(kn.a)({},e.id,Object(yt.a)(Object(yt.a)({},e),{},{options:n})));default:return r}},hl={bar:"standard",fullScreen:!1,modal:null,notification:null,parallax:!1,showAvatar:!1,showCreateActivityButton:!1,showMobileMenu:!1,vOffset:null,windowWidth:window.innerWidth},vl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(yt.a)(Object(yt.a)({},e),{},{bar:t.payload.bar});case K:return Object(yt.a)(Object(yt.a)({},e),{},{fullScreen:t.payload.fullScreen});case X:return Object(yt.a)(Object(yt.a)({},e),{},{modal:t.payload.modal});case Z:return Object(yt.a)(Object(yt.a)({},e),{},{notification:t.payload.notification});case Y:return Object(yt.a)(Object(yt.a)({},e),{},{parallax:t.payload.parallax});case J:return Object(yt.a)(Object(yt.a)({},e),{},{vOffset:t.payload.vOffset});case Q:return Object(yt.a)(Object(yt.a)({},e),{},{windowWidth:t.payload.width});case $:return Object(yt.a)(Object(yt.a)({},e),{},{showAvatar:t.payload.show});case ee:return Object(yt.a)(Object(yt.a)({},e),{},{showCreateActivityButton:t.payload.show});case te:return Object(yt.a)(Object(yt.a)({},e),{},{showMobileMenu:t.payload.show});default:return e}},fl={user:null,users:null,toUpdate:null},bl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return Object(yt.a)(Object(yt.a)({},e),{},{user:t.payload.user});case ne:return Object(yt.a)(Object(yt.a)({},e),{},{users:t.payload.users});case re:return Object(yt.a)(Object(yt.a)({},e),{},{toUpdate:t.payload.user});default:return e}},gl=Object(Wo.combineReducers)({activity:Ko,auth:Jo,avatar:$o,collection:tl,configuration:nl,connection:il,dynamic:sl,feedback:ll,patient:pl,static:ml,ui:vl,user:bl}),_l=[Ho.a],Ol=Object(Vo.composeWithDevTools)(Wo.applyMiddleware.apply(void 0,_l)),yl=Object(Wo.createStore)(gl,Ol);c.a.render(r.a.createElement(h.a,{store:yl},r.a.createElement(Je.a,null,r.a.createElement(qo,null))),document.getElementById("root"))},50:function(e,t,a){e.exports={container:"SUserNav_container__piflN",link:"SUserNav_link__1lXdk",uimage:"SUserNav_uimage__JCXUR",thumb:"SUserNav_thumb__2Xh2m",linksContainer:"SUserNav_linksContainer__1HsbN"}},51:function(e,t,a){e.exports={container:"SMenu_container__2Yxhb",image:"SMenu_image__3j8T_",item:"SMenu_item__2y48J",menu:"SMenu_menu__1wwem",name:"SMenu_name__2VPRa",toggle:"SMenu_toggle__3ImI5",thumb:"SMenu_thumb__1bxk3"}},52:function(e,t,a){e.exports={container:"STActivitiesPage_container__Dkttc",listContainer:"STActivitiesPage_listContainer__3H82W",link:"STActivitiesPage_link__Zp_iB",title:"STActivitiesPage_title__3hloJ",titleContainer:"STActivitiesPage_titleContainer__15GGo",btn:"STActivitiesPage_btn__10Nfo",btnContainer:"STActivitiesPage_btnContainer___q4t_"}},53:function(e,t,a){e.exports={btn:"STConfigurationPage_btn__2Q1aY",btnContainer:"STConfigurationPage_btnContainer__2lvgp",btnSelected:"STConfigurationPage_btnSelected__3TLjP",container:"STConfigurationPage_container__1SfrO",create:"STConfigurationPage_create__V1e0R",createContainer:"STConfigurationPage_createContainer__ejmW4",title:"STConfigurationPage_title__SAFHt"}},54:function(e,t,a){e.exports={btn:"STSession_btn__1HRAO",container:"STSession_container__3BTNV",date:"STSession_date__1obRt",first:"STSession_first__305GI",innerContainer:"STSession_innerContainer__267Re",last:"STSession_last__9rLEC",selected:"STSession_selected__3sDgP",time:"STSession_time__AqmmZ",title:"STSession_title__3nRh1"}},57:function(e,t,a){e.exports={subtitle:"Feedback_subtitle__2jAva"}},59:function(e,t,a){e.exports={border:"SBubbleNotification_border__2HzhK",container:"SBubbleNotification_container__1FKzp",containerDesktop:"SBubbleNotification_containerDesktop__rEvZS",slide:"SBubbleNotification_slide__1vY3y",containerMobile:"SBubbleNotification_containerMobile__3rxZT","slide-mobile":"SBubbleNotification_slide-mobile__1HxUQ",error:"SBubbleNotification_error__30IdJ",iconContainer:"SBubbleNotification_iconContainer__3mpCw",message:"SBubbleNotification_message__3kJu1",success:"SBubbleNotification_success__6BfMy"}},60:function(e,t,a){e.exports={description:"SAvatarInfo_description__3-0RK",title:"SAvatarInfo_title__2_kr2",image:"SAvatarInfo_image__33PTx",avatarSide:"SAvatarInfo_avatarSide__2ypT8",container:"SAvatarInfo_container__1oU3a",innerContainer:"SAvatarInfo_innerContainer__DZUKW",sides:"SAvatarInfo_sides__2mJaW"}},61:function(e,t,a){e.exports={alias:"SUserHero_alias__30gX0",col:"SUserHero_col__2-y6V",container:"SUserHero_container__2HQOn",header:"SUserHero_header__208gI",row:"SUserHero_row__2JNLW",userContainer:"SUserHero_userContainer__2iKG9",uimage:"SUserHero_uimage__1pTXn",uname:"SUserHero_uname__ahWoO"}},62:function(e,t,a){e.exports={btn:"SPActivity_btn__31_lh",btnContainer:"SPActivity_btnContainer__kCgAz",container:"SPActivity_container__DgMeO",gameContainer:"SPActivity_gameContainer__3PhTU",gameDescription:"SPActivity_gameDescription__WhuKO",gameTitle:"SPActivity_gameTitle__2kzT7",gameImage:"SPActivity_gameImage__2yi6e"}},63:function(e,t,a){e.exports={container:"STActivityButtons_container__1PhPU",delete:"STActivityButtons_delete__2Uhk7",ml:"STActivityButtons_ml__2AZ8H",btn:"STActivityButtons_btn__3YbeY"}},64:function(e,t,a){e.exports={btnSelected:"STPatientsPage_btnSelected__1YXjO",listContainer:"STPatientsPage_listContainer__2Gd2S",searchContainer:"STPatientsPage_searchContainer__3wZs0",title:"STPatientsPage_title__ShvPl",btn:"STPatientsPage_btn__3XsPy",btnContainer:"STPatientsPage_btnContainer__2U2bb"}},65:function(e,t,a){e.exports={btnEdit:"SAUser_btnEdit__31k6p",container:"SAUser_container__3jGeH",identification:"SAUser_identification__10yNg",infoContainer:"SAUser_infoContainer__1c1tt",name:"SAUser_name__2r1LZ",thumb:"SAUser_thumb__3j8ix",uimage:"SAUser_uimage__12AXo"}},66:function(e,t,a){e.exports={btnFile:"SAImageLoader_btnFile__yC3tC",container:"SAImageLoader_container__1TFBc",hidden:"SAImageLoader_hidden__22hCG",hiddenImage:"SAImageLoader_hiddenImage__5cF78",icon:"SAImageLoader_icon__gFXGj",iconContainer:"SAImageLoader_iconContainer__1f591",innerContainer:"SAImageLoader_innerContainer__wBoVn",text:"SAImageLoader_text__nMsm9"}},72:function(e,t,a){e.exports={container:"SDevelop_container__HmJ_4",innerContainer:"SDevelop_innerContainer__1B2tR",icon:"SDevelop_icon__3Z57o",logoImage:"SDevelop_logoImage__3Nyb1",logoContainer:"SDevelop_logoContainer__2JtP6",text:"SDevelop_text__19GGD"}},73:function(e,t,a){e.exports={btn:"SPCollectable_btn__3F17S",btnBuy:"SPCollectable_btnBuy__11AV6",container:"SPCollectable_container__CqgDH",info:"SPCollectable_info__3Xpgw",owned:"SPCollectable_owned__2OLUo",name:"SPCollectable_name__3fJXU",points:"SPCollectable_points__HH131"}},78:function(e,t,a){e.exports={collapse:"SNav_collapse__2uCCs",container:"SNav_container__3BYn3",link:"SNav_link__2b-Aa",nav:"SNav_nav__2ju7l",navItem:"SNav_navItem__3yLMc",toggler:"SNav_toggler___z89_"}},79:function(e,t,a){e.exports={container:"SMenuHeader_container__2AI3m",email:"SMenuHeader_email__24phy",image:"SMenuHeader_image__1tOAl",name:"SMenuHeader_name__1VaY3",thumb:"SMenuHeader_thumb__2X4El"}},80:function(e,t,a){e.exports={btn:"SMobileMenu_btn__7TQ_l",container:"SMobileMenu_container__jacuL",linksContainer:"SMobileMenu_linksContainer__2x0sy",menu:"SMobileMenu_menu__1s-WZ",menuAppear:"SMobileMenu_menuAppear__nI2vG",appearing:"SMobileMenu_appearing__1o-EH",menuDissapear:"SMobileMenu_menuDissapear__1w5mU",dissapearing:"SMobileMenu_dissapearing__1bsOp"}},81:function(e,t,a){e.exports={container:"SMobile_container__oh5ja",description:"SMobile_description__14LjU",image:"SMobile_image__117mR",imageContainer:"SMobile_imageContainer__PDg_q",innerContainer:"SMobile_innerContainer__3ytUQ",title:"SMobile_title__1WjAc"}},82:function(e,t,a){e.exports={btn:"SProfilePage_btn__1Wku0",container:"SProfilePage_container__2q-hR",selected:"SProfilePage_selected__1AZjc",options:"SProfilePage_options__pByhO",optContainer:"SProfilePage_optContainer__1jqmL"}},88:function(e,t,a){e.exports={bar:"SHeaderBar_bar__1eNh0",logo:"SHeaderBar_logo__3n5pz",navbrand:"SHeaderBar_navbrand__1-Xwa",patientBar:"SHeaderBar_patientBar__3eQ_s",standardBar:"SHeaderBar_standardBar__3xag7"}},89:function(e,t,a){e.exports={container:"SLandingPage_container__K3tRn",features:"SLandingPage_features__21L35",featuresTitle:"SLandingPage_featuresTitle__MBjjQ",mainIdea:"SLandingPage_mainIdea__1bR4Q",mainPhrase:"SLandingPage_mainPhrase__1dI-F"}},90:function(e,t,a){e.exports={container:"SFeature_container__3-EK4",description:"SFeature_description__3okm9",infoContainer:"SFeature_infoContainer__zhU2k",logo:"SFeature_logo__fkInR",title:"SFeature_title__3GzMp"}},91:function(e,t,a){e.exports={btn:"SSkinItem_btn__100ay",btnContainer:"SSkinItem_btnContainer__1G1SF",container:"SSkinItem_container__26nnT",alt:"SSkinItem_alt__cvVGs",owned:"SSkinItem_owned__3WvlR"}},93:function(e,t,a){e.exports={container:"STField_container__kHP5P",optionCol:"STField_optionCol__2DSLX",optionRow:"STField_optionRow__2-rBu",title:"STField_title__2uhn3",subtitle:"STField_subtitle__ZguRN"}},94:function(e,t,a){e.exports={btn:"STLogin_btn__3Kn5c",container:"STLogin_container__2KaZ9",label:"STLogin_label__3ot6S",title:"STLogin_title__zrpZb"}}},[[461,1,2]]]);
//# sourceMappingURL=main.034c3f55.chunk.js.map